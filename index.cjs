#!/usr/bin/env node
var Fn=Object.create;var ge=Object.defineProperty;var Yn=Object.getOwnPropertyDescriptor;var Hn=Object.getOwnPropertyNames,ft=Object.getOwnPropertySymbols,Vn=Object.getPrototypeOf,mt=Object.prototype.hasOwnProperty,Nn=Object.prototype.propertyIsEnumerable;var pt=(i,e,t)=>e in i?ge(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,W=(i,e)=>{for(var t in e||(e={}))mt.call(e,t)&&pt(i,t,e[t]);if(ft)for(var t of ft(e))Nn.call(e,t)&&pt(i,t,e[t]);return i};var Ln=i=>ge(i,"__esModule",{value:!0});var u=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var Un=(i,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Hn(e))!mt.call(i,r)&&(t||r!=="default")&&ge(i,r,{get:()=>e[r],enumerable:!(s=Yn(e,r))||s.enumerable});return i},G=(i,e)=>Un(Ln(ge(i!=null?Fn(Vn(i)):{},"default",!e&&i&&i.__esModule?{get:()=>i.default,enumerable:!0}:{value:i,enumerable:!0})),i);var f=u((tu,bt)=>{"use strict";var{FORCE_COLOR:Gn,NODE_DISABLE_COLORS:Jn,TERM:zn}=process.env,c={enabled:!Jn&&zn!=="dumb"&&Gn!=="0",reset:d(0,0),bold:d(1,22),dim:d(2,22),italic:d(3,23),underline:d(4,24),inverse:d(7,27),hidden:d(8,28),strikethrough:d(9,29),black:d(30,39),red:d(31,39),green:d(32,39),yellow:d(33,39),blue:d(34,39),magenta:d(35,39),cyan:d(36,39),white:d(37,39),gray:d(90,39),grey:d(90,39),bgBlack:d(40,49),bgRed:d(41,49),bgGreen:d(42,49),bgYellow:d(43,49),bgBlue:d(44,49),bgMagenta:d(45,49),bgCyan:d(46,49),bgWhite:d(47,49)};function gt(i,e){let t=0,s,r="",o="";for(;t<i.length;t++)s=i[t],r+=s.open,o+=s.close,e.includes(s.close)&&(e=e.replace(s.rgx,s.close+s.open));return r+e+o}function Bn(i,e){let t={has:i,keys:e};return t.reset=c.reset.bind(t),t.bold=c.bold.bind(t),t.dim=c.dim.bind(t),t.italic=c.italic.bind(t),t.underline=c.underline.bind(t),t.inverse=c.inverse.bind(t),t.hidden=c.hidden.bind(t),t.strikethrough=c.strikethrough.bind(t),t.black=c.black.bind(t),t.red=c.red.bind(t),t.green=c.green.bind(t),t.yellow=c.yellow.bind(t),t.blue=c.blue.bind(t),t.magenta=c.magenta.bind(t),t.cyan=c.cyan.bind(t),t.white=c.white.bind(t),t.gray=c.gray.bind(t),t.grey=c.grey.bind(t),t.bgBlack=c.bgBlack.bind(t),t.bgRed=c.bgRed.bind(t),t.bgGreen=c.bgGreen.bind(t),t.bgYellow=c.bgYellow.bind(t),t.bgBlue=c.bgBlue.bind(t),t.bgMagenta=c.bgMagenta.bind(t),t.bgCyan=c.bgCyan.bind(t),t.bgWhite=c.bgWhite.bind(t),t}function d(i,e){let t={open:`\x1B[${i}m`,close:`\x1B[${e}m`,rgx:new RegExp(`\\x1b\\[${e}m`,"g")};return function(s){return this!==void 0&&this.has!==void 0?(this.has.includes(i)||(this.has.push(i),this.keys.push(t)),s===void 0?this:c.enabled?gt(this.keys,s+""):s+""):s===void 0?Bn([i],[t]):c.enabled?gt([t],s+""):s+""}}bt.exports=c});var yt=u((iu,vt)=>{"use strict";vt.exports=(i,e)=>{if(!(i.meta&&i.name!=="escape")){if(i.ctrl){if(i.name==="a")return"first";if(i.name==="c"||i.name==="d")return"abort";if(i.name==="e")return"last";if(i.name==="g")return"reset"}if(e){if(i.name==="j")return"down";if(i.name==="k")return"up"}return i.name==="return"||i.name==="enter"?"submit":i.name==="backspace"?"delete":i.name==="delete"?"deleteForward":i.name==="abort"?"abort":i.name==="escape"?"exit":i.name==="tab"?"next":i.name==="pagedown"?"nextPage":i.name==="pageup"?"prevPage":i.name==="home"?"home":i.name==="end"?"end":i.name==="up"?"up":i.name==="down"?"down":i.name==="right"?"right":i.name==="left"?"left":!1}}});var be=u((su,wt)=>{"use strict";wt.exports=i=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),t=new RegExp(e,"g");return typeof i=="string"?i.replace(t,""):i}});var m=u((ru,xt)=>{"use strict";var je="\x1B",p=`${je}[`,Wn="\x07",Ee={to(i,e){return e?`${p}${e+1};${i+1}H`:`${p}${i+1}G`},move(i,e){let t="";return i<0?t+=`${p}${-i}D`:i>0&&(t+=`${p}${i}C`),e<0?t+=`${p}${-e}A`:e>0&&(t+=`${p}${e}B`),t},up:(i=1)=>`${p}${i}A`,down:(i=1)=>`${p}${i}B`,forward:(i=1)=>`${p}${i}C`,backward:(i=1)=>`${p}${i}D`,nextLine:(i=1)=>`${p}E`.repeat(i),prevLine:(i=1)=>`${p}F`.repeat(i),left:`${p}G`,hide:`${p}?25l`,show:`${p}?25h`,save:`${je}7`,restore:`${je}8`},Zn={up:(i=1)=>`${p}S`.repeat(i),down:(i=1)=>`${p}T`.repeat(i)},Kn={screen:`${p}2J`,up:(i=1)=>`${p}1J`.repeat(i),down:(i=1)=>`${p}J`.repeat(i),line:`${p}2K`,lineEnd:`${p}K`,lineStart:`${p}1K`,lines(i){let e="";for(let t=0;t<i;t++)e+=this.line+(t<i-1?Ee.up():"");return i&&(e+=Ee.left),e}};xt.exports={cursor:Ee,scroll:Zn,erase:Kn,beep:Wn}});var Pt=u((nu,Mt)=>{"use strict";function Xn(i,e){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=Qn(i))||e&&i&&typeof i.length=="number"){t&&(i=t);var s=0,r=function(){};return{s:r,n:function(){return s>=i.length?{done:!0}:{done:!1,value:i[s++]}},e:function(a){throw a},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,n=!1,h;return{s:function(){t=t.call(i)},n:function(){var a=t.next();return o=a.done,a},e:function(a){n=!0,h=a},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(n)throw h}}}}function Qn(i,e){if(!!i){if(typeof i=="string")return St(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return St(i,e)}}function St(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=i[t];return s}var eo=be(),Ot=m(),qt=Ot.erase,to=Ot.cursor,io=i=>[...eo(i)].length;Mt.exports=function(i,e){if(!e)return qt.line+to.to(0);let t=0,s=i.split(/\r?\n/);var r=Xn(s),o;try{for(r.s();!(o=r.n()).done;){let n=o.value;t+=1+Math.floor(Math.max(io(n)-1,0)/e)}}catch(n){r.e(n)}finally{r.f()}return qt.lines(t)}});var ke=u((ou,Tt)=>{"use strict";var ee={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},so={arrowUp:ee.arrowUp,arrowDown:ee.arrowDown,arrowLeft:ee.arrowLeft,arrowRight:ee.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},ro=process.platform==="win32"?so:ee;Tt.exports=ro});var _t=u((hu,$t)=>{"use strict";var Z=f(),J=ke(),Re=Object.freeze({password:{scale:1,render:i=>"*".repeat(i.length)},emoji:{scale:2,render:i=>"\u{1F603}".repeat(i.length)},invisible:{scale:0,render:i=>""},default:{scale:1,render:i=>`${i}`}}),no=i=>Re[i]||Re.default,te=Object.freeze({aborted:Z.red(J.cross),done:Z.green(J.tick),exited:Z.yellow(J.cross),default:Z.cyan("?")}),oo=(i,e,t)=>e?te.aborted:t?te.exited:i?te.done:te.default,ho=i=>Z.gray(i?J.ellipsis:J.pointerSmall),lo=(i,e)=>Z.gray(i?e?J.pointerSmall:"+":J.line);$t.exports={styles:Re,render:no,symbols:te,symbol:oo,delimiter:ho,item:lo}});var It=u((lu,Dt)=>{"use strict";var uo=be();Dt.exports=function(i,e){let t=String(uo(i)||"").split(/\r?\n/);return e?t.map(s=>Math.ceil(s.length/e)).reduce((s,r)=>s+r):t.length}});var At=u((uu,Ct)=>{"use strict";Ct.exports=(i,e={})=>{let t=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",s=e.width;return(i||"").split(/\r?\n/g).map(r=>r.split(/\s+/g).reduce((o,n)=>(n.length+t.length>=s||o[o.length-1].length+n.length+1<s?o[o.length-1]+=` ${n}`:o.push(`${t}${n}`),o),[t]).join(`
`)).join(`
`)}});var Et=u((au,jt)=>{"use strict";jt.exports=(i,e,t)=>{t=t||e;let s=Math.min(e-t,i-Math.floor(t/2));s<0&&(s=0);let r=Math.min(s+t,e);return{startIndex:s,endIndex:r}}});var w=u((cu,kt)=>{"use strict";kt.exports={action:yt(),clear:Pt(),style:_t(),strip:be(),figures:ke(),lines:It(),wrap:At(),entriesToDisplay:Et()}});var D=u((du,Ht)=>{"use strict";var Rt=require("readline"),ao=w(),co=ao.action,fo=require("events"),Ft=m(),po=Ft.beep,mo=Ft.cursor,go=f(),Yt=class extends fo{constructor(e={}){super();this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>{})).bind(this);let t=Rt.createInterface({input:this.in,escapeCodeTimeout:50});Rt.emitKeypressEvents(this.in,t),this.in.isTTY&&this.in.setRawMode(!0);let s=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,r=(o,n)=>{let h=co(n,s);h===!1?this._&&this._(o,n):typeof this[h]=="function"?this[h](n):this.bell()};this.close=()=>{this.out.write(mo.show),this.in.removeListener("keypress",r),this.in.isTTY&&this.in.setRawMode(!1),t.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",r)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(po)}render(){this.onRender(go),this.firstRender&&(this.firstRender=!1)}};Ht.exports=Yt});var Jt=u((fu,Gt)=>{"use strict";function Vt(i,e,t,s,r,o,n){try{var h=i[o](n),l=h.value}catch(a){t(a);return}h.done?e(l):Promise.resolve(l).then(s,r)}function Nt(i){return function(){var e=this,t=arguments;return new Promise(function(s,r){var o=i.apply(e,t);function n(l){Vt(o,s,r,n,h,"next",l)}function h(l){Vt(o,s,r,n,h,"throw",l)}n(void 0)})}}var ve=f(),bo=D(),Lt=m(),vo=Lt.erase,ie=Lt.cursor,ye=w(),Fe=ye.style,Ye=ye.clear,yo=ye.lines,wo=ye.figures,Ut=class extends bo{constructor(e={}){super(e);this.transform=Fe.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=Ye("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=ve.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return Nt(function*(){let t=yield e.validator(e.value);typeof t=="string"&&(e.errorMsg=t,t=!1),e.error=!t})()}submit(){var e=this;return Nt(function*(){if(e.value=e.value||e.initial,e.cursorOffset=0,e.cursor=e.rendered.length,yield e.validate(),e.error){e.red=!0,e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,t){let s=this.value.slice(0,this.cursor),r=this.value.slice(this.cursor);this.value=`${s}${e}${r}`,this.red=!1,this.cursor=this.placeholder?0:s.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),t=this.value.slice(this.cursor);this.value=`${e}${t}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),t=this.value.slice(this.cursor+1);this.value=`${e}${t}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(ie.down(yo(this.outputError,this.out.columns)-1)+Ye(this.outputError,this.out.columns)),this.out.write(Ye(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Fe.symbol(this.done,this.aborted),ve.bold(this.msg),Fe.delimiter(this.done),this.red?ve.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,t,s)=>e+`
${s?" ":wo.pointerSmall} ${ve.red().italic(t)}`,"")),this.out.write(vo.line+ie.to(0)+this.outputText+ie.save+this.outputError+ie.restore+ie.move(this.cursorOffset,0)))}};Gt.exports=Ut});var Kt=u((pu,Zt)=>{"use strict";var I=f(),xo=D(),se=w(),zt=se.style,Bt=se.clear,we=se.figures,So=se.wrap,qo=se.entriesToDisplay,Oo=m(),Mo=Oo.cursor,Wt=class extends xo{constructor(e={}){super(e);this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((t,s)=>(typeof t=="string"&&(t={title:t,value:s}),{title:t&&(t.title||t.value||t),value:t&&(t.value===void 0?s:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=Bt("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,t){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(Mo.hide):this.out.write(Bt(this.outputText,this.out.columns)),super.render();let e=qo(this.cursor,this.choices.length,this.optionsPerPage),t=e.startIndex,s=e.endIndex;if(this.outputText=[zt.symbol(this.done,this.aborted),I.bold(this.msg),zt.delimiter(!1),this.done?this.selection.title:this.selection.disabled?I.yellow(this.warn):I.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let r=t;r<s;r++){let o,n,h="",l=this.choices[r];r===t&&t>0?n=we.arrowUp:r===s-1&&s<this.choices.length?n=we.arrowDown:n=" ",l.disabled?(o=this.cursor===r?I.gray().underline(l.title):I.strikethrough().gray(l.title),n=(this.cursor===r?I.bold().gray(we.pointer)+" ":"  ")+n):(o=this.cursor===r?I.cyan().underline(l.title):l.title,n=(this.cursor===r?I.cyan(we.pointer)+" ":"  ")+n,l.description&&this.cursor===r&&(h=` - ${l.description}`,(n.length+o.length+h.length>=this.out.columns||l.description.split(/\r?\n/).length>1)&&(h=`
`+So(l.description,{margin:3,width:this.out.columns})))),this.outputText+=`${n} ${o}${I.gray(h)}
`}}this.out.write(this.outputText)}};Zt.exports=Wt});var ri=u((mu,si)=>{"use strict";var xe=f(),Po=D(),ei=w(),Xt=ei.style,To=ei.clear,ti=m(),Qt=ti.cursor,$o=ti.erase,ii=class extends Po{constructor(e={}){super(e);this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,t){if(e===" ")this.value=!this.value;else if(e==="1")this.value=!0;else if(e==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(Qt.hide):this.out.write(To(this.outputText,this.out.columns)),super.render(),this.outputText=[Xt.symbol(this.done,this.aborted),xe.bold(this.msg),Xt.delimiter(this.done),this.value?this.inactive:xe.cyan().underline(this.inactive),xe.gray("/"),this.value?xe.cyan().underline(this.active):this.active].join(" "),this.out.write($o.line+Qt.to(0)+this.outputText))}};si.exports=ii});var q=u((gu,ni)=>{"use strict";var re=class{constructor({token:e,date:t,parts:s,locales:r}){this.token=e,this.date=t||new Date,this.parts=s||[this],this.locales=r||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((t,s)=>s>e&&t instanceof re)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),t=e.indexOf(this);return e.find((s,r)=>r>t&&s instanceof re)}toString(){return String(this.date)}};ni.exports=re});var li=u((bu,hi)=>{"use strict";var _o=q(),oi=class extends _o{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}};hi.exports=oi});var ci=u((vu,ai)=>{"use strict";var Do=q(),Io=i=>(i=i%10,i===1?"st":i===2?"nd":i===3?"rd":"th"),ui=class extends Do{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),t=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+Io(e):this.token==="d"?t+1:this.token==="ddd"?this.locales.weekdaysShort[t]:this.token==="dddd"?this.locales.weekdays[t]:e}};ai.exports=ui});var pi=u((yu,fi)=>{"use strict";var Co=q(),di=class extends Co{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}};fi.exports=di});var bi=u((wu,gi)=>{"use strict";var Ao=q(),mi=class extends Ao{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};gi.exports=mi});var wi=u((xu,yi)=>{"use strict";var jo=q(),vi=class extends jo{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}};yi.exports=vi});var qi=u((Su,Si)=>{"use strict";var Eo=q(),xi=class extends Eo{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),t=this.token.length;return t===2?String(e+1).padStart(2,"0"):t===3?this.locales.monthsShort[e]:t===4?this.locales.months[e]:String(e+1)}};Si.exports=xi});var Pi=u((qu,Mi)=>{"use strict";var ko=q(),Oi=class extends ko{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}};Mi.exports=Oi});var _i=u((Ou,$i)=>{"use strict";var Ro=q(),Ti=class extends Ro{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}};$i.exports=Ti});var Ii=u((Mu,Di)=>{"use strict";Di.exports={DatePart:q(),Meridiem:li(),Day:ci(),Hours:pi(),Milliseconds:bi(),Minutes:wi(),Month:qi(),Seconds:Pi(),Year:_i()}});var Ni=u((Pu,Vi)=>{"use strict";function Ci(i,e,t,s,r,o,n){try{var h=i[o](n),l=h.value}catch(a){t(a);return}h.done?e(l):Promise.resolve(l).then(s,r)}function Ai(i){return function(){var e=this,t=arguments;return new Promise(function(s,r){var o=i.apply(e,t);function n(l){Ci(o,s,r,n,h,"next",l)}function h(l){Ci(o,s,r,n,h,"throw",l)}n(void 0)})}}var He=f(),Fo=D(),Ve=w(),ji=Ve.style,Ei=Ve.clear,Yo=Ve.figures,Yi=m(),Ho=Yi.erase,ki=Yi.cursor,C=Ii(),Ri=C.DatePart,Vo=C.Meridiem,No=C.Day,Lo=C.Hours,Uo=C.Milliseconds,Go=C.Minutes,Jo=C.Month,zo=C.Seconds,Bo=C.Year,Wo=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,Fi={1:({token:i})=>i.replace(/\\(.)/g,"$1"),2:i=>new No(i),3:i=>new Jo(i),4:i=>new Bo(i),5:i=>new Vo(i),6:i=>new Lo(i),7:i=>new Go(i),8:i=>new zo(i),9:i=>new Uo(i)},Zo={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},Hi=class extends Fo{constructor(e={}){super(e);this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(Zo,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=Ei("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let t;for(this.parts=[];t=Wo.exec(e);){let r=t.shift(),o=t.findIndex(n=>n!=null);this.parts.push(o in Fi?Fi[o]({token:t[o]||r,date:this.date,parts:this.parts,locales:this.locales}):t[o]||r)}let s=this.parts.reduce((r,o)=>(typeof o=="string"&&typeof r[r.length-1]=="string"?r[r.length-1]+=o:r.push(o),r),[]);this.parts.splice(0),this.parts.push(...s),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof Ri)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return Ai(function*(){let t=yield e.validator(e.value);typeof t=="string"&&(e.errorMsg=t,t=!1),e.error=!t})()}submit(){var e=this;return Ai(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(t=>t instanceof Ri)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(ki.hide):this.out.write(Ei(this.outputText,this.out.columns)),super.render(),this.outputText=[ji.symbol(this.done,this.aborted),He.bold(this.msg),ji.delimiter(!1),this.parts.reduce((e,t,s)=>e.concat(s===this.cursor&&!this.done?He.cyan().underline(t.toString()):t),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((e,t,s)=>e+`
${s?" ":Yo.pointerSmall} ${He.red().italic(t)}`,"")),this.out.write(Ho.line+ki.to(0)+this.outputText))}};Vi.exports=Hi});var Zi=u((Tu,Wi)=>{"use strict";function Li(i,e,t,s,r,o,n){try{var h=i[o](n),l=h.value}catch(a){t(a);return}h.done?e(l):Promise.resolve(l).then(s,r)}function Ui(i){return function(){var e=this,t=arguments;return new Promise(function(s,r){var o=i.apply(e,t);function n(l){Li(o,s,r,n,h,"next",l)}function h(l){Li(o,s,r,n,h,"throw",l)}n(void 0)})}}var Se=f(),Ko=D(),zi=m(),qe=zi.cursor,Xo=zi.erase,Oe=w(),Ne=Oe.style,Qo=Oe.figures,Gi=Oe.clear,eh=Oe.lines,th=/[0-9]/,Le=i=>i!==void 0,Ji=(i,e)=>{let t=Math.pow(10,e);return Math.round(i*t)/t},Bi=class extends Ko{constructor(e={}){super(e);this.transform=Ne.render(e.style),this.msg=e.message,this.initial=Le(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=Le(e.min)?e.min:-1/0,this.max=Le(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){!e&&e!==0?(this.placeholder=!0,this.rendered=Se.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${Ji(e,this.round)}`),this._value=Ji(e,this.round)),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e==="-"||e==="."&&this.float||th.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=e!==""?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return Ui(function*(){let t=yield e.validator(e.value);typeof t=="string"&&(e.errorMsg=t,t=!1),e.error=!t})()}submit(){var e=this;return Ui(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}let t=e.value;e.value=t!==""?t:e.initial,e.done=!0,e.aborted=!1,e.error=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,t){if(!this.valid(e))return this.bell();let s=Date.now();if(s-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=s,this.color="cyan",e===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(qe.down(eh(this.outputError,this.out.columns)-1)+Gi(this.outputError,this.out.columns)),this.out.write(Gi(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Ne.symbol(this.done,this.aborted),Se.bold(this.msg),Ne.delimiter(this.done),!this.done||!this.done&&!this.placeholder?Se[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,t,s)=>e+`
${s?" ":Qo.pointerSmall} ${Se.red().italic(t)}`,"")),this.out.write(Xo.line+qe.to(0)+this.outputText+qe.save+this.outputError+qe.restore))}};Wi.exports=Bi});var Ue=u(($u,es)=>{"use strict";var O=f(),ih=m(),sh=ih.cursor,rh=D(),ne=w(),Ki=ne.clear,Y=ne.figures,Xi=ne.style,nh=ne.wrap,oh=ne.entriesToDisplay,Qi=class extends rh{constructor(e={}){super(e);this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((t,s)=>(typeof t=="string"&&(t={title:t,value:s}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(t.value===void 0?s:t.value),selected:t&&t.selected,disabled:t&&t.disabled})),this.clear=Ki("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let e=this.value.filter(t=>t.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(t=>!t.disabled).forEach(t=>t.selected=e),this.render()}_(e,t){if(e===" ")this.handleSpaceToggle();else if(e==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${Y.arrowUp}/${Y.arrowDown}: Highlight option
    ${Y.arrowLeft}/${Y.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,t,s,r){let o=(t.selected?O.green(Y.radioOn):Y.radioOff)+" "+r+" ",n,h;return t.disabled?n=e===s?O.gray().underline(t.title):O.strikethrough().gray(t.title):(n=e===s?O.cyan().underline(t.title):t.title,e===s&&t.description&&(h=` - ${t.description}`,(o.length+n.length+h.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(h=`
`+nh(t.description,{margin:o.length,width:this.out.columns})))),o+n+O.gray(h||"")}paginateOptions(e){if(e.length===0)return O.red("No matches for this query.");let t=oh(this.cursor,e.length,this.optionsPerPage),s=t.startIndex,r=t.endIndex,o,n=[];for(let h=s;h<r;h++)h===s&&s>0?o=Y.arrowUp:h===r-1&&r<e.length?o=Y.arrowDown:o=" ",n.push(this.renderOption(this.cursor,e[h],h,o));return`
`+n.join(`
`)}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(t=>t.selected).map(t=>t.title).join(", ");let e=[O.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(O.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(sh.hide),super.render();let e=[Xi.symbol(this.done,this.aborted),O.bold(this.msg),Xi.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=O.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=Ki(e,this.out.columns)}};es.exports=Qi});var ls=u((_u,hs)=>{"use strict";function ts(i,e,t,s,r,o,n){try{var h=i[o](n),l=h.value}catch(a){t(a);return}h.done?e(l):Promise.resolve(l).then(s,r)}function hh(i){return function(){var e=this,t=arguments;return new Promise(function(s,r){var o=i.apply(e,t);function n(l){ts(o,s,r,n,h,"next",l)}function h(l){ts(o,s,r,n,h,"throw",l)}n(void 0)})}}var oe=f(),lh=D(),ns=m(),uh=ns.erase,is=ns.cursor,he=w(),Ge=he.style,ss=he.clear,Je=he.figures,ah=he.wrap,ch=he.entriesToDisplay,rs=(i,e)=>i[e]&&(i[e].value||i[e].title||i[e]),dh=(i,e)=>i[e]&&(i[e].title||i[e].value||i[e]),fh=(i,e)=>{let t=i.findIndex(s=>s.value===e||s.title===e);return t>-1?t:void 0},os=class extends lh{constructor(e={}){super(e);this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial=typeof e.initial=="number"?e.initial:fh(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=Ge.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=ss("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return typeof this._fb=="number"?e=this.choices[this._fb]:typeof this._fb=="string"&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=rs(this.suggestions,e):this.value=this.fallback.value,this.fire()}complete(e){var t=this;return hh(function*(){let s=t.completing=t.suggest(t.input,t.choices),r=yield s;if(t.completing!==s)return;t.suggestions=r.map((n,h,l)=>({title:dh(l,h),value:rs(l,h),description:n.description})),t.completing=!1;let o=Math.max(r.length-1,0);t.moveSelect(Math.min(o,t.select)),e&&e()})()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,t){let s=this.input.slice(0,this.cursor),r=this.input.slice(this.cursor);this.input=`${s}${e}${r}`,this.cursor=s.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1),t=this.input.slice(this.cursor);this.input=`${e}${t}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),t=this.input.slice(this.cursor+1);this.input=`${e}${t}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,t,s,r){let o,n=s?Je.arrowUp:r?Je.arrowDown:" ",h=t?oe.cyan().underline(e.title):e.title;return n=(t?oe.cyan(Je.pointer)+" ":"  ")+n,e.description&&(o=` - ${e.description}`,(n.length+h.length+o.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(o=`
`+ah(e.description,{margin:3,width:this.out.columns}))),n+" "+h+oe.gray(o||"")}render(){if(this.closed)return;this.firstRender?this.out.write(is.hide):this.out.write(ss(this.outputText,this.out.columns)),super.render();let e=ch(this.select,this.choices.length,this.limit),t=e.startIndex,s=e.endIndex;if(this.outputText=[Ge.symbol(this.done,this.aborted,this.exited),oe.bold(this.msg),Ge.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let r=this.suggestions.slice(t,s).map((o,n)=>this.renderOption(o,this.select===n+t,n===0&&t>0,n+t===s-1&&s<this.choices.length)).join(`
`);this.outputText+=`
`+(r||oe.gray(this.fallback.title))}this.out.write(uh.line+is.to(0)+this.outputText)}};hs.exports=os});var fs=u((Du,ds)=>{"use strict";var A=f(),ph=m(),mh=ph.cursor,gh=Ue(),ze=w(),us=ze.clear,as=ze.style,K=ze.figures,cs=class extends gh{constructor(e={}){e.overrideRender=!0;super(e);this.inputValue="",this.clear=us("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(s=>this.inputValue?!!(typeof s.title=="string"&&s.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof s.value=="string"&&s.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let t=this.filteredOptions.findIndex(s=>s===e);this.cursor=t<0?0:t,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,t){e===" "?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${K.arrowUp}/${K.arrowDown}: Highlight option
    ${K.arrowLeft}/${K.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:A.gray("Enter something to filter")}
`}renderOption(e,t,s){let r;return t.disabled?r=e===s?A.gray().underline(t.title):A.strikethrough().gray(t.title):r=e===s?A.cyan().underline(t.title):t.title,(t.selected?A.green(K.radioOn):K.radioOff)+"  "+r}renderDoneOrInstructions(){if(this.done)return this.value.filter(t=>t.selected).map(t=>t.title).join(", ");let e=[A.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(A.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(mh.hide),super.render();let e=[as.symbol(this.done,this.aborted),A.bold(this.msg),as.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=A.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=us(e,this.out.columns)}};ds.exports=cs});var xs=u((Iu,ws)=>{"use strict";var ps=f(),bh=D(),bs=w(),ms=bs.style,vh=bs.clear,vs=m(),yh=vs.erase,gs=vs.cursor,ys=class extends bh{constructor(e={}){super(e);this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,t){return e.toLowerCase()==="y"?(this.value=!0,this.submit()):e.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(gs.hide):this.out.write(vh(this.outputText,this.out.columns)),super.render(),this.outputText=[ms.symbol(this.done,this.aborted),ps.bold(this.msg),ms.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:ps.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(yh.line+gs.to(0)+this.outputText))}};ws.exports=ys});var qs=u((Cu,Ss)=>{"use strict";Ss.exports={TextPrompt:Jt(),SelectPrompt:Kt(),TogglePrompt:ri(),DatePrompt:Ni(),NumberPrompt:Zi(),MultiselectPrompt:Ue(),AutocompletePrompt:ls(),AutocompleteMultiselectPrompt:fs(),ConfirmPrompt:xs()}});var Ms=u(Os=>{"use strict";var v=Os,wh=qs(),Me=i=>i;function M(i,e,t={}){return new Promise((s,r)=>{let o=new wh[i](e),n=t.onAbort||Me,h=t.onSubmit||Me,l=t.onExit||Me;o.on("state",e.onState||Me),o.on("submit",a=>s(h(a))),o.on("exit",a=>s(l(a))),o.on("abort",a=>r(n(a)))})}v.text=i=>M("TextPrompt",i);v.password=i=>(i.style="password",v.text(i));v.invisible=i=>(i.style="invisible",v.text(i));v.number=i=>M("NumberPrompt",i);v.date=i=>M("DatePrompt",i);v.confirm=i=>M("ConfirmPrompt",i);v.list=i=>{let e=i.separator||",";return M("TextPrompt",i,{onSubmit:t=>t.split(e).map(s=>s.trim())})};v.toggle=i=>M("TogglePrompt",i);v.select=i=>M("SelectPrompt",i);v.multiselect=i=>{i.choices=[].concat(i.choices||[]);let e=t=>t.filter(s=>s.selected).map(s=>s.value);return M("MultiselectPrompt",i,{onAbort:e,onSubmit:e})};v.autocompleteMultiselect=i=>{i.choices=[].concat(i.choices||[]);let e=t=>t.filter(s=>s.selected).map(s=>s.value);return M("AutocompleteMultiselectPrompt",i,{onAbort:e,onSubmit:e})};var xh=(i,e)=>Promise.resolve(e.filter(t=>t.title.slice(0,i.length).toLowerCase()===i.toLowerCase()));v.autocomplete=i=>(i.suggest=i.suggest||xh,i.choices=[].concat(i.choices||[]),M("AutocompletePrompt",i))});var As=u((ju,Cs)=>{"use strict";function Ps(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,s)}return t}function Ts(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ps(Object(t),!0).forEach(function(s){Sh(i,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Ps(Object(t)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(t,s))})}return i}function Sh(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function qh(i,e){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=Oh(i))||e&&i&&typeof i.length=="number"){t&&(i=t);var s=0,r=function(){};return{s:r,n:function(){return s>=i.length?{done:!0}:{done:!1,value:i[s++]}},e:function(a){throw a},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,n=!1,h;return{s:function(){t=t.call(i)},n:function(){var a=t.next();return o=a.done,a},e:function(a){n=!0,h=a},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(n)throw h}}}}function Oh(i,e){if(!!i){if(typeof i=="string")return $s(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $s(i,e)}}function $s(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=i[t];return s}function _s(i,e,t,s,r,o,n){try{var h=i[o](n),l=h.value}catch(a){t(a);return}h.done?e(l):Promise.resolve(l).then(s,r)}function Ds(i){return function(){var e=this,t=arguments;return new Promise(function(s,r){var o=i.apply(e,t);function n(l){_s(o,s,r,n,h,"next",l)}function h(l){_s(o,s,r,n,h,"throw",l)}n(void 0)})}}var Be=Ms(),Mh=["suggest","format","onState","validate","onRender","type"],Is=()=>{};function H(){return We.apply(this,arguments)}function We(){return We=Ds(function*(i=[],{onSubmit:e=Is,onCancel:t=Is}={}){let s={},r=H._override||{};i=[].concat(i);let o,n,h,l,a,U,g=function(){var F=Ds(function*(_,me,dt=!1){if(!(!dt&&_.validate&&_.validate(me)!==!0))return _.format?yield _.format(me,s):me});return function(me,dt){return F.apply(this,arguments)}}();var b=qh(i),S;try{for(b.s();!(S=b.n()).done;){n=S.value;var pe=n;if(l=pe.name,a=pe.type,typeof a=="function"&&(a=yield a(o,Ts({},s),n),n.type=a),!!a){for(let F in n){if(Mh.includes(F))continue;let _=n[F];n[F]=typeof _=="function"?yield _(o,Ts({},s),U):_}if(U=n,typeof n.message!="string")throw new Error("prompt message is required");var ct=n;if(l=ct.name,a=ct.type,Be[a]===void 0)throw new Error(`prompt type (${a}) is not defined`);if(r[n.name]!==void 0&&(o=yield g(n,r[n.name]),o!==void 0)){s[l]=o;continue}try{o=H._injected?Ph(H._injected,n.initial):yield Be[a](n),s[l]=o=yield g(n,o,!0),h=yield e(n,o,s)}catch{h=!(yield t(n,s))}if(h)return s}}}catch(F){b.e(F)}finally{b.f()}return s}),We.apply(this,arguments)}function Ph(i,e){let t=i.shift();if(t instanceof Error)throw t;return t===void 0?e:t}function Th(i){H._injected=(H._injected||[]).concat(i)}function $h(i){H._override=Object.assign({},i)}Cs.exports=Object.assign(H,{prompt:H,prompts:Be,inject:Th,override:$h})});var Es=u((Eu,js)=>{"use strict";js.exports=(i,e)=>{if(!(i.meta&&i.name!=="escape")){if(i.ctrl){if(i.name==="a")return"first";if(i.name==="c"||i.name==="d")return"abort";if(i.name==="e")return"last";if(i.name==="g")return"reset"}if(e){if(i.name==="j")return"down";if(i.name==="k")return"up"}return i.name==="return"||i.name==="enter"?"submit":i.name==="backspace"?"delete":i.name==="delete"?"deleteForward":i.name==="abort"?"abort":i.name==="escape"?"exit":i.name==="tab"?"next":i.name==="pagedown"?"nextPage":i.name==="pageup"?"prevPage":i.name==="home"?"home":i.name==="end"?"end":i.name==="up"?"up":i.name==="down"?"down":i.name==="right"?"right":i.name==="left"?"left":!1}}});var Pe=u((ku,ks)=>{"use strict";ks.exports=i=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),t=new RegExp(e,"g");return typeof i=="string"?i.replace(t,""):i}});var Ys=u((Ru,Fs)=>{"use strict";var _h=Pe(),{erase:Rs,cursor:Dh}=m(),Ih=i=>[..._h(i)].length;Fs.exports=function(i,e){if(!e)return Rs.line+Dh.to(0);let t=0,s=i.split(/\r?\n/);for(let r of s)t+=1+Math.floor(Math.max(Ih(r)-1,0)/e);return Rs.lines(t)}});var Ze=u((Fu,Hs)=>{"use strict";var le={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},Ch={arrowUp:le.arrowUp,arrowDown:le.arrowDown,arrowLeft:le.arrowLeft,arrowRight:le.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},Ah=process.platform==="win32"?Ch:le;Hs.exports=Ah});var Ns=u((Yu,Vs)=>{"use strict";var X=f(),z=Ze(),Ke=Object.freeze({password:{scale:1,render:i=>"*".repeat(i.length)},emoji:{scale:2,render:i=>"\u{1F603}".repeat(i.length)},invisible:{scale:0,render:i=>""},default:{scale:1,render:i=>`${i}`}}),jh=i=>Ke[i]||Ke.default,ue=Object.freeze({aborted:X.red(z.cross),done:X.green(z.tick),exited:X.yellow(z.cross),default:X.cyan("?")}),Eh=(i,e,t)=>e?ue.aborted:t?ue.exited:i?ue.done:ue.default,kh=i=>X.gray(i?z.ellipsis:z.pointerSmall),Rh=(i,e)=>X.gray(i?e?z.pointerSmall:"+":z.line);Vs.exports={styles:Ke,render:jh,symbols:ue,symbol:Eh,delimiter:kh,item:Rh}});var Us=u((Hu,Ls)=>{"use strict";var Fh=Pe();Ls.exports=function(i,e){let t=String(Fh(i)||"").split(/\r?\n/);return e?t.map(s=>Math.ceil(s.length/e)).reduce((s,r)=>s+r):t.length}});var Js=u((Vu,Gs)=>{"use strict";Gs.exports=(i,e={})=>{let t=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",s=e.width;return(i||"").split(/\r?\n/g).map(r=>r.split(/\s+/g).reduce((o,n)=>(n.length+t.length>=s||o[o.length-1].length+n.length+1<s?o[o.length-1]+=` ${n}`:o.push(`${t}${n}`),o),[t]).join(`
`)).join(`
`)}});var Bs=u((Nu,zs)=>{"use strict";zs.exports=(i,e,t)=>{t=t||e;let s=Math.min(e-t,i-Math.floor(t/2));s<0&&(s=0);let r=Math.min(s+t,e);return{startIndex:s,endIndex:r}}});var x=u((Lu,Ws)=>{"use strict";Ws.exports={action:Es(),clear:Ys(),style:Ns(),strip:Pe(),figures:Ze(),lines:Us(),wrap:Js(),entriesToDisplay:Bs()}});var j=u((Uu,Xs)=>{"use strict";var Zs=require("readline"),{action:Yh}=x(),Hh=require("events"),{beep:Vh,cursor:Nh}=m(),Lh=f(),Ks=class extends Hh{constructor(e={}){super();this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>{})).bind(this);let t=Zs.createInterface({input:this.in,escapeCodeTimeout:50});Zs.emitKeypressEvents(this.in,t),this.in.isTTY&&this.in.setRawMode(!0);let s=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,r=(o,n)=>{let h=Yh(n,s);h===!1?this._&&this._(o,n):typeof this[h]=="function"?this[h](n):this.bell()};this.close=()=>{this.out.write(Nh.show),this.in.removeListener("keypress",r),this.in.isTTY&&this.in.setRawMode(!1),t.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",r)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(Vh)}render(){this.onRender(Lh),this.firstRender&&(this.firstRender=!1)}};Xs.exports=Ks});var tr=u((Gu,er)=>{var Te=f(),Uh=j(),{erase:Gh,cursor:ae}=m(),{style:Xe,clear:Qe,lines:Jh,figures:zh}=x(),Qs=class extends Uh{constructor(e={}){super(e);this.transform=Xe.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=Qe("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=Te.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,t){let s=this.value.slice(0,this.cursor),r=this.value.slice(this.cursor);this.value=`${s}${e}${r}`,this.red=!1,this.cursor=this.placeholder?0:s.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),t=this.value.slice(this.cursor);this.value=`${e}${t}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),t=this.value.slice(this.cursor+1);this.value=`${e}${t}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(ae.down(Jh(this.outputError,this.out.columns)-1)+Qe(this.outputError,this.out.columns)),this.out.write(Qe(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Xe.symbol(this.done,this.aborted),Te.bold(this.msg),Xe.delimiter(this.done),this.red?Te.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,t,s)=>e+`
${s?" ":zh.pointerSmall} ${Te.red().italic(t)}`,"")),this.out.write(Gh.line+ae.to(0)+this.outputText+ae.save+this.outputError+ae.restore+ae.move(this.cursorOffset,0)))}};er.exports=Qs});var or=u((Ju,nr)=>{"use strict";var E=f(),Bh=j(),{style:ir,clear:sr,figures:$e,wrap:Wh,entriesToDisplay:Zh}=x(),{cursor:Kh}=m(),rr=class extends Bh{constructor(e={}){super(e);this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((t,s)=>(typeof t=="string"&&(t={title:t,value:s}),{title:t&&(t.title||t.value||t),value:t&&(t.value===void 0?s:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=sr("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,t){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(Kh.hide):this.out.write(sr(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:t}=Zh(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[ir.symbol(this.done,this.aborted),E.bold(this.msg),ir.delimiter(!1),this.done?this.selection.title:this.selection.disabled?E.yellow(this.warn):E.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let s=e;s<t;s++){let r,o,n="",h=this.choices[s];s===e&&e>0?o=$e.arrowUp:s===t-1&&t<this.choices.length?o=$e.arrowDown:o=" ",h.disabled?(r=this.cursor===s?E.gray().underline(h.title):E.strikethrough().gray(h.title),o=(this.cursor===s?E.bold().gray($e.pointer)+" ":"  ")+o):(r=this.cursor===s?E.cyan().underline(h.title):h.title,o=(this.cursor===s?E.cyan($e.pointer)+" ":"  ")+o,h.description&&this.cursor===s&&(n=` - ${h.description}`,(o.length+r.length+n.length>=this.out.columns||h.description.split(/\r?\n/).length>1)&&(n=`
`+Wh(h.description,{margin:3,width:this.out.columns})))),this.outputText+=`${o} ${r}${E.gray(n)}
`}}this.out.write(this.outputText)}};nr.exports=rr});var cr=u((zu,ar)=>{var _e=f(),Xh=j(),{style:hr,clear:Qh}=x(),{cursor:lr,erase:el}=m(),ur=class extends Xh{constructor(e={}){super(e);this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,t){if(e===" ")this.value=!this.value;else if(e==="1")this.value=!0;else if(e==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(lr.hide):this.out.write(Qh(this.outputText,this.out.columns)),super.render(),this.outputText=[hr.symbol(this.done,this.aborted),_e.bold(this.msg),hr.delimiter(this.done),this.value?this.inactive:_e.cyan().underline(this.inactive),_e.gray("/"),this.value?_e.cyan().underline(this.active):this.active].join(" "),this.out.write(el.line+lr.to(0)+this.outputText))}};ar.exports=ur});var P=u((Bu,dr)=>{"use strict";var ce=class{constructor({token:e,date:t,parts:s,locales:r}){this.token=e,this.date=t||new Date,this.parts=s||[this],this.locales=r||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((t,s)=>s>e&&t instanceof ce)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),t=e.indexOf(this);return e.find((s,r)=>r>t&&s instanceof ce)}toString(){return String(this.date)}};dr.exports=ce});var mr=u((Wu,pr)=>{"use strict";var tl=P(),fr=class extends tl{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}};pr.exports=fr});var vr=u((Zu,br)=>{"use strict";var il=P(),sl=i=>(i=i%10,i===1?"st":i===2?"nd":i===3?"rd":"th"),gr=class extends il{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),t=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+sl(e):this.token==="d"?t+1:this.token==="ddd"?this.locales.weekdaysShort[t]:this.token==="dddd"?this.locales.weekdays[t]:e}};br.exports=gr});var xr=u((Ku,wr)=>{"use strict";var rl=P(),yr=class extends rl{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}};wr.exports=yr});var Or=u((Xu,qr)=>{"use strict";var nl=P(),Sr=class extends nl{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};qr.exports=Sr});var Tr=u((Qu,Pr)=>{"use strict";var ol=P(),Mr=class extends ol{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}};Pr.exports=Mr});var Dr=u((ea,_r)=>{"use strict";var hl=P(),$r=class extends hl{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),t=this.token.length;return t===2?String(e+1).padStart(2,"0"):t===3?this.locales.monthsShort[e]:t===4?this.locales.months[e]:String(e+1)}};_r.exports=$r});var Ar=u((ta,Cr)=>{"use strict";var ll=P(),Ir=class extends ll{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}};Cr.exports=Ir});var kr=u((ia,Er)=>{"use strict";var ul=P(),jr=class extends ul{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}};Er.exports=jr});var Fr=u((sa,Rr)=>{"use strict";Rr.exports={DatePart:P(),Meridiem:mr(),Day:vr(),Hours:xr(),Milliseconds:Or(),Minutes:Tr(),Month:Dr(),Seconds:Ar(),Year:kr()}});var Jr=u((ra,Gr)=>{"use strict";var et=f(),al=j(),{style:Yr,clear:Hr,figures:cl}=x(),{erase:dl,cursor:Vr}=m(),{DatePart:Nr,Meridiem:fl,Day:pl,Hours:ml,Milliseconds:gl,Minutes:bl,Month:vl,Seconds:yl,Year:wl}=Fr(),xl=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,Lr={1:({token:i})=>i.replace(/\\(.)/g,"$1"),2:i=>new pl(i),3:i=>new vl(i),4:i=>new wl(i),5:i=>new fl(i),6:i=>new ml(i),7:i=>new bl(i),8:i=>new yl(i),9:i=>new gl(i)},Sl={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},Ur=class extends al{constructor(e={}){super(e);this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(Sl,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=Hr("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let t;for(this.parts=[];t=xl.exec(e);){let r=t.shift(),o=t.findIndex(n=>n!=null);this.parts.push(o in Lr?Lr[o]({token:t[o]||r,date:this.date,parts:this.parts,locales:this.locales}):t[o]||r)}let s=this.parts.reduce((r,o)=>(typeof o=="string"&&typeof r[r.length-1]=="string"?r[r.length-1]+=o:r.push(o),r),[]);this.parts.splice(0),this.parts.push(...s),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof Nr)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(t=>t instanceof Nr)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(Vr.hide):this.out.write(Hr(this.outputText,this.out.columns)),super.render(),this.outputText=[Yr.symbol(this.done,this.aborted),et.bold(this.msg),Yr.delimiter(!1),this.parts.reduce((e,t,s)=>e.concat(s===this.cursor&&!this.done?et.cyan().underline(t.toString()):t),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((e,t,s)=>e+`
${s?" ":cl.pointerSmall} ${et.red().italic(t)}`,"")),this.out.write(dl.line+Vr.to(0)+this.outputText))}};Gr.exports=Ur});var Kr=u((na,Zr)=>{var De=f(),ql=j(),{cursor:Ie,erase:Ol}=m(),{style:tt,figures:Ml,clear:zr,lines:Pl}=x(),Tl=/[0-9]/,it=i=>i!==void 0,Br=(i,e)=>{let t=Math.pow(10,e);return Math.round(i*t)/t},Wr=class extends ql{constructor(e={}){super(e);this.transform=tt.render(e.style),this.msg=e.message,this.initial=it(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=it(e.min)?e.min:-1/0,this.max=it(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){!e&&e!==0?(this.placeholder=!0,this.rendered=De.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${Br(e,this.round)}`),this._value=Br(e,this.round)),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e==="-"||e==="."&&this.float||Tl.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=e!==""?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let e=this.value;this.value=e!==""?e:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,t){if(!this.valid(e))return this.bell();let s=Date.now();if(s-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=s,this.color="cyan",e===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Ie.down(Pl(this.outputError,this.out.columns)-1)+zr(this.outputError,this.out.columns)),this.out.write(zr(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[tt.symbol(this.done,this.aborted),De.bold(this.msg),tt.delimiter(this.done),!this.done||!this.done&&!this.placeholder?De[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,t,s)=>e+`
${s?" ":Ml.pointerSmall} ${De.red().italic(t)}`,"")),this.out.write(Ol.line+Ie.to(0)+this.outputText+Ie.save+this.outputError+Ie.restore))}};Zr.exports=Wr});var st=u((oa,tn)=>{"use strict";var T=f(),{cursor:$l}=m(),_l=j(),{clear:Xr,figures:V,style:Qr,wrap:Dl,entriesToDisplay:Il}=x(),en=class extends _l{constructor(e={}){super(e);this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((t,s)=>(typeof t=="string"&&(t={title:t,value:s}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(t.value===void 0?s:t.value),selected:t&&t.selected,disabled:t&&t.disabled})),this.clear=Xr("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let e=this.value.filter(t=>t.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(t=>!t.disabled).forEach(t=>t.selected=e),this.render()}_(e,t){if(e===" ")this.handleSpaceToggle();else if(e==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${V.arrowUp}/${V.arrowDown}: Highlight option
    ${V.arrowLeft}/${V.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,t,s,r){let o=(t.selected?T.green(V.radioOn):V.radioOff)+" "+r+" ",n,h;return t.disabled?n=e===s?T.gray().underline(t.title):T.strikethrough().gray(t.title):(n=e===s?T.cyan().underline(t.title):t.title,e===s&&t.description&&(h=` - ${t.description}`,(o.length+n.length+h.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(h=`
`+Dl(t.description,{margin:o.length,width:this.out.columns})))),o+n+T.gray(h||"")}paginateOptions(e){if(e.length===0)return T.red("No matches for this query.");let{startIndex:t,endIndex:s}=Il(this.cursor,e.length,this.optionsPerPage),r,o=[];for(let n=t;n<s;n++)n===t&&t>0?r=V.arrowUp:n===s-1&&s<e.length?r=V.arrowDown:r=" ",o.push(this.renderOption(this.cursor,e[n],n,r));return`
`+o.join(`
`)}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(t=>t.selected).map(t=>t.title).join(", ");let e=[T.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(T.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write($l.hide),super.render();let e=[Qr.symbol(this.done,this.aborted),T.bold(this.msg),Qr.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=T.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=Xr(e,this.out.columns)}};tn.exports=en});var ln=u((ha,hn)=>{"use strict";var de=f(),Cl=j(),{erase:Al,cursor:sn}=m(),{style:rt,clear:rn,figures:nt,wrap:jl,entriesToDisplay:El}=x(),nn=(i,e)=>i[e]&&(i[e].value||i[e].title||i[e]),kl=(i,e)=>i[e]&&(i[e].title||i[e].value||i[e]),Rl=(i,e)=>{let t=i.findIndex(s=>s.value===e||s.title===e);return t>-1?t:void 0},on=class extends Cl{constructor(e={}){super(e);this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial=typeof e.initial=="number"?e.initial:Rl(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=rt.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=rn("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return typeof this._fb=="number"?e=this.choices[this._fb]:typeof this._fb=="string"&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=nn(this.suggestions,e):this.value=this.fallback.value,this.fire()}async complete(e){let t=this.completing=this.suggest(this.input,this.choices),s=await t;if(this.completing!==t)return;this.suggestions=s.map((o,n,h)=>({title:kl(h,n),value:nn(h,n),description:o.description})),this.completing=!1;let r=Math.max(s.length-1,0);this.moveSelect(Math.min(r,this.select)),e&&e()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,t){let s=this.input.slice(0,this.cursor),r=this.input.slice(this.cursor);this.input=`${s}${e}${r}`,this.cursor=s.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1),t=this.input.slice(this.cursor);this.input=`${e}${t}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),t=this.input.slice(this.cursor+1);this.input=`${e}${t}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,t,s,r){let o,n=s?nt.arrowUp:r?nt.arrowDown:" ",h=t?de.cyan().underline(e.title):e.title;return n=(t?de.cyan(nt.pointer)+" ":"  ")+n,e.description&&(o=` - ${e.description}`,(n.length+h.length+o.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(o=`
`+jl(e.description,{margin:3,width:this.out.columns}))),n+" "+h+de.gray(o||"")}render(){if(this.closed)return;this.firstRender?this.out.write(sn.hide):this.out.write(rn(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:t}=El(this.select,this.choices.length,this.limit);if(this.outputText=[rt.symbol(this.done,this.aborted,this.exited),de.bold(this.msg),rt.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let s=this.suggestions.slice(e,t).map((r,o)=>this.renderOption(r,this.select===o+e,o===0&&e>0,o+e===t-1&&t<this.choices.length)).join(`
`);this.outputText+=`
`+(s||de.gray(this.fallback.title))}this.out.write(Al.line+sn.to(0)+this.outputText)}};hn.exports=on});var fn=u((la,dn)=>{"use strict";var k=f(),{cursor:Fl}=m(),Yl=st(),{clear:un,style:an,figures:Q}=x(),cn=class extends Yl{constructor(e={}){e.overrideRender=!0;super(e);this.inputValue="",this.clear=un("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(s=>this.inputValue?!!(typeof s.title=="string"&&s.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof s.value=="string"&&s.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let t=this.filteredOptions.findIndex(s=>s===e);this.cursor=t<0?0:t,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,t){e===" "?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${Q.arrowUp}/${Q.arrowDown}: Highlight option
    ${Q.arrowLeft}/${Q.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:k.gray("Enter something to filter")}
`}renderOption(e,t,s){let r;return t.disabled?r=e===s?k.gray().underline(t.title):k.strikethrough().gray(t.title):r=e===s?k.cyan().underline(t.title):t.title,(t.selected?k.green(Q.radioOn):Q.radioOff)+"  "+r}renderDoneOrInstructions(){if(this.done)return this.value.filter(t=>t.selected).map(t=>t.title).join(", ");let e=[k.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(k.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Fl.hide),super.render();let e=[an.symbol(this.done,this.aborted),k.bold(this.msg),an.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=k.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=un(e,this.out.columns)}};dn.exports=cn});var yn=u((ua,vn)=>{var pn=f(),Hl=j(),{style:mn,clear:Vl}=x(),{erase:Nl,cursor:gn}=m(),bn=class extends Hl{constructor(e={}){super(e);this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,t){return e.toLowerCase()==="y"?(this.value=!0,this.submit()):e.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(gn.hide):this.out.write(Vl(this.outputText,this.out.columns)),super.render(),this.outputText=[mn.symbol(this.done,this.aborted),pn.bold(this.msg),mn.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:pn.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(Nl.line+gn.to(0)+this.outputText))}};vn.exports=bn});var xn=u((aa,wn)=>{"use strict";wn.exports={TextPrompt:tr(),SelectPrompt:or(),TogglePrompt:cr(),DatePrompt:Jr(),NumberPrompt:Kr(),MultiselectPrompt:st(),AutocompletePrompt:ln(),AutocompleteMultiselectPrompt:fn(),ConfirmPrompt:yn()}});var qn=u(Sn=>{"use strict";var y=Sn,Ll=xn(),Ce=i=>i;function $(i,e,t={}){return new Promise((s,r)=>{let o=new Ll[i](e),n=t.onAbort||Ce,h=t.onSubmit||Ce,l=t.onExit||Ce;o.on("state",e.onState||Ce),o.on("submit",a=>s(h(a))),o.on("exit",a=>s(l(a))),o.on("abort",a=>r(n(a)))})}y.text=i=>$("TextPrompt",i);y.password=i=>(i.style="password",y.text(i));y.invisible=i=>(i.style="invisible",y.text(i));y.number=i=>$("NumberPrompt",i);y.date=i=>$("DatePrompt",i);y.confirm=i=>$("ConfirmPrompt",i);y.list=i=>{let e=i.separator||",";return $("TextPrompt",i,{onSubmit:t=>t.split(e).map(s=>s.trim())})};y.toggle=i=>$("TogglePrompt",i);y.select=i=>$("SelectPrompt",i);y.multiselect=i=>{i.choices=[].concat(i.choices||[]);let e=t=>t.filter(s=>s.selected).map(s=>s.value);return $("MultiselectPrompt",i,{onAbort:e,onSubmit:e})};y.autocompleteMultiselect=i=>{i.choices=[].concat(i.choices||[]);let e=t=>t.filter(s=>s.selected).map(s=>s.value);return $("AutocompleteMultiselectPrompt",i,{onAbort:e,onSubmit:e})};var Ul=(i,e)=>Promise.resolve(e.filter(t=>t.title.slice(0,i.length).toLowerCase()===i.toLowerCase()));y.autocomplete=i=>(i.suggest=i.suggest||Ul,i.choices=[].concat(i.choices||[]),$("AutocompletePrompt",i))});var Pn=u((da,Mn)=>{"use strict";var ot=qn(),Gl=["suggest","format","onState","validate","onRender","type"],On=()=>{};async function N(i=[],{onSubmit:e=On,onCancel:t=On}={}){let s={},r=N._override||{};i=[].concat(i);let o,n,h,l,a,U,g=async(b,S,pe=!1)=>{if(!(!pe&&b.validate&&b.validate(S)!==!0))return b.format?await b.format(S,s):S};for(n of i)if({name:l,type:a}=n,typeof a=="function"&&(a=await a(o,W({},s),n),n.type=a),!!a){for(let b in n){if(Gl.includes(b))continue;let S=n[b];n[b]=typeof S=="function"?await S(o,W({},s),U):S}if(U=n,typeof n.message!="string")throw new Error("prompt message is required");if({name:l,type:a}=n,ot[a]===void 0)throw new Error(`prompt type (${a}) is not defined`);if(r[n.name]!==void 0&&(o=await g(n,r[n.name]),o!==void 0)){s[l]=o;continue}try{o=N._injected?Jl(N._injected,n.initial):await ot[a](n),s[l]=o=await g(n,o,!0),h=await e(n,o,s)}catch{h=!await t(n,s)}if(h)return s}return s}function Jl(i,e){let t=i.shift();if(t instanceof Error)throw t;return t===void 0?e:t}function zl(i){N._injected=(N._injected||[]).concat(i)}function Bl(i){N._override=Object.assign({},i)}Mn.exports=Object.assign(N,{prompt:N,prompts:ot,inject:zl,override:Bl})});var $n=u((fa,Tn)=>{function Wl(i){i=(Array.isArray(i)?i:i.split(".")).map(Number);let e=0,t=process.versions.node.split(".").map(Number);for(;e<i.length;e++){if(t[e]>i[e])return!1;if(i[e]>t[e])return!0}return!1}Tn.exports=Wl("8.6.0")?As():Pn()});var Ae=G(require("path"),1),fe=G(require("fs"),1),Rn=G($n(),1);var Dn=G(require("path"),1),L=G(require("fs"),1),In=i=>!L.default.existsSync(i)||L.default.readdirSync(i).length===0,ht=i=>/^(?:@[a-z0-9-*~][a-z0-9-*._~]*\/)?[a-z0-9-~][a-z0-9-._~]*$/.test(i),lt=i=>i.trim().toLowerCase().replace(/\s+/g,"-").replace(/^[._]/,"").replace(/[^a-z0-9-~]+/g,"-"),Cn=i=>{!L.default.existsSync(i)||An(i,e=>L.default.rmdirSync(e),e=>L.default.unlinkSync(e))};function An(i,e,t){for(let s of L.default.readdirSync(i)){let r=Dn.default.resolve(i,s);if(L.default.lstatSync(r).isDirectory()){An(r,e,t),e(r);continue}t(r)}}var jn=i=>{let e={},t=["dependencies","devDependencies","peerDependencies","optionalDependencies"];for(let s of t)i[s]&&(e[s]={},Object.keys(i[s]).sort().forEach(r=>{e[s][r]=i[s][r]}));return W(W({},i),e)},_n=i=>i&&typeof i=="object",Zl=(i,e)=>Array.from(new Set([...i,...e])),ut=(i,e)=>{for(let t of Object.keys(e)){let s=i[t],r=e[t];Array.isArray(s)&&Array.isArray(r)?i[t]=Zl(s,r):_n(s)&&_n(r)?i[t]=ut(s,r):i[t]=r}return i};var Kl=[{id:"vue3",label:"vue3-template"},{id:"vue3-lite",label:"vue3-lite-template  (without router and store)"},{id:"ts-lite",label:"ts-lite-template"}],Xl=()=>Kl.map(i=>({title:i.label,value:i.id})),En=Xl();var B=G(require("path"),1),R=G(require("fs"),1);var at=(i,e)=>{if(R.default.statSync(i).isDirectory()){if(B.default.basename(i)==="node_modules")return;R.default.mkdirSync(e,{recursive:!0});for(let r of R.default.readdirSync(i))at(B.default.resolve(i,r),B.default.resolve(e,r));return}let s=B.default.basename(i);if(s==="package.json"&&R.default.existsSync(e)){let r=JSON.parse(R.default.readFileSync(e)),o=JSON.parse(R.default.readFileSync(i)),n=jn(ut(o,r));R.default.writeFileSync(e,JSON.stringify(n,null,2)+`
`);return}/^\./.test(s)||(/^\_/.test(s)&&(e=B.default.resolve(B.default.dirname(e),s.replace(/^_/,"."))),R.default.copyFileSync(i,e))};var kn="ou-app",Ql=async()=>{let i=process.cwd(),e,t=null;try{t=await(0,Rn.default)([{name:"projectName",type:"text",message:"Project name:",initial:kn,onState:g=>e=String(g.value).trim()||kn},{name:"packageName",type:()=>ht(e)?null:"text",message:"Package name:",initial:()=>lt(e),validate:g=>ht(g)||"Invalid package.json name"},{name:"shouldCreateNewDir",type:"toggle",message:"Should create new directory:",initial:!0,active:"Yes",inactive:"No"},{name:"shouldOverwrite",type:g=>!g||In(e)?null:"toggle",initial:!0,active:"Yes",inactive:"No",message:()=>`${e==="."?"Current directory":`Target directory "${e}"`} is not empty. Remove existing files and continue?`},{name:"template",type:"select",choices:En,message:"Choose a template:"}])}catch(g){console.log(g.message),process.exit(1)}t.template||process.exit(1);let{projectName:s,packageName:r=lt(e),shouldCreateNewDir:o,shouldOverwrite:n=!1,template:h}=t,l=o?Ae.default.join(i,s):i;o&&(fe.default.existsSync(l)&&n?Cn(l):fe.default.existsSync(l)?process.exit(1):fe.default.mkdirSync(l)),console.log(`
Scaffolding project in ${l}...`);let a={name:r,version:"0.0.0"};fe.default.writeFileSync(Ae.default.resolve(l,"package.json"),JSON.stringify(a,null,2));let U=Ae.default.join(__dirname,`./templates/${h}`);at(U,l),console.log(`
Done.
`),console.log()};Ql().catch(i=>{console.error(i)});
