#!/usr/bin/env node
var Jf=Object.create;var ys=Object.defineProperty,Qf=Object.defineProperties,em=Object.getOwnPropertyDescriptor,tm=Object.getOwnPropertyDescriptors,im=Object.getOwnPropertyNames,Bo=Object.getOwnPropertySymbols,rm=Object.getPrototypeOf,Ho=Object.prototype.hasOwnProperty,sm=Object.prototype.propertyIsEnumerable;var jo=(i,e,t)=>e in i?ys(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,$t=(i,e)=>{for(var t in e||(e={}))Ho.call(e,t)&&jo(i,t,e[t]);if(Bo)for(var t of Bo(e))sm.call(e,t)&&jo(i,t,e[t]);return i},Uo=(i,e)=>Qf(i,tm(e));var w=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var nm=(i,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of im(e))!Ho.call(i,s)&&s!==t&&ys(i,s,{get:()=>e[s],enumerable:!(r=em(e,s))||r.enumerable});return i};var mi=(i,e,t)=>(t=i!=null?Jf(rm(i)):{},nm(e||!i||!i.__esModule?ys(t,"default",{value:i,enumerable:!0}):t,i));var j=w((j1,zo)=>{"use strict";var{FORCE_COLOR:om,NODE_DISABLE_COLORS:am,TERM:lm}=process.env,k={enabled:!am&&lm!=="dumb"&&om!=="0",reset:P(0,0),bold:P(1,22),dim:P(2,22),italic:P(3,23),underline:P(4,24),inverse:P(7,27),hidden:P(8,28),strikethrough:P(9,29),black:P(30,39),red:P(31,39),green:P(32,39),yellow:P(33,39),blue:P(34,39),magenta:P(35,39),cyan:P(36,39),white:P(37,39),gray:P(90,39),grey:P(90,39),bgBlack:P(40,49),bgRed:P(41,49),bgGreen:P(42,49),bgYellow:P(43,49),bgBlue:P(44,49),bgMagenta:P(45,49),bgCyan:P(46,49),bgWhite:P(47,49)};function Vo(i,e){let t=0,r,s="",n="";for(;t<i.length;t++)r=i[t],s+=r.open,n+=r.close,e.includes(r.close)&&(e=e.replace(r.rgx,r.close+r.open));return s+e+n}function hm(i,e){let t={has:i,keys:e};return t.reset=k.reset.bind(t),t.bold=k.bold.bind(t),t.dim=k.dim.bind(t),t.italic=k.italic.bind(t),t.underline=k.underline.bind(t),t.inverse=k.inverse.bind(t),t.hidden=k.hidden.bind(t),t.strikethrough=k.strikethrough.bind(t),t.black=k.black.bind(t),t.red=k.red.bind(t),t.green=k.green.bind(t),t.yellow=k.yellow.bind(t),t.blue=k.blue.bind(t),t.magenta=k.magenta.bind(t),t.cyan=k.cyan.bind(t),t.white=k.white.bind(t),t.gray=k.gray.bind(t),t.grey=k.grey.bind(t),t.bgBlack=k.bgBlack.bind(t),t.bgRed=k.bgRed.bind(t),t.bgGreen=k.bgGreen.bind(t),t.bgYellow=k.bgYellow.bind(t),t.bgBlue=k.bgBlue.bind(t),t.bgMagenta=k.bgMagenta.bind(t),t.bgCyan=k.bgCyan.bind(t),t.bgWhite=k.bgWhite.bind(t),t}function P(i,e){let t={open:`\x1B[${i}m`,close:`\x1B[${e}m`,rgx:new RegExp(`\\x1b\\[${e}m`,"g")};return function(r){return this!==void 0&&this.has!==void 0?(this.has.includes(i)||(this.has.push(i),this.keys.push(t)),r===void 0?this:k.enabled?Vo(this.keys,r+""):r+""):r===void 0?hm([i],[t]):k.enabled?Vo([t],r+""):r+""}}zo.exports=k});var Wo=w((H1,Go)=>{"use strict";Go.exports=(i,e)=>{if(!(i.meta&&i.name!=="escape")){if(i.ctrl){if(i.name==="a")return"first";if(i.name==="c"||i.name==="d")return"abort";if(i.name==="e")return"last";if(i.name==="g")return"reset"}if(e){if(i.name==="j")return"down";if(i.name==="k")return"up"}return i.name==="return"||i.name==="enter"?"submit":i.name==="backspace"?"delete":i.name==="delete"?"deleteForward":i.name==="abort"?"abort":i.name==="escape"?"exit":i.name==="tab"?"next":i.name==="pagedown"?"nextPage":i.name==="pageup"?"prevPage":i.name==="home"?"home":i.name==="end"?"end":i.name==="up"?"up":i.name==="down"?"down":i.name==="right"?"right":i.name==="left"?"left":!1}}});var tr=w((U1,Yo)=>{"use strict";Yo.exports=i=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),t=new RegExp(e,"g");return typeof i=="string"?i.replace(t,""):i}});var U=w((V1,Zo)=>{"use strict";var vs="\x1B",H=`${vs}[`,um="\x07",bs={to(i,e){return e?`${H}${e+1};${i+1}H`:`${H}${i+1}G`},move(i,e){let t="";return i<0?t+=`${H}${-i}D`:i>0&&(t+=`${H}${i}C`),e<0?t+=`${H}${-e}A`:e>0&&(t+=`${H}${e}B`),t},up:(i=1)=>`${H}${i}A`,down:(i=1)=>`${H}${i}B`,forward:(i=1)=>`${H}${i}C`,backward:(i=1)=>`${H}${i}D`,nextLine:(i=1)=>`${H}E`.repeat(i),prevLine:(i=1)=>`${H}F`.repeat(i),left:`${H}G`,hide:`${H}?25l`,show:`${H}?25h`,save:`${vs}7`,restore:`${vs}8`},cm={up:(i=1)=>`${H}S`.repeat(i),down:(i=1)=>`${H}T`.repeat(i)},dm={screen:`${H}2J`,up:(i=1)=>`${H}1J`.repeat(i),down:(i=1)=>`${H}J`.repeat(i),line:`${H}2K`,lineEnd:`${H}K`,lineStart:`${H}1K`,lines(i){let e="";for(let t=0;t<i;t++)e+=this.line+(t<i-1?bs.up():"");return i&&(e+=bs.left),e}};Zo.exports={cursor:bs,scroll:cm,erase:dm,beep:um}});var ea=w((z1,Qo)=>{"use strict";function fm(i,e){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=mm(i))||e&&i&&typeof i.length=="number"){t&&(i=t);var r=0,s=function(){};return{s,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(h){throw h},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=!0,o=!1,a;return{s:function(){t=t.call(i)},n:function(){var h=t.next();return n=h.done,h},e:function(h){o=!0,a=h},f:function(){try{!n&&t.return!=null&&t.return()}finally{if(o)throw a}}}}function mm(i,e){if(!!i){if(typeof i=="string")return Ko(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ko(i,e)}}function Ko(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}var pm=tr(),Jo=U(),Xo=Jo.erase,gm=Jo.cursor,ym=i=>[...pm(i)].length;Qo.exports=function(i,e){if(!e)return Xo.line+gm.to(0);let t=0,r=i.split(/\r?\n/);var s=fm(r),n;try{for(s.s();!(n=s.n()).done;){let o=n.value;t+=1+Math.floor(Math.max(ym(o)-1,0)/e)}}catch(o){s.e(o)}finally{s.f()}return Xo.lines(t)}});var ws=w((G1,ta)=>{"use strict";var pi={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},vm={arrowUp:pi.arrowUp,arrowDown:pi.arrowDown,arrowLeft:pi.arrowLeft,arrowRight:pi.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},bm=process.platform==="win32"?vm:pi;ta.exports=bm});var ra=w((W1,ia)=>{"use strict";var Lt=j(),vt=ws(),_s=Object.freeze({password:{scale:1,render:i=>"*".repeat(i.length)},emoji:{scale:2,render:i=>"\u{1F603}".repeat(i.length)},invisible:{scale:0,render:i=>""},default:{scale:1,render:i=>`${i}`}}),wm=i=>_s[i]||_s.default,gi=Object.freeze({aborted:Lt.red(vt.cross),done:Lt.green(vt.tick),exited:Lt.yellow(vt.cross),default:Lt.cyan("?")}),_m=(i,e,t)=>e?gi.aborted:t?gi.exited:i?gi.done:gi.default,Sm=i=>Lt.gray(i?vt.ellipsis:vt.pointerSmall),Em=(i,e)=>Lt.gray(i?e?vt.pointerSmall:"+":vt.line);ia.exports={styles:_s,render:wm,symbols:gi,symbol:_m,delimiter:Sm,item:Em}});var na=w((Y1,sa)=>{"use strict";var Om=tr();sa.exports=function(i,e){let t=String(Om(i)||"").split(/\r?\n/);return e?t.map(r=>Math.ceil(r.length/e)).reduce((r,s)=>r+s):t.length}});var aa=w((Z1,oa)=>{"use strict";oa.exports=(i,e={})=>{let t=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",r=e.width;return(i||"").split(/\r?\n/g).map(s=>s.split(/\s+/g).reduce((n,o)=>(o.length+t.length>=r||n[n.length-1].length+o.length+1<r?n[n.length-1]+=` ${o}`:n.push(`${t}${o}`),n),[t]).join(`
`)).join(`
`)}});var ha=w((K1,la)=>{"use strict";la.exports=(i,e,t)=>{t=t||e;let r=Math.min(e-t,i-Math.floor(t/2));r<0&&(r=0);let s=Math.min(r+t,e);return{startIndex:r,endIndex:s}}});var be=w((X1,ua)=>{"use strict";ua.exports={action:Wo(),clear:ea(),style:ra(),strip:tr(),figures:ws(),lines:na(),wrap:aa(),entriesToDisplay:ha()}});var $e=w((J1,ma)=>{"use strict";var ca=require("readline"),Cm=be(),xm=Cm.action,Rm=require("events"),da=U(),Am=da.beep,Tm=da.cursor,Im=j(),fa=class extends Rm{constructor(e={}){super();this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>{})).bind(this);let t=ca.createInterface({input:this.in,escapeCodeTimeout:50});ca.emitKeypressEvents(this.in,t),this.in.isTTY&&this.in.setRawMode(!0);let r=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,s=(n,o)=>{let a=xm(o,r);a===!1?this._&&this._(n,o):typeof this[a]=="function"?this[a](o):this.bell()};this.close=()=>{this.out.write(Tm.show),this.in.removeListener("keypress",s),this.in.isTTY&&this.in.setRawMode(!1),t.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",s)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(Am)}render(){this.onRender(Im),this.firstRender&&(this.firstRender=!1)}};ma.exports=fa});var wa=w((Q1,ba)=>{"use strict";function pa(i,e,t,r,s,n,o){try{var a=i[n](o),l=a.value}catch(h){t(h);return}a.done?e(l):Promise.resolve(l).then(r,s)}function ga(i){return function(){var e=this,t=arguments;return new Promise(function(r,s){var n=i.apply(e,t);function o(l){pa(n,r,s,o,a,"next",l)}function a(l){pa(n,r,s,o,a,"throw",l)}o(void 0)})}}var ir=j(),Dm=$e(),ya=U(),Mm=ya.erase,yi=ya.cursor,rr=be(),Ss=rr.style,Es=rr.clear,km=rr.lines,Nm=rr.figures,va=class extends Dm{constructor(e={}){super(e);this.transform=Ss.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=Es("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=ir.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return ga(function*(){let t=yield e.validator(e.value);typeof t=="string"&&(e.errorMsg=t,t=!1),e.error=!t})()}submit(){var e=this;return ga(function*(){if(e.value=e.value||e.initial,e.cursorOffset=0,e.cursor=e.rendered.length,yield e.validate(),e.error){e.red=!0,e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,t){let r=this.value.slice(0,this.cursor),s=this.value.slice(this.cursor);this.value=`${r}${e}${s}`,this.red=!1,this.cursor=this.placeholder?0:r.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),t=this.value.slice(this.cursor);this.value=`${e}${t}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),t=this.value.slice(this.cursor+1);this.value=`${e}${t}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(yi.down(km(this.outputError,this.out.columns)-1)+Es(this.outputError,this.out.columns)),this.out.write(Es(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Ss.symbol(this.done,this.aborted),ir.bold(this.msg),Ss.delimiter(this.done),this.red?ir.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,t,r)=>e+`
${r?" ":Nm.pointerSmall} ${ir.red().italic(t)}`,"")),this.out.write(Mm.line+yi.to(0)+this.outputText+yi.save+this.outputError+yi.restore+yi.move(this.cursorOffset,0)))}};ba.exports=va});var Ca=w((e_,Oa)=>{"use strict";var Le=j(),Fm=$e(),vi=be(),_a=vi.style,Sa=vi.clear,sr=vi.figures,Pm=vi.wrap,$m=vi.entriesToDisplay,Lm=U(),qm=Lm.cursor,Ea=class extends Fm{constructor(e={}){super(e);this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((t,r)=>(typeof t=="string"&&(t={title:t,value:r}),{title:t&&(t.title||t.value||t),value:t&&(t.value===void 0?r:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=Sa("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,t){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(qm.hide):this.out.write(Sa(this.outputText,this.out.columns)),super.render();let e=$m(this.cursor,this.choices.length,this.optionsPerPage),t=e.startIndex,r=e.endIndex;if(this.outputText=[_a.symbol(this.done,this.aborted),Le.bold(this.msg),_a.delimiter(!1),this.done?this.selection.title:this.selection.disabled?Le.yellow(this.warn):Le.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let s=t;s<r;s++){let n,o,a="",l=this.choices[s];s===t&&t>0?o=sr.arrowUp:s===r-1&&r<this.choices.length?o=sr.arrowDown:o=" ",l.disabled?(n=this.cursor===s?Le.gray().underline(l.title):Le.strikethrough().gray(l.title),o=(this.cursor===s?Le.bold().gray(sr.pointer)+" ":"  ")+o):(n=this.cursor===s?Le.cyan().underline(l.title):l.title,o=(this.cursor===s?Le.cyan(sr.pointer)+" ":"  ")+o,l.description&&this.cursor===s&&(a=` - ${l.description}`,(o.length+n.length+a.length>=this.out.columns||l.description.split(/\r?\n/).length>1)&&(a=`
`+Pm(l.description,{margin:3,width:this.out.columns})))),this.outputText+=`${o} ${n}${Le.gray(a)}
`}}this.out.write(this.outputText)}};Oa.exports=Ea});var Ma=w((t_,Da)=>{"use strict";var nr=j(),Bm=$e(),Aa=be(),xa=Aa.style,jm=Aa.clear,Ta=U(),Ra=Ta.cursor,Hm=Ta.erase,Ia=class extends Bm{constructor(e={}){super(e);this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,t){if(e===" ")this.value=!this.value;else if(e==="1")this.value=!0;else if(e==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(Ra.hide):this.out.write(jm(this.outputText,this.out.columns)),super.render(),this.outputText=[xa.symbol(this.done,this.aborted),nr.bold(this.msg),xa.delimiter(this.done),this.value?this.inactive:nr.cyan().underline(this.inactive),nr.gray("/"),this.value?nr.cyan().underline(this.active):this.active].join(" "),this.out.write(Hm.line+Ra.to(0)+this.outputText))}};Da.exports=Ia});var xe=w((i_,ka)=>{"use strict";var bi=class{constructor({token:e,date:t,parts:r,locales:s}){this.token=e,this.date=t||new Date,this.parts=r||[this],this.locales=s||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((t,r)=>r>e&&t instanceof bi)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),t=e.indexOf(this);return e.find((r,s)=>s>t&&r instanceof bi)}toString(){return String(this.date)}};ka.exports=bi});var Pa=w((r_,Fa)=>{"use strict";var Um=xe(),Na=class extends Um{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}};Fa.exports=Na});var qa=w((s_,La)=>{"use strict";var Vm=xe(),zm=i=>(i=i%10,i===1?"st":i===2?"nd":i===3?"rd":"th"),$a=class extends Vm{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),t=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+zm(e):this.token==="d"?t+1:this.token==="ddd"?this.locales.weekdaysShort[t]:this.token==="dddd"?this.locales.weekdays[t]:e}};La.exports=$a});var Ha=w((n_,ja)=>{"use strict";var Gm=xe(),Ba=class extends Gm{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}};ja.exports=Ba});var za=w((o_,Va)=>{"use strict";var Wm=xe(),Ua=class extends Wm{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};Va.exports=Ua});var Ya=w((a_,Wa)=>{"use strict";var Ym=xe(),Ga=class extends Ym{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}};Wa.exports=Ga});var Xa=w((l_,Ka)=>{"use strict";var Zm=xe(),Za=class extends Zm{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),t=this.token.length;return t===2?String(e+1).padStart(2,"0"):t===3?this.locales.monthsShort[e]:t===4?this.locales.months[e]:String(e+1)}};Ka.exports=Za});var el=w((h_,Qa)=>{"use strict";var Km=xe(),Ja=class extends Km{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}};Qa.exports=Ja});var rl=w((u_,il)=>{"use strict";var Xm=xe(),tl=class extends Xm{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}};il.exports=tl});var nl=w((c_,sl)=>{"use strict";sl.exports={DatePart:xe(),Meridiem:Pa(),Day:qa(),Hours:Ha(),Milliseconds:za(),Minutes:Ya(),Month:Xa(),Seconds:el(),Year:rl()}});var gl=w((d_,pl)=>{"use strict";function ol(i,e,t,r,s,n,o){try{var a=i[n](o),l=a.value}catch(h){t(h);return}a.done?e(l):Promise.resolve(l).then(r,s)}function al(i){return function(){var e=this,t=arguments;return new Promise(function(r,s){var n=i.apply(e,t);function o(l){ol(n,r,s,o,a,"next",l)}function a(l){ol(n,r,s,o,a,"throw",l)}o(void 0)})}}var Os=j(),Jm=$e(),Cs=be(),ll=Cs.style,hl=Cs.clear,Qm=Cs.figures,fl=U(),ep=fl.erase,ul=fl.cursor,qe=nl(),cl=qe.DatePart,tp=qe.Meridiem,ip=qe.Day,rp=qe.Hours,sp=qe.Milliseconds,np=qe.Minutes,op=qe.Month,ap=qe.Seconds,lp=qe.Year,hp=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,dl={1:({token:i})=>i.replace(/\\(.)/g,"$1"),2:i=>new ip(i),3:i=>new op(i),4:i=>new lp(i),5:i=>new tp(i),6:i=>new rp(i),7:i=>new np(i),8:i=>new ap(i),9:i=>new sp(i)},up={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},ml=class extends Jm{constructor(e={}){super(e);this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(up,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=hl("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let t;for(this.parts=[];t=hp.exec(e);){let s=t.shift(),n=t.findIndex(o=>o!=null);this.parts.push(n in dl?dl[n]({token:t[n]||s,date:this.date,parts:this.parts,locales:this.locales}):t[n]||s)}let r=this.parts.reduce((s,n)=>(typeof n=="string"&&typeof s[s.length-1]=="string"?s[s.length-1]+=n:s.push(n),s),[]);this.parts.splice(0),this.parts.push(...r),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof cl)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return al(function*(){let t=yield e.validator(e.value);typeof t=="string"&&(e.errorMsg=t,t=!1),e.error=!t})()}submit(){var e=this;return al(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(t=>t instanceof cl)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(ul.hide):this.out.write(hl(this.outputText,this.out.columns)),super.render(),this.outputText=[ll.symbol(this.done,this.aborted),Os.bold(this.msg),ll.delimiter(!1),this.parts.reduce((e,t,r)=>e.concat(r===this.cursor&&!this.done?Os.cyan().underline(t.toString()):t),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((e,t,r)=>e+`
${r?" ":Qm.pointerSmall} ${Os.red().italic(t)}`,"")),this.out.write(ep.line+ul.to(0)+this.outputText))}};pl.exports=ml});var Ol=w((f_,El)=>{"use strict";function yl(i,e,t,r,s,n,o){try{var a=i[n](o),l=a.value}catch(h){t(h);return}a.done?e(l):Promise.resolve(l).then(r,s)}function vl(i){return function(){var e=this,t=arguments;return new Promise(function(r,s){var n=i.apply(e,t);function o(l){yl(n,r,s,o,a,"next",l)}function a(l){yl(n,r,s,o,a,"throw",l)}o(void 0)})}}var or=j(),cp=$e(),_l=U(),ar=_l.cursor,dp=_l.erase,lr=be(),xs=lr.style,fp=lr.figures,bl=lr.clear,mp=lr.lines,pp=/[0-9]/,Rs=i=>i!==void 0,wl=(i,e)=>{let t=Math.pow(10,e);return Math.round(i*t)/t},Sl=class extends cp{constructor(e={}){super(e);this.transform=xs.render(e.style),this.msg=e.message,this.initial=Rs(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=Rs(e.min)?e.min:-1/0,this.max=Rs(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){!e&&e!==0?(this.placeholder=!0,this.rendered=or.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${wl(e,this.round)}`),this._value=wl(e,this.round)),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e==="-"||e==="."&&this.float||pp.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=e!==""?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return vl(function*(){let t=yield e.validator(e.value);typeof t=="string"&&(e.errorMsg=t,t=!1),e.error=!t})()}submit(){var e=this;return vl(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}let t=e.value;e.value=t!==""?t:e.initial,e.done=!0,e.aborted=!1,e.error=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,t){if(!this.valid(e))return this.bell();let r=Date.now();if(r-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=r,this.color="cyan",e===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(ar.down(mp(this.outputError,this.out.columns)-1)+bl(this.outputError,this.out.columns)),this.out.write(bl(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[xs.symbol(this.done,this.aborted),or.bold(this.msg),xs.delimiter(this.done),!this.done||!this.done&&!this.placeholder?or[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,t,r)=>e+`
${r?" ":fp.pointerSmall} ${or.red().italic(t)}`,"")),this.out.write(dp.line+ar.to(0)+this.outputText+ar.save+this.outputError+ar.restore))}};El.exports=Sl});var As=w((m_,Al)=>{"use strict";var Re=j(),gp=U(),yp=gp.cursor,vp=$e(),wi=be(),Cl=wi.clear,et=wi.figures,xl=wi.style,bp=wi.wrap,wp=wi.entriesToDisplay,Rl=class extends vp{constructor(e={}){super(e);this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((t,r)=>(typeof t=="string"&&(t={title:t,value:r}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(t.value===void 0?r:t.value),selected:t&&t.selected,disabled:t&&t.disabled})),this.clear=Cl("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let e=this.value.filter(t=>t.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(t=>!t.disabled).forEach(t=>t.selected=e),this.render()}_(e,t){if(e===" ")this.handleSpaceToggle();else if(e==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${et.arrowUp}/${et.arrowDown}: Highlight option
    ${et.arrowLeft}/${et.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,t,r,s){let n=(t.selected?Re.green(et.radioOn):et.radioOff)+" "+s+" ",o,a;return t.disabled?o=e===r?Re.gray().underline(t.title):Re.strikethrough().gray(t.title):(o=e===r?Re.cyan().underline(t.title):t.title,e===r&&t.description&&(a=` - ${t.description}`,(n.length+o.length+a.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(a=`
`+bp(t.description,{margin:n.length,width:this.out.columns})))),n+o+Re.gray(a||"")}paginateOptions(e){if(e.length===0)return Re.red("No matches for this query.");let t=wp(this.cursor,e.length,this.optionsPerPage),r=t.startIndex,s=t.endIndex,n,o=[];for(let a=r;a<s;a++)a===r&&r>0?n=et.arrowUp:a===s-1&&s<e.length?n=et.arrowDown:n=" ",o.push(this.renderOption(this.cursor,e[a],a,n));return`
`+o.join(`
`)}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(t=>t.selected).map(t=>t.title).join(", ");let e=[Re.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(Re.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(yp.hide),super.render();let e=[xl.symbol(this.done,this.aborted),Re.bold(this.msg),xl.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=Re.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=Cl(e,this.out.columns)}};Al.exports=Rl});var Pl=w((p_,Fl)=>{"use strict";function Tl(i,e,t,r,s,n,o){try{var a=i[n](o),l=a.value}catch(h){t(h);return}a.done?e(l):Promise.resolve(l).then(r,s)}function _p(i){return function(){var e=this,t=arguments;return new Promise(function(r,s){var n=i.apply(e,t);function o(l){Tl(n,r,s,o,a,"next",l)}function a(l){Tl(n,r,s,o,a,"throw",l)}o(void 0)})}}var _i=j(),Sp=$e(),kl=U(),Ep=kl.erase,Il=kl.cursor,Si=be(),Ts=Si.style,Dl=Si.clear,Is=Si.figures,Op=Si.wrap,Cp=Si.entriesToDisplay,Ml=(i,e)=>i[e]&&(i[e].value||i[e].title||i[e]),xp=(i,e)=>i[e]&&(i[e].title||i[e].value||i[e]),Rp=(i,e)=>{let t=i.findIndex(r=>r.value===e||r.title===e);return t>-1?t:void 0},Nl=class extends Sp{constructor(e={}){super(e);this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial=typeof e.initial=="number"?e.initial:Rp(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=Ts.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=Dl("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return typeof this._fb=="number"?e=this.choices[this._fb]:typeof this._fb=="string"&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=Ml(this.suggestions,e):this.value=this.fallback.value,this.fire()}complete(e){var t=this;return _p(function*(){let r=t.completing=t.suggest(t.input,t.choices),s=yield r;if(t.completing!==r)return;t.suggestions=s.map((o,a,l)=>({title:xp(l,a),value:Ml(l,a),description:o.description})),t.completing=!1;let n=Math.max(s.length-1,0);t.moveSelect(Math.min(n,t.select)),e&&e()})()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,t){let r=this.input.slice(0,this.cursor),s=this.input.slice(this.cursor);this.input=`${r}${e}${s}`,this.cursor=r.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1),t=this.input.slice(this.cursor);this.input=`${e}${t}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),t=this.input.slice(this.cursor+1);this.input=`${e}${t}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,t,r,s){let n,o=r?Is.arrowUp:s?Is.arrowDown:" ",a=t?_i.cyan().underline(e.title):e.title;return o=(t?_i.cyan(Is.pointer)+" ":"  ")+o,e.description&&(n=` - ${e.description}`,(o.length+a.length+n.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(n=`
`+Op(e.description,{margin:3,width:this.out.columns}))),o+" "+a+_i.gray(n||"")}render(){if(this.closed)return;this.firstRender?this.out.write(Il.hide):this.out.write(Dl(this.outputText,this.out.columns)),super.render();let e=Cp(this.select,this.choices.length,this.limit),t=e.startIndex,r=e.endIndex;if(this.outputText=[Ts.symbol(this.done,this.aborted,this.exited),_i.bold(this.msg),Ts.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let s=this.suggestions.slice(t,r).map((n,o)=>this.renderOption(n,this.select===o+t,o===0&&t>0,o+t===r-1&&r<this.choices.length)).join(`
`);this.outputText+=`
`+(s||_i.gray(this.fallback.title))}this.out.write(Ep.line+Il.to(0)+this.outputText)}};Fl.exports=Nl});var jl=w((g_,Bl)=>{"use strict";var Be=j(),Ap=U(),Tp=Ap.cursor,Ip=As(),Ds=be(),$l=Ds.clear,Ll=Ds.style,qt=Ds.figures,ql=class extends Ip{constructor(e={}){e.overrideRender=!0;super(e);this.inputValue="",this.clear=$l("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(r=>this.inputValue?!!(typeof r.title=="string"&&r.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof r.value=="string"&&r.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let t=this.filteredOptions.findIndex(r=>r===e);this.cursor=t<0?0:t,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,t){e===" "?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${qt.arrowUp}/${qt.arrowDown}: Highlight option
    ${qt.arrowLeft}/${qt.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:Be.gray("Enter something to filter")}
`}renderOption(e,t,r){let s;return t.disabled?s=e===r?Be.gray().underline(t.title):Be.strikethrough().gray(t.title):s=e===r?Be.cyan().underline(t.title):t.title,(t.selected?Be.green(qt.radioOn):qt.radioOff)+"  "+s}renderDoneOrInstructions(){if(this.done)return this.value.filter(t=>t.selected).map(t=>t.title).join(", ");let e=[Be.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(Be.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Tp.hide),super.render();let e=[Ll.symbol(this.done,this.aborted),Be.bold(this.msg),Ll.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=Be.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=$l(e,this.out.columns)}};Bl.exports=ql});var Zl=w((y_,Yl)=>{"use strict";var Hl=j(),Dp=$e(),zl=be(),Ul=zl.style,Mp=zl.clear,Gl=U(),kp=Gl.erase,Vl=Gl.cursor,Wl=class extends Dp{constructor(e={}){super(e);this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,t){return e.toLowerCase()==="y"?(this.value=!0,this.submit()):e.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(Vl.hide):this.out.write(Mp(this.outputText,this.out.columns)),super.render(),this.outputText=[Ul.symbol(this.done,this.aborted),Hl.bold(this.msg),Ul.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:Hl.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(kp.line+Vl.to(0)+this.outputText))}};Yl.exports=Wl});var Xl=w((v_,Kl)=>{"use strict";Kl.exports={TextPrompt:wa(),SelectPrompt:Ca(),TogglePrompt:Ma(),DatePrompt:gl(),NumberPrompt:Ol(),MultiselectPrompt:As(),AutocompletePrompt:Pl(),AutocompleteMultiselectPrompt:jl(),ConfirmPrompt:Zl()}});var Ql=w(Jl=>{"use strict";var ie=Jl,Np=Xl(),hr=i=>i;function Ae(i,e,t={}){return new Promise((r,s)=>{let n=new Np[i](e),o=t.onAbort||hr,a=t.onSubmit||hr,l=t.onExit||hr;n.on("state",e.onState||hr),n.on("submit",h=>r(a(h))),n.on("exit",h=>r(l(h))),n.on("abort",h=>s(o(h)))})}ie.text=i=>Ae("TextPrompt",i);ie.password=i=>(i.style="password",ie.text(i));ie.invisible=i=>(i.style="invisible",ie.text(i));ie.number=i=>Ae("NumberPrompt",i);ie.date=i=>Ae("DatePrompt",i);ie.confirm=i=>Ae("ConfirmPrompt",i);ie.list=i=>{let e=i.separator||",";return Ae("TextPrompt",i,{onSubmit:t=>t.split(e).map(r=>r.trim())})};ie.toggle=i=>Ae("TogglePrompt",i);ie.select=i=>Ae("SelectPrompt",i);ie.multiselect=i=>{i.choices=[].concat(i.choices||[]);let e=t=>t.filter(r=>r.selected).map(r=>r.value);return Ae("MultiselectPrompt",i,{onAbort:e,onSubmit:e})};ie.autocompleteMultiselect=i=>{i.choices=[].concat(i.choices||[]);let e=t=>t.filter(r=>r.selected).map(r=>r.value);return Ae("AutocompleteMultiselectPrompt",i,{onAbort:e,onSubmit:e})};var Fp=(i,e)=>Promise.resolve(e.filter(t=>t.title.slice(0,i.length).toLowerCase()===i.toLowerCase()));ie.autocomplete=i=>(i.suggest=i.suggest||Fp,i.choices=[].concat(i.choices||[]),Ae("AutocompletePrompt",i))});var ah=w((w_,oh)=>{"use strict";function eh(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),t.push.apply(t,r)}return t}function th(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eh(Object(t),!0).forEach(function(r){Pp(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):eh(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function Pp(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function $p(i,e){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=Lp(i))||e&&i&&typeof i.length=="number"){t&&(i=t);var r=0,s=function(){};return{s,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(h){throw h},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=!0,o=!1,a;return{s:function(){t=t.call(i)},n:function(){var h=t.next();return n=h.done,h},e:function(h){o=!0,a=h},f:function(){try{!n&&t.return!=null&&t.return()}finally{if(o)throw a}}}}function Lp(i,e){if(!!i){if(typeof i=="string")return ih(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ih(i,e)}}function ih(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}function rh(i,e,t,r,s,n,o){try{var a=i[n](o),l=a.value}catch(h){t(h);return}a.done?e(l):Promise.resolve(l).then(r,s)}function sh(i){return function(){var e=this,t=arguments;return new Promise(function(r,s){var n=i.apply(e,t);function o(l){rh(n,r,s,o,a,"next",l)}function a(l){rh(n,r,s,o,a,"throw",l)}o(void 0)})}}var Ms=Ql(),qp=["suggest","format","onState","validate","onRender","type"],nh=()=>{};function tt(){return ks.apply(this,arguments)}function ks(){return ks=sh(function*(i=[],{onSubmit:e=nh,onCancel:t=nh}={}){let r={},s=tt._override||{};i=[].concat(i);let n,o,a,l,h,u,c=function(){var y=sh(function*(_,E,N=!1){if(!(!N&&_.validate&&_.validate(E)!==!0))return _.format?yield _.format(E,r):E});return function(E,N){return y.apply(this,arguments)}}();var d=$p(i),f;try{for(d.s();!(f=d.n()).done;){o=f.value;var p=o;if(l=p.name,h=p.type,typeof h=="function"&&(h=yield h(n,th({},r),o),o.type=h),!!h){for(let y in o){if(qp.includes(y))continue;let _=o[y];o[y]=typeof _=="function"?yield _(n,th({},r),u):_}if(u=o,typeof o.message!="string")throw new Error("prompt message is required");var g=o;if(l=g.name,h=g.type,Ms[h]===void 0)throw new Error(`prompt type (${h}) is not defined`);if(s[o.name]!==void 0&&(n=yield c(o,s[o.name]),n!==void 0)){r[l]=n;continue}try{n=tt._injected?Bp(tt._injected,o.initial):yield Ms[h](o),r[l]=n=yield c(o,n,!0),a=yield e(o,n,r)}catch{a=!(yield t(o,r))}if(a)return r}}}catch(y){d.e(y)}finally{d.f()}return r}),ks.apply(this,arguments)}function Bp(i,e){let t=i.shift();if(t instanceof Error)throw t;return t===void 0?e:t}function jp(i){tt._injected=(tt._injected||[]).concat(i)}function Hp(i){tt._override=Object.assign({},i)}oh.exports=Object.assign(tt,{prompt:tt,prompts:Ms,inject:jp,override:Hp})});var hh=w((__,lh)=>{"use strict";lh.exports=(i,e)=>{if(!(i.meta&&i.name!=="escape")){if(i.ctrl){if(i.name==="a")return"first";if(i.name==="c"||i.name==="d")return"abort";if(i.name==="e")return"last";if(i.name==="g")return"reset"}if(e){if(i.name==="j")return"down";if(i.name==="k")return"up"}return i.name==="return"||i.name==="enter"?"submit":i.name==="backspace"?"delete":i.name==="delete"?"deleteForward":i.name==="abort"?"abort":i.name==="escape"?"exit":i.name==="tab"?"next":i.name==="pagedown"?"nextPage":i.name==="pageup"?"prevPage":i.name==="home"?"home":i.name==="end"?"end":i.name==="up"?"up":i.name==="down"?"down":i.name==="right"?"right":i.name==="left"?"left":!1}}});var ur=w((S_,uh)=>{"use strict";uh.exports=i=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),t=new RegExp(e,"g");return typeof i=="string"?i.replace(t,""):i}});var fh=w((E_,dh)=>{"use strict";var Up=ur(),{erase:ch,cursor:Vp}=U(),zp=i=>[...Up(i)].length;dh.exports=function(i,e){if(!e)return ch.line+Vp.to(0);let t=0,r=i.split(/\r?\n/);for(let s of r)t+=1+Math.floor(Math.max(zp(s)-1,0)/e);return ch.lines(t)}});var Ns=w((O_,mh)=>{"use strict";var Ei={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},Gp={arrowUp:Ei.arrowUp,arrowDown:Ei.arrowDown,arrowLeft:Ei.arrowLeft,arrowRight:Ei.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},Wp=process.platform==="win32"?Gp:Ei;mh.exports=Wp});var gh=w((C_,ph)=>{"use strict";var Bt=j(),bt=Ns(),Fs=Object.freeze({password:{scale:1,render:i=>"*".repeat(i.length)},emoji:{scale:2,render:i=>"\u{1F603}".repeat(i.length)},invisible:{scale:0,render:i=>""},default:{scale:1,render:i=>`${i}`}}),Yp=i=>Fs[i]||Fs.default,Oi=Object.freeze({aborted:Bt.red(bt.cross),done:Bt.green(bt.tick),exited:Bt.yellow(bt.cross),default:Bt.cyan("?")}),Zp=(i,e,t)=>e?Oi.aborted:t?Oi.exited:i?Oi.done:Oi.default,Kp=i=>Bt.gray(i?bt.ellipsis:bt.pointerSmall),Xp=(i,e)=>Bt.gray(i?e?bt.pointerSmall:"+":bt.line);ph.exports={styles:Fs,render:Yp,symbols:Oi,symbol:Zp,delimiter:Kp,item:Xp}});var vh=w((x_,yh)=>{"use strict";var Jp=ur();yh.exports=function(i,e){let t=String(Jp(i)||"").split(/\r?\n/);return e?t.map(r=>Math.ceil(r.length/e)).reduce((r,s)=>r+s):t.length}});var wh=w((R_,bh)=>{"use strict";bh.exports=(i,e={})=>{let t=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",r=e.width;return(i||"").split(/\r?\n/g).map(s=>s.split(/\s+/g).reduce((n,o)=>(o.length+t.length>=r||n[n.length-1].length+o.length+1<r?n[n.length-1]+=` ${o}`:n.push(`${t}${o}`),n),[t]).join(`
`)).join(`
`)}});var Sh=w((A_,_h)=>{"use strict";_h.exports=(i,e,t)=>{t=t||e;let r=Math.min(e-t,i-Math.floor(t/2));r<0&&(r=0);let s=Math.min(r+t,e);return{startIndex:r,endIndex:s}}});var we=w((T_,Eh)=>{"use strict";Eh.exports={action:hh(),clear:fh(),style:gh(),strip:ur(),figures:Ns(),lines:vh(),wrap:wh(),entriesToDisplay:Sh()}});var je=w((I_,xh)=>{"use strict";var Oh=require("readline"),{action:Qp}=we(),eg=require("events"),{beep:tg,cursor:ig}=U(),rg=j(),Ch=class extends eg{constructor(e={}){super();this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>{})).bind(this);let t=Oh.createInterface({input:this.in,escapeCodeTimeout:50});Oh.emitKeypressEvents(this.in,t),this.in.isTTY&&this.in.setRawMode(!0);let r=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,s=(n,o)=>{let a=Qp(o,r);a===!1?this._&&this._(n,o):typeof this[a]=="function"?this[a](o):this.bell()};this.close=()=>{this.out.write(ig.show),this.in.removeListener("keypress",s),this.in.isTTY&&this.in.setRawMode(!1),t.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",s)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(tg)}render(){this.onRender(rg),this.firstRender&&(this.firstRender=!1)}};xh.exports=Ch});var Th=w((D_,Ah)=>{var cr=j(),sg=je(),{erase:ng,cursor:Ci}=U(),{style:Ps,clear:$s,lines:og,figures:ag}=we(),Rh=class extends sg{constructor(e={}){super(e);this.transform=Ps.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=$s("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=cr.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,t){let r=this.value.slice(0,this.cursor),s=this.value.slice(this.cursor);this.value=`${r}${e}${s}`,this.red=!1,this.cursor=this.placeholder?0:r.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),t=this.value.slice(this.cursor);this.value=`${e}${t}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),t=this.value.slice(this.cursor+1);this.value=`${e}${t}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Ci.down(og(this.outputError,this.out.columns)-1)+$s(this.outputError,this.out.columns)),this.out.write($s(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Ps.symbol(this.done,this.aborted),cr.bold(this.msg),Ps.delimiter(this.done),this.red?cr.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,t,r)=>e+`
${r?" ":ag.pointerSmall} ${cr.red().italic(t)}`,"")),this.out.write(ng.line+Ci.to(0)+this.outputText+Ci.save+this.outputError+Ci.restore+Ci.move(this.cursorOffset,0)))}};Ah.exports=Rh});var Nh=w((M_,kh)=>{"use strict";var He=j(),lg=je(),{style:Ih,clear:Dh,figures:dr,wrap:hg,entriesToDisplay:ug}=we(),{cursor:cg}=U(),Mh=class extends lg{constructor(e={}){super(e);this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((t,r)=>(typeof t=="string"&&(t={title:t,value:r}),{title:t&&(t.title||t.value||t),value:t&&(t.value===void 0?r:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=Dh("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,t){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(cg.hide):this.out.write(Dh(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:t}=ug(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[Ih.symbol(this.done,this.aborted),He.bold(this.msg),Ih.delimiter(!1),this.done?this.selection.title:this.selection.disabled?He.yellow(this.warn):He.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let r=e;r<t;r++){let s,n,o="",a=this.choices[r];r===e&&e>0?n=dr.arrowUp:r===t-1&&t<this.choices.length?n=dr.arrowDown:n=" ",a.disabled?(s=this.cursor===r?He.gray().underline(a.title):He.strikethrough().gray(a.title),n=(this.cursor===r?He.bold().gray(dr.pointer)+" ":"  ")+n):(s=this.cursor===r?He.cyan().underline(a.title):a.title,n=(this.cursor===r?He.cyan(dr.pointer)+" ":"  ")+n,a.description&&this.cursor===r&&(o=` - ${a.description}`,(n.length+s.length+o.length>=this.out.columns||a.description.split(/\r?\n/).length>1)&&(o=`
`+hg(a.description,{margin:3,width:this.out.columns})))),this.outputText+=`${n} ${s}${He.gray(o)}
`}}this.out.write(this.outputText)}};kh.exports=Mh});var qh=w((k_,Lh)=>{var fr=j(),dg=je(),{style:Fh,clear:fg}=we(),{cursor:Ph,erase:mg}=U(),$h=class extends dg{constructor(e={}){super(e);this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,t){if(e===" ")this.value=!this.value;else if(e==="1")this.value=!0;else if(e==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(Ph.hide):this.out.write(fg(this.outputText,this.out.columns)),super.render(),this.outputText=[Fh.symbol(this.done,this.aborted),fr.bold(this.msg),Fh.delimiter(this.done),this.value?this.inactive:fr.cyan().underline(this.inactive),fr.gray("/"),this.value?fr.cyan().underline(this.active):this.active].join(" "),this.out.write(mg.line+Ph.to(0)+this.outputText))}};Lh.exports=$h});var Te=w((N_,Bh)=>{"use strict";var xi=class{constructor({token:e,date:t,parts:r,locales:s}){this.token=e,this.date=t||new Date,this.parts=r||[this],this.locales=s||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((t,r)=>r>e&&t instanceof xi)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),t=e.indexOf(this);return e.find((r,s)=>s>t&&r instanceof xi)}toString(){return String(this.date)}};Bh.exports=xi});var Uh=w((F_,Hh)=>{"use strict";var pg=Te(),jh=class extends pg{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}};Hh.exports=jh});var Gh=w((P_,zh)=>{"use strict";var gg=Te(),yg=i=>(i=i%10,i===1?"st":i===2?"nd":i===3?"rd":"th"),Vh=class extends gg{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),t=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+yg(e):this.token==="d"?t+1:this.token==="ddd"?this.locales.weekdaysShort[t]:this.token==="dddd"?this.locales.weekdays[t]:e}};zh.exports=Vh});var Zh=w(($_,Yh)=>{"use strict";var vg=Te(),Wh=class extends vg{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}};Yh.exports=Wh});var Jh=w((L_,Xh)=>{"use strict";var bg=Te(),Kh=class extends bg{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};Xh.exports=Kh});var tu=w((q_,eu)=>{"use strict";var wg=Te(),Qh=class extends wg{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}};eu.exports=Qh});var su=w((B_,ru)=>{"use strict";var _g=Te(),iu=class extends _g{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),t=this.token.length;return t===2?String(e+1).padStart(2,"0"):t===3?this.locales.monthsShort[e]:t===4?this.locales.months[e]:String(e+1)}};ru.exports=iu});var au=w((j_,ou)=>{"use strict";var Sg=Te(),nu=class extends Sg{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}};ou.exports=nu});var uu=w((H_,hu)=>{"use strict";var Eg=Te(),lu=class extends Eg{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}};hu.exports=lu});var du=w((U_,cu)=>{"use strict";cu.exports={DatePart:Te(),Meridiem:Uh(),Day:Gh(),Hours:Zh(),Milliseconds:Jh(),Minutes:tu(),Month:su(),Seconds:au(),Year:uu()}});var wu=w((V_,bu)=>{"use strict";var Ls=j(),Og=je(),{style:fu,clear:mu,figures:Cg}=we(),{erase:xg,cursor:pu}=U(),{DatePart:gu,Meridiem:Rg,Day:Ag,Hours:Tg,Milliseconds:Ig,Minutes:Dg,Month:Mg,Seconds:kg,Year:Ng}=du(),Fg=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,yu={1:({token:i})=>i.replace(/\\(.)/g,"$1"),2:i=>new Ag(i),3:i=>new Mg(i),4:i=>new Ng(i),5:i=>new Rg(i),6:i=>new Tg(i),7:i=>new Dg(i),8:i=>new kg(i),9:i=>new Ig(i)},Pg={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},vu=class extends Og{constructor(e={}){super(e);this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(Pg,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=mu("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let t;for(this.parts=[];t=Fg.exec(e);){let s=t.shift(),n=t.findIndex(o=>o!=null);this.parts.push(n in yu?yu[n]({token:t[n]||s,date:this.date,parts:this.parts,locales:this.locales}):t[n]||s)}let r=this.parts.reduce((s,n)=>(typeof n=="string"&&typeof s[s.length-1]=="string"?s[s.length-1]+=n:s.push(n),s),[]);this.parts.splice(0),this.parts.push(...r),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof gu)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(t=>t instanceof gu)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(pu.hide):this.out.write(mu(this.outputText,this.out.columns)),super.render(),this.outputText=[fu.symbol(this.done,this.aborted),Ls.bold(this.msg),fu.delimiter(!1),this.parts.reduce((e,t,r)=>e.concat(r===this.cursor&&!this.done?Ls.cyan().underline(t.toString()):t),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((e,t,r)=>e+`
${r?" ":Cg.pointerSmall} ${Ls.red().italic(t)}`,"")),this.out.write(xg.line+pu.to(0)+this.outputText))}};bu.exports=vu});var Cu=w((z_,Ou)=>{var mr=j(),$g=je(),{cursor:pr,erase:Lg}=U(),{style:qs,figures:qg,clear:_u,lines:Bg}=we(),jg=/[0-9]/,Bs=i=>i!==void 0,Su=(i,e)=>{let t=Math.pow(10,e);return Math.round(i*t)/t},Eu=class extends $g{constructor(e={}){super(e);this.transform=qs.render(e.style),this.msg=e.message,this.initial=Bs(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=Bs(e.min)?e.min:-1/0,this.max=Bs(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){!e&&e!==0?(this.placeholder=!0,this.rendered=mr.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${Su(e,this.round)}`),this._value=Su(e,this.round)),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e==="-"||e==="."&&this.float||jg.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=e!==""?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let e=this.value;this.value=e!==""?e:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,t){if(!this.valid(e))return this.bell();let r=Date.now();if(r-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=r,this.color="cyan",e===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(pr.down(Bg(this.outputError,this.out.columns)-1)+_u(this.outputError,this.out.columns)),this.out.write(_u(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[qs.symbol(this.done,this.aborted),mr.bold(this.msg),qs.delimiter(this.done),!this.done||!this.done&&!this.placeholder?mr[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,t,r)=>e+`
${r?" ":qg.pointerSmall} ${mr.red().italic(t)}`,"")),this.out.write(Lg.line+pr.to(0)+this.outputText+pr.save+this.outputError+pr.restore))}};Ou.exports=Eu});var js=w((G_,Tu)=>{"use strict";var Ie=j(),{cursor:Hg}=U(),Ug=je(),{clear:xu,figures:it,style:Ru,wrap:Vg,entriesToDisplay:zg}=we(),Au=class extends Ug{constructor(e={}){super(e);this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((t,r)=>(typeof t=="string"&&(t={title:t,value:r}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(t.value===void 0?r:t.value),selected:t&&t.selected,disabled:t&&t.disabled})),this.clear=xu("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let e=this.value.filter(t=>t.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(t=>!t.disabled).forEach(t=>t.selected=e),this.render()}_(e,t){if(e===" ")this.handleSpaceToggle();else if(e==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${it.arrowUp}/${it.arrowDown}: Highlight option
    ${it.arrowLeft}/${it.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,t,r,s){let n=(t.selected?Ie.green(it.radioOn):it.radioOff)+" "+s+" ",o,a;return t.disabled?o=e===r?Ie.gray().underline(t.title):Ie.strikethrough().gray(t.title):(o=e===r?Ie.cyan().underline(t.title):t.title,e===r&&t.description&&(a=` - ${t.description}`,(n.length+o.length+a.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(a=`
`+Vg(t.description,{margin:n.length,width:this.out.columns})))),n+o+Ie.gray(a||"")}paginateOptions(e){if(e.length===0)return Ie.red("No matches for this query.");let{startIndex:t,endIndex:r}=zg(this.cursor,e.length,this.optionsPerPage),s,n=[];for(let o=t;o<r;o++)o===t&&t>0?s=it.arrowUp:o===r-1&&r<e.length?s=it.arrowDown:s=" ",n.push(this.renderOption(this.cursor,e[o],o,s));return`
`+n.join(`
`)}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(t=>t.selected).map(t=>t.title).join(", ");let e=[Ie.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(Ie.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Hg.hide),super.render();let e=[Ru.symbol(this.done,this.aborted),Ie.bold(this.msg),Ru.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=Ie.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=xu(e,this.out.columns)}};Tu.exports=Au});var Fu=w((W_,Nu)=>{"use strict";var Ri=j(),Gg=je(),{erase:Wg,cursor:Iu}=U(),{style:Hs,clear:Du,figures:Us,wrap:Yg,entriesToDisplay:Zg}=we(),Mu=(i,e)=>i[e]&&(i[e].value||i[e].title||i[e]),Kg=(i,e)=>i[e]&&(i[e].title||i[e].value||i[e]),Xg=(i,e)=>{let t=i.findIndex(r=>r.value===e||r.title===e);return t>-1?t:void 0},ku=class extends Gg{constructor(e={}){super(e);this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial=typeof e.initial=="number"?e.initial:Xg(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=Hs.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=Du("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return typeof this._fb=="number"?e=this.choices[this._fb]:typeof this._fb=="string"&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=Mu(this.suggestions,e):this.value=this.fallback.value,this.fire()}async complete(e){let t=this.completing=this.suggest(this.input,this.choices),r=await t;if(this.completing!==t)return;this.suggestions=r.map((n,o,a)=>({title:Kg(a,o),value:Mu(a,o),description:n.description})),this.completing=!1;let s=Math.max(r.length-1,0);this.moveSelect(Math.min(s,this.select)),e&&e()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,t){let r=this.input.slice(0,this.cursor),s=this.input.slice(this.cursor);this.input=`${r}${e}${s}`,this.cursor=r.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1),t=this.input.slice(this.cursor);this.input=`${e}${t}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),t=this.input.slice(this.cursor+1);this.input=`${e}${t}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,t,r,s){let n,o=r?Us.arrowUp:s?Us.arrowDown:" ",a=t?Ri.cyan().underline(e.title):e.title;return o=(t?Ri.cyan(Us.pointer)+" ":"  ")+o,e.description&&(n=` - ${e.description}`,(o.length+a.length+n.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(n=`
`+Yg(e.description,{margin:3,width:this.out.columns}))),o+" "+a+Ri.gray(n||"")}render(){if(this.closed)return;this.firstRender?this.out.write(Iu.hide):this.out.write(Du(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:t}=Zg(this.select,this.choices.length,this.limit);if(this.outputText=[Hs.symbol(this.done,this.aborted,this.exited),Ri.bold(this.msg),Hs.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let r=this.suggestions.slice(e,t).map((s,n)=>this.renderOption(s,this.select===n+e,n===0&&e>0,n+e===t-1&&t<this.choices.length)).join(`
`);this.outputText+=`
`+(r||Ri.gray(this.fallback.title))}this.out.write(Wg.line+Iu.to(0)+this.outputText)}};Nu.exports=ku});var Bu=w((Y_,qu)=>{"use strict";var Ue=j(),{cursor:Jg}=U(),Qg=js(),{clear:Pu,style:$u,figures:jt}=we(),Lu=class extends Qg{constructor(e={}){e.overrideRender=!0;super(e);this.inputValue="",this.clear=Pu("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(r=>this.inputValue?!!(typeof r.title=="string"&&r.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof r.value=="string"&&r.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let t=this.filteredOptions.findIndex(r=>r===e);this.cursor=t<0?0:t,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,t){e===" "?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${jt.arrowUp}/${jt.arrowDown}: Highlight option
    ${jt.arrowLeft}/${jt.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:Ue.gray("Enter something to filter")}
`}renderOption(e,t,r){let s;return t.disabled?s=e===r?Ue.gray().underline(t.title):Ue.strikethrough().gray(t.title):s=e===r?Ue.cyan().underline(t.title):t.title,(t.selected?Ue.green(jt.radioOn):jt.radioOff)+"  "+s}renderDoneOrInstructions(){if(this.done)return this.value.filter(t=>t.selected).map(t=>t.title).join(", ");let e=[Ue.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(Ue.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Jg.hide),super.render();let e=[$u.symbol(this.done,this.aborted),Ue.bold(this.msg),$u.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=Ue.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=Pu(e,this.out.columns)}};qu.exports=Lu});var Gu=w((Z_,zu)=>{var ju=j(),ey=je(),{style:Hu,clear:ty}=we(),{erase:iy,cursor:Uu}=U(),Vu=class extends ey{constructor(e={}){super(e);this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,t){return e.toLowerCase()==="y"?(this.value=!0,this.submit()):e.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(Uu.hide):this.out.write(ty(this.outputText,this.out.columns)),super.render(),this.outputText=[Hu.symbol(this.done,this.aborted),ju.bold(this.msg),Hu.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:ju.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(iy.line+Uu.to(0)+this.outputText))}};zu.exports=Vu});var Yu=w((K_,Wu)=>{"use strict";Wu.exports={TextPrompt:Th(),SelectPrompt:Nh(),TogglePrompt:qh(),DatePrompt:wu(),NumberPrompt:Cu(),MultiselectPrompt:js(),AutocompletePrompt:Fu(),AutocompleteMultiselectPrompt:Bu(),ConfirmPrompt:Gu()}});var Ku=w(Zu=>{"use strict";var re=Zu,ry=Yu(),gr=i=>i;function De(i,e,t={}){return new Promise((r,s)=>{let n=new ry[i](e),o=t.onAbort||gr,a=t.onSubmit||gr,l=t.onExit||gr;n.on("state",e.onState||gr),n.on("submit",h=>r(a(h))),n.on("exit",h=>r(l(h))),n.on("abort",h=>s(o(h)))})}re.text=i=>De("TextPrompt",i);re.password=i=>(i.style="password",re.text(i));re.invisible=i=>(i.style="invisible",re.text(i));re.number=i=>De("NumberPrompt",i);re.date=i=>De("DatePrompt",i);re.confirm=i=>De("ConfirmPrompt",i);re.list=i=>{let e=i.separator||",";return De("TextPrompt",i,{onSubmit:t=>t.split(e).map(r=>r.trim())})};re.toggle=i=>De("TogglePrompt",i);re.select=i=>De("SelectPrompt",i);re.multiselect=i=>{i.choices=[].concat(i.choices||[]);let e=t=>t.filter(r=>r.selected).map(r=>r.value);return De("MultiselectPrompt",i,{onAbort:e,onSubmit:e})};re.autocompleteMultiselect=i=>{i.choices=[].concat(i.choices||[]);let e=t=>t.filter(r=>r.selected).map(r=>r.value);return De("AutocompleteMultiselectPrompt",i,{onAbort:e,onSubmit:e})};var sy=(i,e)=>Promise.resolve(e.filter(t=>t.title.slice(0,i.length).toLowerCase()===i.toLowerCase()));re.autocomplete=i=>(i.suggest=i.suggest||sy,i.choices=[].concat(i.choices||[]),De("AutocompletePrompt",i))});var Qu=w((J_,Ju)=>{"use strict";var Vs=Ku(),ny=["suggest","format","onState","validate","onRender","type"],Xu=()=>{};async function rt(i=[],{onSubmit:e=Xu,onCancel:t=Xu}={}){let r={},s=rt._override||{};i=[].concat(i);let n,o,a,l,h,u,c=async(d,f,p=!1)=>{if(!(!p&&d.validate&&d.validate(f)!==!0))return d.format?await d.format(f,r):f};for(o of i)if({name:l,type:h}=o,typeof h=="function"&&(h=await h(n,$t({},r),o),o.type=h),!!h){for(let d in o){if(ny.includes(d))continue;let f=o[d];o[d]=typeof f=="function"?await f(n,$t({},r),u):f}if(u=o,typeof o.message!="string")throw new Error("prompt message is required");if({name:l,type:h}=o,Vs[h]===void 0)throw new Error(`prompt type (${h}) is not defined`);if(s[o.name]!==void 0&&(n=await c(o,s[o.name]),n!==void 0)){r[l]=n;continue}try{n=rt._injected?oy(rt._injected,o.initial):await Vs[h](o),r[l]=n=await c(o,n,!0),a=await e(o,n,r)}catch{a=!await t(o,r)}if(a)return r}return r}function oy(i,e){let t=i.shift();if(t instanceof Error)throw t;return t===void 0?e:t}function ay(i){rt._injected=(rt._injected||[]).concat(i)}function ly(i){rt._override=Object.assign({},i)}Ju.exports=Object.assign(rt,{prompt:rt,prompts:Vs,inject:ay,override:ly})});var tc=w((Q_,ec)=>{function hy(i){i=(Array.isArray(i)?i:i.split(".")).map(Number);let e=0,t=process.versions.node.split(".").map(Number);for(;e<i.length;e++){if(t[e]>i[e])return!1;if(i[e]>t[e])return!0}return!1}ec.exports=hy("8.6.0")?ah():Qu()});var Ai=w(Gs=>{var zs=class extends Error{constructor(e,t,r){super(r);Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=t,this.exitCode=e,this.nestedError=void 0}},ic=class extends zs{constructor(e){super(1,"commander.invalidArgument",e);Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}};Gs.CommanderError=zs;Gs.InvalidArgumentError=ic});var yr=w(Ws=>{var{InvalidArgumentError:uy}=Ai(),rc=class{constructor(e,t){switch(this.description=t||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,e[0]){case"<":this.required=!0,this._name=e.slice(1,-1);break;case"[":this.required=!1,this._name=e.slice(1,-1);break;default:this.required=!0,this._name=e;break}this._name.length>3&&this._name.slice(-3)==="..."&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(e,t){return t===this.defaultValue||!Array.isArray(t)?[e]:t.concat(e)}default(e,t){return this.defaultValue=e,this.defaultValueDescription=t,this}argParser(e){return this.parseArg=e,this}choices(e){return this.argChoices=e.slice(),this.parseArg=(t,r)=>{if(!this.argChoices.includes(t))throw new uy(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(t,r):t},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}};function cy(i){let e=i.name()+(i.variadic===!0?"...":"");return i.required?"<"+e+">":"["+e+"]"}Ws.Argument=rc;Ws.humanReadableArgName=cy});var Ys=w(nc=>{var{humanReadableArgName:dy}=yr(),sc=class{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1}visibleCommands(e){let t=e.commands.filter(r=>!r._hidden);if(e._hasImplicitHelpCommand()){let[,r,s]=e._helpCommandnameAndArgs.match(/([^ ]+) *(.*)/),n=e.createCommand(r).helpOption(!1);n.description(e._helpCommandDescription),s&&n.arguments(s),t.push(n)}return this.sortSubcommands&&t.sort((r,s)=>r.name().localeCompare(s.name())),t}visibleOptions(e){let t=e.options.filter(n=>!n.hidden),r=e._hasHelpOption&&e._helpShortFlag&&!e._findOption(e._helpShortFlag),s=e._hasHelpOption&&!e._findOption(e._helpLongFlag);if(r||s){let n;r?s?n=e.createOption(e._helpFlags,e._helpDescription):n=e.createOption(e._helpShortFlag,e._helpDescription):n=e.createOption(e._helpLongFlag,e._helpDescription),t.push(n)}if(this.sortOptions){let n=o=>o.short?o.short.replace(/^-/,""):o.long.replace(/^--/,"");t.sort((o,a)=>n(o).localeCompare(n(a)))}return t}visibleArguments(e){return e._argsDescription&&e._args.forEach(t=>{t.description=t.description||e._argsDescription[t.name()]||""}),e._args.find(t=>t.description)?e._args:[]}subcommandTerm(e){let t=e._args.map(r=>dy(r)).join(" ");return e._name+(e._aliases[0]?"|"+e._aliases[0]:"")+(e.options.length?" [options]":"")+(t?" "+t:"")}optionTerm(e){return e.flags}argumentTerm(e){return e.name()}longestSubcommandTermLength(e,t){return t.visibleCommands(e).reduce((r,s)=>Math.max(r,t.subcommandTerm(s).length),0)}longestOptionTermLength(e,t){return t.visibleOptions(e).reduce((r,s)=>Math.max(r,t.optionTerm(s).length),0)}longestArgumentTermLength(e,t){return t.visibleArguments(e).reduce((r,s)=>Math.max(r,t.argumentTerm(s).length),0)}commandUsage(e){let t=e._name;e._aliases[0]&&(t=t+"|"+e._aliases[0]);let r="";for(let s=e.parent;s;s=s.parent)r=s.name()+" "+r;return r+t+" "+e.usage()}commandDescription(e){return e.description()}subcommandDescription(e){return e.description()}optionDescription(e){let t=[];return e.argChoices&&t.push(`choices: ${e.argChoices.map(r=>JSON.stringify(r)).join(", ")}`),e.defaultValue!==void 0&&(e.required||e.optional||e.isBoolean()&&typeof e.defaultValue=="boolean")&&t.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),e.presetArg!==void 0&&e.optional&&t.push(`preset: ${JSON.stringify(e.presetArg)}`),e.envVar!==void 0&&t.push(`env: ${e.envVar}`),t.length>0?`${e.description} (${t.join(", ")})`:e.description}argumentDescription(e){let t=[];if(e.argChoices&&t.push(`choices: ${e.argChoices.map(r=>JSON.stringify(r)).join(", ")}`),e.defaultValue!==void 0&&t.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),t.length>0){let r=`(${t.join(", ")})`;return e.description?`${e.description} ${r}`:r}return e.description}formatHelp(e,t){let r=t.padWidth(e,t),s=t.helpWidth||80,n=2,o=2;function a(p,g){if(g){let y=`${p.padEnd(r+o)}${g}`;return t.wrap(y,s-n,r+o)}return p}function l(p){return p.join(`
`).replace(/^/gm," ".repeat(n))}let h=[`Usage: ${t.commandUsage(e)}`,""],u=t.commandDescription(e);u.length>0&&(h=h.concat([u,""]));let c=t.visibleArguments(e).map(p=>a(t.argumentTerm(p),t.argumentDescription(p)));c.length>0&&(h=h.concat(["Arguments:",l(c),""]));let d=t.visibleOptions(e).map(p=>a(t.optionTerm(p),t.optionDescription(p)));d.length>0&&(h=h.concat(["Options:",l(d),""]));let f=t.visibleCommands(e).map(p=>a(t.subcommandTerm(p),t.subcommandDescription(p)));return f.length>0&&(h=h.concat(["Commands:",l(f),""])),h.join(`
`)}padWidth(e,t){return Math.max(t.longestOptionTermLength(e,t),t.longestSubcommandTermLength(e,t),t.longestArgumentTermLength(e,t))}wrap(e,t,r,s=40){if(e.match(/[\n]\s+/))return e;let n=t-r;if(n<s)return e;let o=e.slice(0,r),a=e.slice(r),l=" ".repeat(r),h=new RegExp(".{1,"+(n-1)+"}([\\s\u200B]|$)|[^\\s\u200B]+?([\\s\u200B]|$)","g"),u=a.match(h)||[];return o+u.map((c,d)=>(c.slice(-1)===`
`&&(c=c.slice(0,c.length-1)),(d>0?l:"")+c.trimRight())).join(`
`)}};nc.Help=sc});var Ks=w(Zs=>{var{InvalidArgumentError:fy}=Ai(),oc=class{constructor(e,t){this.flags=e,this.description=t||"",this.required=e.includes("<"),this.optional=e.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(e),this.mandatory=!1;let r=ac(e);this.short=r.shortFlag,this.long=r.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[]}default(e,t){return this.defaultValue=e,this.defaultValueDescription=t,this}preset(e){return this.presetArg=e,this}conflicts(e){return this.conflictsWith=this.conflictsWith.concat(e),this}env(e){return this.envVar=e,this}argParser(e){return this.parseArg=e,this}makeOptionMandatory(e=!0){return this.mandatory=!!e,this}hideHelp(e=!0){return this.hidden=!!e,this}_concatValue(e,t){return t===this.defaultValue||!Array.isArray(t)?[e]:t.concat(e)}choices(e){return this.argChoices=e.slice(),this.parseArg=(t,r)=>{if(!this.argChoices.includes(t))throw new fy(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(t,r):t},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return my(this.name().replace(/^no-/,""))}is(e){return this.short===e||this.long===e}isBoolean(){return!this.required&&!this.optional&&!this.negate}};function my(i){return i.split("-").reduce((e,t)=>e+t[0].toUpperCase()+t.slice(1))}function ac(i){let e,t,r=i.split(/[ |,]+/);return r.length>1&&!/^[[<]/.test(r[1])&&(e=r.shift()),t=r.shift(),!e&&/^-[^-]$/.test(t)&&(e=t,t=void 0),{shortFlag:e,longFlag:t}}Zs.Option=oc;Zs.splitOptionFlags=ac});var hc=w(lc=>{function py(i,e){if(Math.abs(i.length-e.length)>3)return Math.max(i.length,e.length);let t=[];for(let r=0;r<=i.length;r++)t[r]=[r];for(let r=0;r<=e.length;r++)t[0][r]=r;for(let r=1;r<=e.length;r++)for(let s=1;s<=i.length;s++){let n=1;i[s-1]===e[r-1]?n=0:n=1,t[s][r]=Math.min(t[s-1][r]+1,t[s][r-1]+1,t[s-1][r-1]+n),s>1&&r>1&&i[s-1]===e[r-2]&&i[s-2]===e[r-1]&&(t[s][r]=Math.min(t[s][r],t[s-2][r-2]+1))}return t[i.length][e.length]}function gy(i,e){if(!e||e.length===0)return"";e=Array.from(new Set(e));let t=i.startsWith("--");t&&(i=i.slice(2),e=e.map(o=>o.slice(2)));let r=[],s=3,n=.4;return e.forEach(o=>{if(o.length<=1)return;let a=py(i,o),l=Math.max(i.length,o.length);(l-a)/l>n&&(a<s?(s=a,r=[o]):a===s&&r.push(o))}),r.sort((o,a)=>o.localeCompare(a)),t&&(r=r.map(o=>`--${o}`)),r.length>1?`
(Did you mean one of ${r.join(", ")}?)`:r.length===1?`
(Did you mean ${r[0]}?)`:""}lc.suggestSimilar=gy});var pc=w(mc=>{var yy=require("events").EventEmitter,Xs=require("child_process"),Ve=require("path"),Js=require("fs"),q=require("process"),{Argument:vy,humanReadableArgName:by}=yr(),{CommanderError:Qs}=Ai(),{Help:wy}=Ys(),{Option:uc,splitOptionFlags:_y}=Ks(),{suggestSimilar:cc}=hc(),br=class extends yy{constructor(e){super();this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!0,this._args=[],this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=e||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._outputConfiguration={writeOut:t=>q.stdout.write(t),writeErr:t=>q.stderr.write(t),getOutHelpWidth:()=>q.stdout.isTTY?q.stdout.columns:void 0,getErrHelpWidth:()=>q.stderr.isTTY?q.stderr.columns:void 0,outputError:(t,r)=>r(t)},this._hidden=!1,this._hasHelpOption=!0,this._helpFlags="-h, --help",this._helpDescription="display help for command",this._helpShortFlag="-h",this._helpLongFlag="--help",this._addImplicitHelpCommand=void 0,this._helpCommandName="help",this._helpCommandnameAndArgs="help [command]",this._helpCommandDescription="display help for command",this._helpConfiguration={}}copyInheritedSettings(e){return this._outputConfiguration=e._outputConfiguration,this._hasHelpOption=e._hasHelpOption,this._helpFlags=e._helpFlags,this._helpDescription=e._helpDescription,this._helpShortFlag=e._helpShortFlag,this._helpLongFlag=e._helpLongFlag,this._helpCommandName=e._helpCommandName,this._helpCommandnameAndArgs=e._helpCommandnameAndArgs,this._helpCommandDescription=e._helpCommandDescription,this._helpConfiguration=e._helpConfiguration,this._exitCallback=e._exitCallback,this._storeOptionsAsProperties=e._storeOptionsAsProperties,this._combineFlagAndOptionalValue=e._combineFlagAndOptionalValue,this._allowExcessArguments=e._allowExcessArguments,this._enablePositionalOptions=e._enablePositionalOptions,this._showHelpAfterError=e._showHelpAfterError,this._showSuggestionAfterError=e._showSuggestionAfterError,this}command(e,t,r){let s=t,n=r;typeof s=="object"&&s!==null&&(n=s,s=null),n=n||{};let[,o,a]=e.match(/([^ ]+) *(.*)/),l=this.createCommand(o);return s&&(l.description(s),l._executableHandler=!0),n.isDefault&&(this._defaultCommandName=l._name),l._hidden=!!(n.noHelp||n.hidden),l._executableFile=n.executableFile||null,a&&l.arguments(a),this.commands.push(l),l.parent=this,l.copyInheritedSettings(this),s?this:l}createCommand(e){return new br(e)}createHelp(){return Object.assign(new wy,this.configureHelp())}configureHelp(e){return e===void 0?this._helpConfiguration:(this._helpConfiguration=e,this)}configureOutput(e){return e===void 0?this._outputConfiguration:(Object.assign(this._outputConfiguration,e),this)}showHelpAfterError(e=!0){return typeof e!="string"&&(e=!!e),this._showHelpAfterError=e,this}showSuggestionAfterError(e=!0){return this._showSuggestionAfterError=!!e,this}addCommand(e,t){if(!e._name)throw new Error(`Command passed to .addCommand() must have a name
- specify the name in Command constructor or using .name()`);return t=t||{},t.isDefault&&(this._defaultCommandName=e._name),(t.noHelp||t.hidden)&&(e._hidden=!0),this.commands.push(e),e.parent=this,this}createArgument(e,t){return new vy(e,t)}argument(e,t,r,s){let n=this.createArgument(e,t);return typeof r=="function"?n.default(s).argParser(r):n.default(r),this.addArgument(n),this}arguments(e){return e.split(/ +/).forEach(t=>{this.argument(t)}),this}addArgument(e){let t=this._args.slice(-1)[0];if(t&&t.variadic)throw new Error(`only the last argument can be variadic '${t.name()}'`);if(e.required&&e.defaultValue!==void 0&&e.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${e.name()}'`);return this._args.push(e),this}addHelpCommand(e,t){return e===!1?this._addImplicitHelpCommand=!1:(this._addImplicitHelpCommand=!0,typeof e=="string"&&(this._helpCommandName=e.split(" ")[0],this._helpCommandnameAndArgs=e),this._helpCommandDescription=t||this._helpCommandDescription),this}_hasImplicitHelpCommand(){return this._addImplicitHelpCommand===void 0?this.commands.length&&!this._actionHandler&&!this._findCommand("help"):this._addImplicitHelpCommand}hook(e,t){let r=["preAction","postAction"];if(!r.includes(e))throw new Error(`Unexpected value for event passed to hook : '${e}'.
Expecting one of '${r.join("', '")}'`);return this._lifeCycleHooks[e]?this._lifeCycleHooks[e].push(t):this._lifeCycleHooks[e]=[t],this}exitOverride(e){return e?this._exitCallback=e:this._exitCallback=t=>{if(t.code!=="commander.executeSubCommandAsync")throw t},this}_exit(e,t,r){this._exitCallback&&this._exitCallback(new Qs(e,t,r)),q.exit(e)}action(e){let t=r=>{let s=this._args.length,n=r.slice(0,s);return this._storeOptionsAsProperties?n[s]=this:n[s]=this.opts(),n.push(this),e.apply(this,n)};return this._actionHandler=t,this}createOption(e,t){return new uc(e,t)}addOption(e){let t=e.name(),r=e.attributeName();if(e.negate){let n=e.long.replace(/^--no-/,"--");this._findOption(n)||this.setOptionValueWithSource(r,e.defaultValue===void 0?!0:e.defaultValue,"default")}else e.defaultValue!==void 0&&this.setOptionValueWithSource(r,e.defaultValue,"default");this.options.push(e);let s=(n,o,a)=>{n==null&&e.presetArg!==void 0&&(n=e.presetArg);let l=this.getOptionValue(r);if(n!==null&&e.parseArg)try{n=e.parseArg(n,l)}catch(h){if(h.code==="commander.invalidArgument"){let u=`${o} ${h.message}`;this.error(u,{exitCode:h.exitCode,code:h.code})}throw h}else n!==null&&e.variadic&&(n=e._concatValue(n,l));n==null&&(e.negate?n=!1:e.isBoolean()||e.optional?n=!0:n=""),this.setOptionValueWithSource(r,n,a)};return this.on("option:"+t,n=>{let o=`error: option '${e.flags}' argument '${n}' is invalid.`;s(n,o,"cli")}),e.envVar&&this.on("optionEnv:"+t,n=>{let o=`error: option '${e.flags}' value '${n}' from env '${e.envVar}' is invalid.`;s(n,o,"env")}),this}_optionEx(e,t,r,s,n){if(typeof t=="object"&&t instanceof uc)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");let o=this.createOption(t,r);if(o.makeOptionMandatory(!!e.mandatory),typeof s=="function")o.default(n).argParser(s);else if(s instanceof RegExp){let a=s;s=(l,h)=>{let u=a.exec(l);return u?u[0]:h},o.default(n).argParser(s)}else o.default(s);return this.addOption(o)}option(e,t,r,s){return this._optionEx({},e,t,r,s)}requiredOption(e,t,r,s){return this._optionEx({mandatory:!0},e,t,r,s)}combineFlagAndOptionalValue(e=!0){return this._combineFlagAndOptionalValue=!!e,this}allowUnknownOption(e=!0){return this._allowUnknownOption=!!e,this}allowExcessArguments(e=!0){return this._allowExcessArguments=!!e,this}enablePositionalOptions(e=!0){return this._enablePositionalOptions=!!e,this}passThroughOptions(e=!0){if(this._passThroughOptions=!!e,!!this.parent&&e&&!this.parent._enablePositionalOptions)throw new Error("passThroughOptions can not be used without turning on enablePositionalOptions for parent command(s)");return this}storeOptionsAsProperties(e=!0){if(this._storeOptionsAsProperties=!!e,this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");return this}getOptionValue(e){return this._storeOptionsAsProperties?this[e]:this._optionValues[e]}setOptionValue(e,t){return this._storeOptionsAsProperties?this[e]=t:this._optionValues[e]=t,this}setOptionValueWithSource(e,t,r){return this.setOptionValue(e,t),this._optionValueSources[e]=r,this}getOptionValueSource(e){return this._optionValueSources[e]}_prepareUserArgs(e,t){if(e!==void 0&&!Array.isArray(e))throw new Error("first parameter to parse must be array or undefined");t=t||{},e===void 0&&(e=q.argv,q.versions&&q.versions.electron&&(t.from="electron")),this.rawArgs=e.slice();let r;switch(t.from){case void 0:case"node":this._scriptPath=e[1],r=e.slice(2);break;case"electron":q.defaultApp?(this._scriptPath=e[1],r=e.slice(2)):r=e.slice(1);break;case"user":r=e.slice(0);break;default:throw new Error(`unexpected parse option { from: '${t.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",r}parse(e,t){let r=this._prepareUserArgs(e,t);return this._parseCommand([],r),this}async parseAsync(e,t){let r=this._prepareUserArgs(e,t);return await this._parseCommand([],r),this}_executeSubCommand(e,t){t=t.slice();let r=!1,s=[".js",".ts",".tsx",".mjs",".cjs"];function n(u,c){let d=Ve.resolve(u,c);if(Js.existsSync(d))return d;if(s.includes(Ve.extname(c)))return;let f=s.find(p=>Js.existsSync(`${d}${p}`));if(f)return`${d}${f}`}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let o=e._executableFile||`${this._name}-${e._name}`,a=this._executableDir||"";if(this._scriptPath){let u;try{u=Js.realpathSync(this._scriptPath)}catch{u=this._scriptPath}a=Ve.resolve(Ve.dirname(u),a)}if(a){let u=n(a,o);if(!u&&!e._executableFile&&this._scriptPath){let c=Ve.basename(this._scriptPath,Ve.extname(this._scriptPath));c!==this._name&&(u=n(a,`${c}-${e._name}`))}o=u||o}r=s.includes(Ve.extname(o));let l;q.platform!=="win32"?r?(t.unshift(o),t=fc(q.execArgv).concat(t),l=Xs.spawn(q.argv[0],t,{stdio:"inherit"})):l=Xs.spawn(o,t,{stdio:"inherit"}):(t.unshift(o),t=fc(q.execArgv).concat(t),l=Xs.spawn(q.execPath,t,{stdio:"inherit"})),l.killed||["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(c=>{q.on(c,()=>{l.killed===!1&&l.exitCode===null&&l.kill(c)})});let h=this._exitCallback;h?l.on("close",()=>{h(new Qs(q.exitCode||0,"commander.executeSubCommandAsync","(close)"))}):l.on("close",q.exit.bind(q)),l.on("error",u=>{if(u.code==="ENOENT"){let c=a?`searched for local subcommand relative to directory '${a}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",d=`'${o}' does not exist
 - if '${e._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name or path
 - ${c}`;throw new Error(d)}else if(u.code==="EACCES")throw new Error(`'${o}' not executable`);if(!h)q.exit(1);else{let c=new Qs(1,"commander.executeSubCommandAsync","(error)");c.nestedError=u,h(c)}}),this.runningCommand=l}_dispatchSubcommand(e,t,r){let s=this._findCommand(e);if(s||this.help({error:!0}),s._executableHandler)this._executeSubCommand(s,t.concat(r));else return s._parseCommand(t,r)}_checkNumberOfArguments(){this._args.forEach((e,t)=>{e.required&&this.args[t]==null&&this.missingArgument(e.name())}),!(this._args.length>0&&this._args[this._args.length-1].variadic)&&this.args.length>this._args.length&&this._excessArguments(this.args)}_processArguments(){let e=(r,s,n)=>{let o=s;if(s!==null&&r.parseArg)try{o=r.parseArg(s,n)}catch(a){if(a.code==="commander.invalidArgument"){let l=`error: command-argument value '${s}' is invalid for argument '${r.name()}'. ${a.message}`;this.error(l,{exitCode:a.exitCode,code:a.code})}throw a}return o};this._checkNumberOfArguments();let t=[];this._args.forEach((r,s)=>{let n=r.defaultValue;r.variadic?s<this.args.length?(n=this.args.slice(s),r.parseArg&&(n=n.reduce((o,a)=>e(r,a,o),r.defaultValue))):n===void 0&&(n=[]):s<this.args.length&&(n=this.args[s],r.parseArg&&(n=e(r,n,r.defaultValue))),t[s]=n}),this.processedArgs=t}_chainOrCall(e,t){return e&&e.then&&typeof e.then=="function"?e.then(()=>t()):t()}_chainOrCallHooks(e,t){let r=e,s=[];return vr(this).reverse().filter(n=>n._lifeCycleHooks[t]!==void 0).forEach(n=>{n._lifeCycleHooks[t].forEach(o=>{s.push({hookedCommand:n,callback:o})})}),t==="postAction"&&s.reverse(),s.forEach(n=>{r=this._chainOrCall(r,()=>n.callback(n.hookedCommand,this))}),r}_parseCommand(e,t){let r=this.parseOptions(t);if(this._parseOptionsEnv(),e=e.concat(r.operands),t=r.unknown,this.args=e.concat(t),e&&this._findCommand(e[0]))return this._dispatchSubcommand(e[0],e.slice(1),t);if(this._hasImplicitHelpCommand()&&e[0]===this._helpCommandName)return e.length===1&&this.help(),this._dispatchSubcommand(e[1],[],[this._helpLongFlag]);if(this._defaultCommandName)return dc(this,t),this._dispatchSubcommand(this._defaultCommandName,e,t);this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName&&this.help({error:!0}),dc(this,r.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let s=()=>{r.unknown.length>0&&this.unknownOption(r.unknown[0])},n=`command:${this.name()}`;if(this._actionHandler){s(),this._processArguments();let o;return o=this._chainOrCallHooks(o,"preAction"),o=this._chainOrCall(o,()=>this._actionHandler(this.processedArgs)),this.parent&&(o=this._chainOrCall(o,()=>{this.parent.emit(n,e,t)})),o=this._chainOrCallHooks(o,"postAction"),o}if(this.parent&&this.parent.listenerCount(n))s(),this._processArguments(),this.parent.emit(n,e,t);else if(e.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",e,t);this.listenerCount("command:*")?this.emit("command:*",e,t):this.commands.length?this.unknownCommand():(s(),this._processArguments())}else this.commands.length?(s(),this.help({error:!0})):(s(),this._processArguments())}_findCommand(e){if(!!e)return this.commands.find(t=>t._name===e||t._aliases.includes(e))}_findOption(e){return this.options.find(t=>t.is(e))}_checkForMissingMandatoryOptions(){for(let e=this;e;e=e.parent)e.options.forEach(t=>{t.mandatory&&e.getOptionValue(t.attributeName())===void 0&&e.missingMandatoryOptionValue(t)})}_checkForConflictingLocalOptions(){let e=this.options.filter(r=>{let s=r.attributeName();return this.getOptionValue(s)===void 0?!1:this.getOptionValueSource(s)!=="default"});e.filter(r=>r.conflictsWith.length>0).forEach(r=>{let s=e.find(n=>r.conflictsWith.includes(n.attributeName()));s&&this._conflictingOption(r,s)})}_checkForConflictingOptions(){for(let e=this;e;e=e.parent)e._checkForConflictingLocalOptions()}parseOptions(e){let t=[],r=[],s=t,n=e.slice();function o(l){return l.length>1&&l[0]==="-"}let a=null;for(;n.length;){let l=n.shift();if(l==="--"){s===r&&s.push(l),s.push(...n);break}if(a&&!o(l)){this.emit(`option:${a.name()}`,l);continue}if(a=null,o(l)){let h=this._findOption(l);if(h){if(h.required){let u=n.shift();u===void 0&&this.optionMissingArgument(h),this.emit(`option:${h.name()}`,u)}else if(h.optional){let u=null;n.length>0&&!o(n[0])&&(u=n.shift()),this.emit(`option:${h.name()}`,u)}else this.emit(`option:${h.name()}`);a=h.variadic?h:null;continue}}if(l.length>2&&l[0]==="-"&&l[1]!=="-"){let h=this._findOption(`-${l[1]}`);if(h){h.required||h.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${h.name()}`,l.slice(2)):(this.emit(`option:${h.name()}`),n.unshift(`-${l.slice(2)}`));continue}}if(/^--[^=]+=/.test(l)){let h=l.indexOf("="),u=this._findOption(l.slice(0,h));if(u&&(u.required||u.optional)){this.emit(`option:${u.name()}`,l.slice(h+1));continue}}if(o(l)&&(s=r),(this._enablePositionalOptions||this._passThroughOptions)&&t.length===0&&r.length===0){if(this._findCommand(l)){t.push(l),n.length>0&&r.push(...n);break}else if(l===this._helpCommandName&&this._hasImplicitHelpCommand()){t.push(l),n.length>0&&t.push(...n);break}else if(this._defaultCommandName){r.push(l),n.length>0&&r.push(...n);break}}if(this._passThroughOptions){s.push(l),n.length>0&&s.push(...n);break}s.push(l)}return{operands:t,unknown:r}}opts(){if(this._storeOptionsAsProperties){let e={},t=this.options.length;for(let r=0;r<t;r++){let s=this.options[r].attributeName();e[s]=s===this._versionOptionName?this._version:this[s]}return e}return this._optionValues}optsWithGlobals(){return vr(this).reduce((e,t)=>Object.assign(e,t.opts()),{})}error(e,t){this._outputConfiguration.outputError(`${e}
`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError=="string"?this._outputConfiguration.writeErr(`${this._showHelpAfterError}
`):this._showHelpAfterError&&(this._outputConfiguration.writeErr(`
`),this.outputHelp({error:!0}));let r=t||{},s=r.exitCode||1,n=r.code||"commander.error";this._exit(s,n,e)}_parseOptionsEnv(){this.options.forEach(e=>{if(e.envVar&&e.envVar in q.env){let t=e.attributeName();(this.getOptionValue(t)===void 0||["default","config","env"].includes(this.getOptionValueSource(t)))&&(e.required||e.optional?this.emit(`optionEnv:${e.name()}`,q.env[e.envVar]):this.emit(`optionEnv:${e.name()}`))}})}missingArgument(e){let t=`error: missing required argument '${e}'`;this.error(t,{code:"commander.missingArgument"})}optionMissingArgument(e){let t=`error: option '${e.flags}' argument missing`;this.error(t,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(e){let t=`error: required option '${e.flags}' not specified`;this.error(t,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(e,t){let r=o=>{let a=o.attributeName(),l=this.getOptionValue(a),h=this.options.find(c=>c.negate&&a===c.attributeName()),u=this.options.find(c=>!c.negate&&a===c.attributeName());return h&&(h.presetArg===void 0&&l===!1||h.presetArg!==void 0&&l===h.presetArg)?h:u||o},s=o=>{let a=r(o),l=a.attributeName();return this.getOptionValueSource(l)==="env"?`environment variable '${a.envVar}'`:`option '${a.flags}'`},n=`error: ${s(e)} cannot be used with ${s(t)}`;this.error(n,{code:"commander.conflictingOption"})}unknownOption(e){if(this._allowUnknownOption)return;let t="";if(e.startsWith("--")&&this._showSuggestionAfterError){let s=[],n=this;do{let o=n.createHelp().visibleOptions(n).filter(a=>a.long).map(a=>a.long);s=s.concat(o),n=n.parent}while(n&&!n._enablePositionalOptions);t=cc(e,s)}let r=`error: unknown option '${e}'${t}`;this.error(r,{code:"commander.unknownOption"})}_excessArguments(e){if(this._allowExcessArguments)return;let t=this._args.length,r=t===1?"":"s",n=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${t} argument${r} but got ${e.length}.`;this.error(n,{code:"commander.excessArguments"})}unknownCommand(){let e=this.args[0],t="";if(this._showSuggestionAfterError){let s=[];this.createHelp().visibleCommands(this).forEach(n=>{s.push(n.name()),n.alias()&&s.push(n.alias())}),t=cc(e,s)}let r=`error: unknown command '${e}'${t}`;this.error(r,{code:"commander.unknownCommand"})}version(e,t,r){if(e===void 0)return this._version;this._version=e,t=t||"-V, --version",r=r||"output the version number";let s=this.createOption(t,r);return this._versionOptionName=s.attributeName(),this.options.push(s),this.on("option:"+s.name(),()=>{this._outputConfiguration.writeOut(`${e}
`),this._exit(0,"commander.version",e)}),this}description(e,t){return e===void 0&&t===void 0?this._description:(this._description=e,t&&(this._argsDescription=t),this)}alias(e){if(e===void 0)return this._aliases[0];let t=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler&&(t=this.commands[this.commands.length-1]),e===t._name)throw new Error("Command alias can't be the same as its name");return t._aliases.push(e),this}aliases(e){return e===void 0?this._aliases:(e.forEach(t=>this.alias(t)),this)}usage(e){if(e===void 0){if(this._usage)return this._usage;let t=this._args.map(r=>by(r));return[].concat(this.options.length||this._hasHelpOption?"[options]":[],this.commands.length?"[command]":[],this._args.length?t:[]).join(" ")}return this._usage=e,this}name(e){return e===void 0?this._name:(this._name=e,this)}nameFromFilename(e){return this._name=Ve.basename(e,Ve.extname(e)),this}executableDir(e){return e===void 0?this._executableDir:(this._executableDir=e,this)}helpInformation(e){let t=this.createHelp();return t.helpWidth===void 0&&(t.helpWidth=e&&e.error?this._outputConfiguration.getErrHelpWidth():this._outputConfiguration.getOutHelpWidth()),t.formatHelp(this,t)}_getHelpContext(e){e=e||{};let t={error:!!e.error},r;return t.error?r=s=>this._outputConfiguration.writeErr(s):r=s=>this._outputConfiguration.writeOut(s),t.write=e.write||r,t.command=this,t}outputHelp(e){let t;typeof e=="function"&&(t=e,e=void 0);let r=this._getHelpContext(e);vr(this).reverse().forEach(n=>n.emit("beforeAllHelp",r)),this.emit("beforeHelp",r);let s=this.helpInformation(r);if(t&&(s=t(s),typeof s!="string"&&!Buffer.isBuffer(s)))throw new Error("outputHelp callback must return a string or a Buffer");r.write(s),this.emit(this._helpLongFlag),this.emit("afterHelp",r),vr(this).forEach(n=>n.emit("afterAllHelp",r))}helpOption(e,t){if(typeof e=="boolean")return this._hasHelpOption=e,this;this._helpFlags=e||this._helpFlags,this._helpDescription=t||this._helpDescription;let r=_y(this._helpFlags);return this._helpShortFlag=r.shortFlag,this._helpLongFlag=r.longFlag,this}help(e){this.outputHelp(e);let t=q.exitCode||0;t===0&&e&&typeof e!="function"&&e.error&&(t=1),this._exit(t,"commander.help","(outputHelp)")}addHelpText(e,t){let r=["beforeAll","before","after","afterAll"];if(!r.includes(e))throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${r.join("', '")}'`);let s=`${e}Help`;return this.on(s,n=>{let o;typeof t=="function"?o=t({error:n.error,command:n.command}):o=t,o&&n.write(`${o}
`)}),this}};function dc(i,e){i._hasHelpOption&&e.find(r=>r===i._helpLongFlag||r===i._helpShortFlag)&&(i.outputHelp(),i._exit(0,"commander.helpDisplayed","(outputHelp)"))}function fc(i){return i.map(e=>{if(!e.startsWith("--inspect"))return e;let t,r="127.0.0.1",s="9229",n;return(n=e.match(/^(--inspect(-brk)?)$/))!==null?t=n[1]:(n=e.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null?(t=n[1],/^\d+$/.test(n[3])?s=n[3]:r=n[3]):(n=e.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null&&(t=n[1],r=n[3],s=n[4]),t&&s!=="0"?`${t}=${r}:${parseInt(s)+1}`:e})}function vr(i){let e=[];for(let t=i;t;t=t.parent)e.push(t);return e}mc.Command=br});var bc=w((_e,vc)=>{var{Argument:Sy}=yr(),{Command:gc}=pc(),{CommanderError:Ey,InvalidArgumentError:yc}=Ai(),{Help:Oy}=Ys(),{Option:Cy}=Ks();_e=vc.exports=new gc;_e.program=_e;_e.Argument=Sy;_e.Command=gc;_e.CommanderError=Ey;_e.Help=Oy;_e.InvalidArgumentError=yc;_e.InvalidOptionArgumentError=yc;_e.Option=Cy});var Wf=w(fi=>{"use strict";var xy=require("fs"),Ry=require("path"),Ay=require("events"),Ty=require("stream"),Iy=require("string_decoder"),Dy=require("assert"),My=require("buffer"),ky=require("zlib"),Ny=require("util"),Fy=require("crypto"),Py=require("os"),$y=require("tty"),Ly=require("constants"),qy=require("https"),By=require("child_process"),jy=require("url"),Hy=require("net"),Uy=require("tls");function K(i){return i&&typeof i=="object"&&"default"in i?i:{default:i}}var m=K(xy),b=K(Ry),oi=K(Ay),Dn=K(Ty),Vy=K(Iy),O=K(Dy),zy=K(My),Mn=K(ky),Fe=K(Ny),pd=K(Fy),kn=K(Py),Nn=K($y),ut=K(Ly),Gy=K(qy),Wy=K(By),gd=K(jy),Yy=K(Hy),Zy=K(Uy),ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ee(i){var e={exports:{}};return i(e,e.exports),e.exports}var Sc=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]),Xi=i=>i?Object.keys(i).map(e=>[Sc.has(e)?Sc.get(e):e,i[e]]).reduce((e,t)=>(e[t[0]]=t[1],e),Object.create(null)):{},Ky=function(i){i.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}},At=I;I.Node=It;I.create=I;function I(i){var e=this;if(e instanceof I||(e=new I),e.tail=null,e.head=null,e.length=0,i&&typeof i.forEach=="function")i.forEach(function(s){e.push(s)});else if(arguments.length>0)for(var t=0,r=arguments.length;t<r;t++)e.push(arguments[t]);return e}I.prototype.removeNode=function(i){if(i.list!==this)throw new Error("removing node which does not belong to this list");var e=i.next,t=i.prev;return e&&(e.prev=t),t&&(t.next=e),i===this.head&&(this.head=e),i===this.tail&&(this.tail=t),i.list.length--,i.next=null,i.prev=null,i.list=null,e};I.prototype.unshiftNode=function(i){if(i!==this.head){i.list&&i.list.removeNode(i);var e=this.head;i.list=this,i.next=e,e&&(e.prev=i),this.head=i,this.tail||(this.tail=i),this.length++}};I.prototype.pushNode=function(i){if(i!==this.tail){i.list&&i.list.removeNode(i);var e=this.tail;i.list=this,i.prev=e,e&&(e.next=i),this.tail=i,this.head||(this.head=i),this.length++}};I.prototype.push=function(){for(var i=0,e=arguments.length;i<e;i++)Jy(this,arguments[i]);return this.length};I.prototype.unshift=function(){for(var i=0,e=arguments.length;i<e;i++)Qy(this,arguments[i]);return this.length};I.prototype.pop=function(){if(!!this.tail){var i=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,i}};I.prototype.shift=function(){if(!!this.head){var i=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,i}};I.prototype.forEach=function(i,e){e=e||this;for(var t=this.head,r=0;t!==null;r++)i.call(e,t.value,r,this),t=t.next};I.prototype.forEachReverse=function(i,e){e=e||this;for(var t=this.tail,r=this.length-1;t!==null;r--)i.call(e,t.value,r,this),t=t.prev};I.prototype.get=function(i){for(var e=0,t=this.head;t!==null&&e<i;e++)t=t.next;if(e===i&&t!==null)return t.value};I.prototype.getReverse=function(i){for(var e=0,t=this.tail;t!==null&&e<i;e++)t=t.prev;if(e===i&&t!==null)return t.value};I.prototype.map=function(i,e){e=e||this;for(var t=new I,r=this.head;r!==null;)t.push(i.call(e,r.value,this)),r=r.next;return t};I.prototype.mapReverse=function(i,e){e=e||this;for(var t=new I,r=this.tail;r!==null;)t.push(i.call(e,r.value,this)),r=r.prev;return t};I.prototype.reduce=function(i,e){var t,r=this.head;if(arguments.length>1)t=e;else if(this.head)r=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;r!==null;s++)t=i(t,r.value,s),r=r.next;return t};I.prototype.reduceReverse=function(i,e){var t,r=this.tail;if(arguments.length>1)t=e;else if(this.tail)r=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;r!==null;s--)t=i(t,r.value,s),r=r.prev;return t};I.prototype.toArray=function(){for(var i=new Array(this.length),e=0,t=this.head;t!==null;e++)i[e]=t.value,t=t.next;return i};I.prototype.toArrayReverse=function(){for(var i=new Array(this.length),e=0,t=this.tail;t!==null;e++)i[e]=t.value,t=t.prev;return i};I.prototype.slice=function(i,e){e=e||this.length,e<0&&(e+=this.length),i=i||0,i<0&&(i+=this.length);var t=new I;if(e<i||e<0)return t;i<0&&(i=0),e>this.length&&(e=this.length);for(var r=0,s=this.head;s!==null&&r<i;r++)s=s.next;for(;s!==null&&r<e;r++,s=s.next)t.push(s.value);return t};I.prototype.sliceReverse=function(i,e){e=e||this.length,e<0&&(e+=this.length),i=i||0,i<0&&(i+=this.length);var t=new I;if(e<i||e<0)return t;i<0&&(i=0),e>this.length&&(e=this.length);for(var r=this.length,s=this.tail;s!==null&&r>e;r--)s=s.prev;for(;s!==null&&r>i;r--,s=s.prev)t.push(s.value);return t};I.prototype.splice=function(i,e,...t){i>this.length&&(i=this.length-1),i<0&&(i=this.length+i);for(var r=0,s=this.head;s!==null&&r<i;r++)s=s.next;for(var n=[],r=0;s&&r<e;r++)n.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var r=0;r<t.length;r++)s=Xy(this,s,t[r]);return n};I.prototype.reverse=function(){for(var i=this.head,e=this.tail,t=i;t!==null;t=t.prev){var r=t.prev;t.prev=t.next,t.next=r}return this.head=e,this.tail=i,this};function Xy(i,e,t){var r=e===i.head?new It(t,null,e,i):new It(t,e,e.next,i);return r.next===null&&(i.tail=r),r.prev===null&&(i.head=r),i.length++,r}function Jy(i,e){i.tail=new It(e,i.tail,null,i),i.head||(i.head=i.tail),i.length++}function Qy(i,e){i.head=new It(e,null,i.head,i),i.tail||(i.tail=i.head),i.length++}function It(i,e,t,r){if(!(this instanceof It))return new It(i,e,t,r);this.list=r,this.value=i,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{Ky(I)}catch{}var Ec=Vy.default.StringDecoder,ze=Symbol("EOF"),Ti=Symbol("maybeEmitEnd"),st=Symbol("emittedEnd"),wr=Symbol("emittingEnd"),_r=Symbol("closed"),Oc=Symbol("read"),en=Symbol("flush"),Cc=Symbol("flushChunk"),se=Symbol("encoding"),Ge=Symbol("decoder"),Sr=Symbol("flowing"),Ii=Symbol("paused"),Di=Symbol("resume"),ee=Symbol("bufferLength"),xc=Symbol("bufferPush"),tn=Symbol("bufferShift"),J=Symbol("objectMode"),Q=Symbol("destroyed"),yd=ge._MP_NO_ITERATOR_SYMBOLS_!=="1",e0=yd&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),t0=yd&&Symbol.iterator||Symbol("iterator not implemented"),Rc=i=>i==="end"||i==="finish"||i==="prefinish",i0=i=>i instanceof ArrayBuffer||typeof i=="object"&&i.constructor&&i.constructor.name==="ArrayBuffer"&&i.byteLength>=0,r0=i=>!Buffer.isBuffer(i)&&ArrayBuffer.isView(i),ai=class vd extends Dn.default{constructor(e){super();this[Sr]=!1,this[Ii]=!1,this.pipes=new At,this.buffer=new At,this[J]=e&&e.objectMode||!1,this[J]?this[se]=null:this[se]=e&&e.encoding||null,this[se]==="buffer"&&(this[se]=null),this[Ge]=this[se]?new Ec(this[se]):null,this[ze]=!1,this[st]=!1,this[wr]=!1,this[_r]=!1,this.writable=!0,this.readable=!0,this[ee]=0,this[Q]=!1}get bufferLength(){return this[ee]}get encoding(){return this[se]}set encoding(e){if(this[J])throw new Error("cannot set encoding in objectMode");if(this[se]&&e!==this[se]&&(this[Ge]&&this[Ge].lastNeed||this[ee]))throw new Error("cannot change encoding");this[se]!==e&&(this[Ge]=e?new Ec(e):null,this.buffer.length&&(this.buffer=this.buffer.map(t=>this[Ge].write(t)))),this[se]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[J]}set objectMode(e){this[J]=this[J]||!!e}write(e,t,r){if(this[ze])throw new Error("write after end");return this[Q]?(this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0):(typeof t=="function"&&(r=t,t="utf8"),t||(t="utf8"),!this[J]&&!Buffer.isBuffer(e)&&(r0(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):i0(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),!this.objectMode&&!e.length?(this[ee]!==0&&this.emit("readable"),r&&r(),this.flowing):(typeof e=="string"&&!this[J]&&!(t===this[se]&&!this[Ge].lastNeed)&&(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[se]&&(e=this[Ge].write(e)),this.flowing?(this[ee]!==0&&this[en](!0),this.emit("data",e)):this[xc](e),this[ee]!==0&&this.emit("readable"),r&&r(),this.flowing))}read(e){if(this[Q])return null;try{return this[ee]===0||e===0||e>this[ee]?null:(this[J]&&(e=null),this.buffer.length>1&&!this[J]&&(this.encoding?this.buffer=new At([Array.from(this.buffer).join("")]):this.buffer=new At([Buffer.concat(Array.from(this.buffer),this[ee])])),this[Oc](e||null,this.buffer.head.value))}finally{this[Ti]()}}[Oc](e,t){return e===t.length||e===null?this[tn]():(this.buffer.head.value=t.slice(e),t=t.slice(0,e),this[ee]-=e),this.emit("data",t),!this.buffer.length&&!this[ze]&&this.emit("drain"),t}end(e,t,r){return typeof e=="function"&&(r=e,e=null),typeof t=="function"&&(r=t,t="utf8"),e&&this.write(e,t),r&&this.once("end",r),this[ze]=!0,this.writable=!1,(this.flowing||!this[Ii])&&this[Ti](),this}[Di](){this[Q]||(this[Ii]=!1,this[Sr]=!0,this.emit("resume"),this.buffer.length?this[en]():this[ze]?this[Ti]():this.emit("drain"))}resume(){return this[Di]()}pause(){this[Sr]=!1,this[Ii]=!0}get destroyed(){return this[Q]}get flowing(){return this[Sr]}get paused(){return this[Ii]}[xc](e){return this[J]?this[ee]+=1:this[ee]+=e.length,this.buffer.push(e)}[tn](){return this.buffer.length&&(this[J]?this[ee]-=1:this[ee]-=this.buffer.head.value.length),this.buffer.shift()}[en](e){do;while(this[Cc](this[tn]()));!e&&!this.buffer.length&&!this[ze]&&this.emit("drain")}[Cc](e){return e?(this.emit("data",e),this.flowing):!1}pipe(e,t){if(this[Q])return;let r=this[st];t=t||{},e===process.stdout||e===process.stderr?t.end=!1:t.end=t.end!==!1;let s={dest:e,opts:t,ondrain:n=>this[Di]()};return this.pipes.push(s),e.on("drain",s.ondrain),this[Di](),r&&s.opts.end&&s.dest.end(),e}addListener(e,t){return this.on(e,t)}on(e,t){try{return super.on(e,t)}finally{e==="data"&&!this.pipes.length&&!this.flowing?this[Di]():Rc(e)&&this[st]&&(super.emit(e),this.removeAllListeners(e))}}get emittedEnd(){return this[st]}[Ti](){!this[wr]&&!this[st]&&!this[Q]&&this.buffer.length===0&&this[ze]&&(this[wr]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[_r]&&this.emit("close"),this[wr]=!1)}emit(e,t){if(e!=="error"&&e!=="close"&&e!==Q&&this[Q])return;if(e==="data"){if(!t)return;this.pipes.length&&this.pipes.forEach(s=>s.dest.write(t)===!1&&this.pause())}else if(e==="end"){if(this[st]===!0)return;this[st]=!0,this.readable=!1,this[Ge]&&(t=this[Ge].end(),t&&(this.pipes.forEach(s=>s.dest.write(t)),super.emit("data",t))),this.pipes.forEach(s=>{s.dest.removeListener("drain",s.ondrain),s.opts.end&&s.dest.end()})}else if(e==="close"&&(this[_r]=!0,!this[st]&&!this[Q]))return;let r=new Array(arguments.length);if(r[0]=e,r[1]=t,arguments.length>2)for(let s=2;s<arguments.length;s++)r[s]=arguments[s];try{return super.emit.apply(this,r)}finally{Rc(e)?this.removeAllListeners(e):this[Ti]()}}collect(){let e=[];this[J]||(e.dataLength=0);let t=this.promise();return this.on("data",r=>{e.push(r),this[J]||(e.dataLength+=r.length)}),t.then(()=>e)}concat(){return this[J]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[J]?Promise.reject(new Error("cannot concat in objectMode")):this[se]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,t)=>{this.on(Q,()=>t(new Error("stream destroyed"))),this.on("end",()=>e()),this.on("error",r=>t(r))})}[e0](){return{next:()=>{let t=this.read();if(t!==null)return Promise.resolve({done:!1,value:t});if(this[ze])return Promise.resolve({done:!0});let r=null,s=null,n=h=>{this.removeListener("data",o),this.removeListener("end",a),s(h)},o=h=>{this.removeListener("error",n),this.removeListener("end",a),this.pause(),r({value:h,done:!!this[ze]})},a=()=>{this.removeListener("error",n),this.removeListener("data",o),r({done:!0})},l=()=>n(new Error("stream destroyed"));return new Promise((h,u)=>{s=u,r=h,this.once(Q,l),this.once("error",n),this.once("end",a),this.once("data",o)})}}}[t0](){return{next:()=>{let t=this.read();return{value:t,done:t===null}}}}destroy(e){return this[Q]?(e?this.emit("error",e):this.emit(Q),this):(this[Q]=!0,this.buffer=new At,this[ee]=0,typeof this.close=="function"&&!this[_r]&&this.close(),e?this.emit("error",e):this.emit(Q),this)}static isStream(e){return!!e&&(e instanceof vd||e instanceof Dn.default||e instanceof oi.default&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}},s0=Mn.default.constants||{ZLIB_VERNUM:4736},n0=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},s0)),bd=Ee(function(i,e){let t=zy.default.Buffer,r=e.constants=n0,s=t.concat,n=Symbol("_superWrite");class o extends Error{constructor(v){super("zlib: "+v.message);this.code=v.code,this.errno=v.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+v.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}}let a=Symbol("opts"),l=Symbol("flushFlag"),h=Symbol("finishFlushFlag"),u=Symbol("fullFlushFlag"),c=Symbol("handle"),d=Symbol("onError"),f=Symbol("sawError"),p=Symbol("level"),g=Symbol("strategy"),y=Symbol("ended");class _ extends ai{constructor(v,T){if(!v||typeof v!="object")throw new TypeError("invalid options for ZlibBase constructor");super(v);this[f]=!1,this[y]=!1,this[a]=v,this[l]=v.flush,this[h]=v.finishFlush;try{this[c]=new Mn.default[T](v)}catch(D){throw new o(D)}this[d]=D=>{this[f]||(this[f]=!0,this.close(),this.emit("error",D))},this[c].on("error",D=>this[d](new o(D))),this.once("end",()=>this.close)}close(){this[c]&&(this[c].close(),this[c]=null,this.emit("close"))}reset(){if(!this[f])return O.default(this[c],"zlib binding closed"),this[c].reset()}flush(v){this.ended||(typeof v!="number"&&(v=this[u]),this.write(Object.assign(t.alloc(0),{[l]:v})))}end(v,T,D){return v&&this.write(v,T),this.flush(this[h]),this[y]=!0,super.end(null,null,D)}get ended(){return this[y]}write(v,T,D){if(typeof T=="function"&&(D=T,T="utf8"),typeof v=="string"&&(v=t.from(v,T)),this[f])return;O.default(this[c],"zlib binding closed");let $=this[c]._handle,V=$.close;$.close=()=>{};let X=this[c].close;this[c].close=()=>{},t.concat=ve=>ve;let B;try{let ve=typeof v[l]=="number"?v[l]:this[l];B=this[c]._processChunk(v,ve),t.concat=s}catch(ve){t.concat=s,this[d](new o(ve))}finally{this[c]&&(this[c]._handle=$,$.close=V,this[c].close=X,this[c].removeAllListeners("error"))}this[c]&&this[c].on("error",ve=>this[d](new o(ve)));let Pe;if(B)if(Array.isArray(B)&&B.length>0){Pe=this[n](t.from(B[0]));for(let ve=1;ve<B.length;ve++)Pe=this[n](B[ve])}else Pe=this[n](t.from(B));return D&&D(),Pe}[n](v){return super.write(v)}}class E extends _{constructor(v,T){v=v||{},v.flush=v.flush||r.Z_NO_FLUSH,v.finishFlush=v.finishFlush||r.Z_FINISH;super(v,T);this[u]=r.Z_FULL_FLUSH,this[p]=v.level,this[g]=v.strategy}params(v,T){if(!this[f]){if(!this[c])throw new Error("cannot switch params when binding is closed");if(!this[c].params)throw new Error("not supported in this implementation");if(this[p]!==v||this[g]!==T){this.flush(r.Z_SYNC_FLUSH),O.default(this[c],"zlib binding closed");let D=this[c].flush;this[c].flush=($,V)=>{this.flush($),V()};try{this[c].params(v,T)}finally{this[c].flush=D}this[c]&&(this[p]=v,this[g]=T)}}}}class N extends E{constructor(v){super(v,"Deflate")}}class R extends E{constructor(v){super(v,"Inflate")}}let z=Symbol("_portable");class G extends E{constructor(v){super(v,"Gzip");this[z]=v&&!!v.portable}[n](v){return this[z]?(this[z]=!1,v[9]=255,super[n](v)):super[n](v)}}class ue extends E{constructor(v){super(v,"Gunzip")}}class ye extends E{constructor(v){super(v,"DeflateRaw")}}class ae extends E{constructor(v){super(v,"InflateRaw")}}class Qe extends E{constructor(v){super(v,"Unzip")}}class Ce extends _{constructor(v,T){v=v||{},v.flush=v.flush||r.BROTLI_OPERATION_PROCESS,v.finishFlush=v.finishFlush||r.BROTLI_OPERATION_FINISH;super(v,T);this[u]=r.BROTLI_OPERATION_FLUSH}}class x extends Ce{constructor(v){super(v,"BrotliCompress")}}class A extends Ce{constructor(v){super(v,"BrotliDecompress")}}e.Deflate=N,e.Inflate=R,e.Gzip=G,e.Gunzip=ue,e.DeflateRaw=ye,e.InflateRaw=ae,e.Unzip=Qe,typeof Mn.default.BrotliCompress=="function"?(e.BrotliCompress=x,e.BrotliDecompress=A):e.BrotliCompress=e.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}}),rn=Symbol("slurp"),vo=class extends ai{constructor(e,t,r){super();switch(this.pause(),this.extended=t,this.globalExtended=r,this.header=e,this.startBlockSize=512*Math.ceil(e.size/512),this.blockRemain=this.startBlockSize,this.remain=e.size,this.type=e.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=e.path,this.mode=e.mode,this.mode&&(this.mode=this.mode&4095),this.uid=e.uid,this.gid=e.gid,this.uname=e.uname,this.gname=e.gname,this.size=e.size,this.mtime=e.mtime,this.atime=e.atime,this.ctime=e.ctime,this.linkpath=e.linkpath,this.uname=e.uname,this.gname=e.gname,t&&this[rn](t),r&&this[rn](r,!0)}write(e){let t=e.length;if(t>this.blockRemain)throw new Error("writing more to entry than is appropriate");let r=this.remain,s=this.blockRemain;return this.remain=Math.max(0,r-t),this.blockRemain=Math.max(0,s-t),this.ignore?!0:r>=t?super.write(e):super.write(e.slice(0,r))}[rn](e,t){for(let r in e)e[r]!==null&&e[r]!==void 0&&!(t&&r==="path")&&(this[r]=e[r])}},$r=Ee(function(i,e){e.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]),e.code=new Map(Array.from(e.name).map(t=>[t[1],t[0]]))}),o0=(i,e)=>{if(Number.isSafeInteger(i))i<0?l0(i,e):a0(i,e);else throw Error("cannot encode number outside of javascript safe integer range");return e},a0=(i,e)=>{e[0]=128;for(var t=e.length;t>1;t--)e[t-1]=i&255,i=Math.floor(i/256)},l0=(i,e)=>{e[0]=255;var t=!1;i=i*-1;for(var r=e.length;r>1;r--){var s=i&255;i=Math.floor(i/256),t?e[r-1]=wd(s):s===0?e[r-1]=0:(t=!0,e[r-1]=_d(s))}},h0=i=>{let e=i[0],t=e===128?c0(i.slice(1,i.length)):e===255?u0(i):null;if(t===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(t))throw Error("parsed number outside of javascript safe integer range");return t},u0=i=>{for(var e=i.length,t=0,r=!1,s=e-1;s>-1;s--){var n=i[s],o;r?o=wd(n):n===0?o=n:(r=!0,o=_d(n)),o!==0&&(t-=o*Math.pow(256,e-s-1))}return t},c0=i=>{for(var e=i.length,t=0,r=e-1;r>-1;r--){var s=i[r];s!==0&&(t+=s*Math.pow(256,e-r-1))}return t},wd=i=>(255^i)&255,_d=i=>(255^i)+1&255,Sd={encode:o0,parse:h0},Ht=b.default.posix,sn=Symbol("slurp"),le=Symbol("type"),Ed=class{constructor(e,t,r,s){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[le]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(e)?this.decode(e,t||0,r,s):e&&this.set(e)}decode(e,t,r,s){if(t||(t=0),!e||!(e.length>=t+512))throw new Error("need 512 bytes for header");if(this.path=wt(e,t,100),this.mode=at(e,t+100,8),this.uid=at(e,t+108,8),this.gid=at(e,t+116,8),this.size=at(e,t+124,12),this.mtime=nn(e,t+136,12),this.cksum=at(e,t+148,12),this[sn](r),this[sn](s,!0),this[le]=wt(e,t+156,1),this[le]===""&&(this[le]="0"),this[le]==="0"&&this.path.substr(-1)==="/"&&(this[le]="5"),this[le]==="5"&&(this.size=0),this.linkpath=wt(e,t+157,100),e.slice(t+257,t+265).toString()==="ustar\x0000")if(this.uname=wt(e,t+265,32),this.gname=wt(e,t+297,32),this.devmaj=at(e,t+329,8),this.devmin=at(e,t+337,8),e[t+475]!==0){let o=wt(e,t+345,155);this.path=o+"/"+this.path}else{let o=wt(e,t+345,130);o&&(this.path=o+"/"+this.path),this.atime=nn(e,t+476,12),this.ctime=nn(e,t+488,12)}let n=8*32;for(let o=t;o<t+148;o++)n+=e[o];for(let o=t+156;o<t+512;o++)n+=e[o];this.cksumValid=n===this.cksum,this.cksum===null&&n===8*32&&(this.nullBlock=!0)}[sn](e,t){for(let r in e)e[r]!==null&&e[r]!==void 0&&!(t&&r==="path")&&(this[r]=e[r])}encode(e,t){if(e||(e=this.block=Buffer.alloc(512),t=0),t||(t=0),!(e.length>=t+512))throw new Error("need 512 bytes for header");let r=this.ctime||this.atime?130:155,s=d0(this.path||"",r),n=s[0],o=s[1];this.needPax=s[2],this.needPax=_t(e,t,100,n)||this.needPax,this.needPax=lt(e,t+100,8,this.mode)||this.needPax,this.needPax=lt(e,t+108,8,this.uid)||this.needPax,this.needPax=lt(e,t+116,8,this.gid)||this.needPax,this.needPax=lt(e,t+124,12,this.size)||this.needPax,this.needPax=on(e,t+136,12,this.mtime)||this.needPax,e[t+156]=this[le].charCodeAt(0),this.needPax=_t(e,t+157,100,this.linkpath)||this.needPax,e.write("ustar\x0000",t+257,8),this.needPax=_t(e,t+265,32,this.uname)||this.needPax,this.needPax=_t(e,t+297,32,this.gname)||this.needPax,this.needPax=lt(e,t+329,8,this.devmaj)||this.needPax,this.needPax=lt(e,t+337,8,this.devmin)||this.needPax,this.needPax=_t(e,t+345,r,o)||this.needPax,e[t+475]!==0?this.needPax=_t(e,t+345,155,o)||this.needPax:(this.needPax=_t(e,t+345,130,o)||this.needPax,this.needPax=on(e,t+476,12,this.atime)||this.needPax,this.needPax=on(e,t+488,12,this.ctime)||this.needPax);let a=8*32;for(let l=t;l<t+148;l++)a+=e[l];for(let l=t+156;l<t+512;l++)a+=e[l];return this.cksum=a,lt(e,t+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(e){for(let t in e)e[t]!==null&&e[t]!==void 0&&(this[t]=e[t])}get type(){return $r.name.get(this[le])||this[le]}get typeKey(){return this[le]}set type(e){$r.code.has(e)?this[le]=$r.code.get(e):this[le]=e}},d0=(i,e)=>{let r=i,s="",n,o=Ht.parse(i).root||".";if(Buffer.byteLength(r)<100)n=[r,s,!1];else{s=Ht.dirname(r),r=Ht.basename(r);do Buffer.byteLength(r)<=100&&Buffer.byteLength(s)<=e?n=[r,s,!1]:Buffer.byteLength(r)>100&&Buffer.byteLength(s)<=e?n=[r.substr(0,100-1),s,!0]:(r=Ht.join(Ht.basename(s),r),s=Ht.dirname(s));while(s!==o&&!n);n||(n=[i.substr(0,100-1),"",!0])}return n},wt=(i,e,t)=>i.slice(e,e+t).toString("utf8").replace(/\0.*/,""),nn=(i,e,t)=>f0(at(i,e,t)),f0=i=>i===null?null:new Date(i*1e3),at=(i,e,t)=>i[e]&128?Sd.parse(i.slice(e,e+t)):p0(i,e,t),m0=i=>isNaN(i)?null:i,p0=(i,e,t)=>m0(parseInt(i.slice(e,e+t).toString("utf8").replace(/\0.*$/,"").trim(),8)),g0={12:8589934591,8:2097151},lt=(i,e,t,r)=>r===null?!1:r>g0[t]||r<0?(Sd.encode(r,i.slice(e,e+t)),!0):(y0(i,e,t,r),!1),y0=(i,e,t,r)=>i.write(v0(r,t),e,t,"ascii"),v0=(i,e)=>b0(Math.floor(i).toString(8),e),b0=(i,e)=>(i.length===e-1?i:new Array(e-i.length-1).join("0")+i+" ")+"\0",on=(i,e,t,r)=>r===null?!1:lt(i,e,t,r.getTime()/1e3),w0=new Array(156).join("\0"),_t=(i,e,t,r)=>r===null?!1:(i.write(r+w0,e,t,"utf8"),r.length!==Buffer.byteLength(r)||r.length>t),Nt=Ed,Xr=class{constructor(e,t){this.atime=e.atime||null,this.charset=e.charset||null,this.comment=e.comment||null,this.ctime=e.ctime||null,this.gid=e.gid||null,this.gname=e.gname||null,this.linkpath=e.linkpath||null,this.mtime=e.mtime||null,this.path=e.path||null,this.size=e.size||null,this.uid=e.uid||null,this.uname=e.uname||null,this.dev=e.dev||null,this.ino=e.ino||null,this.nlink=e.nlink||null,this.global=t||!1}encode(){let e=this.encodeBody();if(e==="")return null;let t=Buffer.byteLength(e),r=512*Math.ceil(1+t/512),s=Buffer.allocUnsafe(r);for(let n=0;n<512;n++)s[n]=0;new Nt({path:("PaxHeader/"+b.default.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:t,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(s),s.write(e,512,t,"utf8");for(let n=t+512;n<s.length;n++)s[n]=0;return s}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(e){if(this[e]===null||this[e]===void 0)return"";let t=this[e]instanceof Date?this[e].getTime()/1e3:this[e],r=" "+(e==="dev"||e==="ino"||e==="nlink"?"SCHILY.":"")+e+"="+t+`
`,s=Buffer.byteLength(r),n=Math.floor(Math.log(s)/Math.log(10))+1;return s+n>=Math.pow(10,n)&&(n+=1),n+s+r}};Xr.parse=(i,e,t)=>new Xr(_0(S0(i),e),t);var _0=(i,e)=>e?Object.keys(i).reduce((t,r)=>(t[r]=i[r],t),e):i,S0=i=>i.replace(/\n$/,"").split(`
`).reduce(E0,Object.create(null)),E0=(i,e)=>{let t=parseInt(e,10);if(t!==Buffer.byteLength(e)+1)return i;e=e.substr((t+" ").length);let r=e.split("="),s=r.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!s)return i;let n=r.join("=");return i[s]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(s)?new Date(n*1e3):/^[0-9]+$/.test(n)?+n:n,i},Ui=Xr,os=i=>class extends i{warn(e,t,r={}){this.file&&(r.file=this.file),this.cwd&&(r.cwd=this.cwd),r.code=t instanceof Error&&t.code||e,r.tarCode=e,!this.strict&&r.recoverable!==!1?(t instanceof Error&&(r=Object.assign(t,r),t=t.message),this.emit("warn",r.tarCode,t,r)):t instanceof Error?this.emit("error",Object.assign(t,r)):this.emit("error",Object.assign(new Error(`${e}: ${t}`),r))}},as=["|","<",">","?",":"],bo=as.map(i=>String.fromCharCode(61440+i.charCodeAt(0))),O0=new Map(as.map((i,e)=>[i,bo[e]])),C0=new Map(bo.map((i,e)=>[i,as[e]])),Fn={encode:i=>as.reduce((e,t)=>e.split(t).join(O0.get(t)),i),decode:i=>bo.reduce((e,t)=>e.split(t).join(C0.get(t)),i)},Od=(i,e,t)=>(i&=4095,t&&(i=(i|384)&-19),e&&(i&256&&(i|=64),i&32&&(i|=8),i&4&&(i|=1)),i),x0=16*1024*1024,Ac=Symbol("process"),Tc=Symbol("file"),Ic=Symbol("directory"),Pn=Symbol("symlink"),Dc=Symbol("hardlink"),Mi=Symbol("header"),Lr=Symbol("read"),$n=Symbol("lstat"),qr=Symbol("onlstat"),Ln=Symbol("onread"),qn=Symbol("onreadlink"),Bn=Symbol("openfile"),jn=Symbol("onopenfile"),Tt=Symbol("close"),Jr=Symbol("mode"),ls=os(class extends ai{constructor(e,t){t=t||{};super(t);if(typeof e!="string")throw new TypeError("path is required");this.path=e,this.portable=!!t.portable,this.myuid=process.getuid&&process.getuid(),this.myuser=process.env.USER||"",this.maxReadSize=t.maxReadSize||x0,this.linkCache=t.linkCache||new Map,this.statCache=t.statCache||new Map,this.preservePaths=!!t.preservePaths,this.cwd=t.cwd||process.cwd(),this.strict=!!t.strict,this.noPax=!!t.noPax,this.noMtime=!!t.noMtime,this.mtime=t.mtime||null,typeof t.onwarn=="function"&&this.on("warn",t.onwarn);let r=!1;if(!this.preservePaths&&b.default.win32.isAbsolute(e)){let s=b.default.win32.parse(e);this.path=e.substr(s.root.length),r=s.root}this.win32=!!t.win32||process.platform==="win32",this.win32&&(this.path=Fn.decode(this.path.replace(/\\/g,"/")),e=e.replace(/\\/g,"/")),this.absolute=t.absolute||b.default.resolve(this.cwd,e),this.path===""&&(this.path="./"),r&&this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:this,path:r+this.path}),this.statCache.has(this.absolute)?this[qr](this.statCache.get(this.absolute)):this[$n]()}[$n](){m.default.lstat(this.absolute,(e,t)=>{if(e)return this.emit("error",e);this[qr](t)})}[qr](e){this.statCache.set(this.absolute,e),this.stat=e,e.isFile()||(e.size=0),this.type=A0(e),this.emit("stat",e),this[Ac]()}[Ac](){switch(this.type){case"File":return this[Tc]();case"Directory":return this[Ic]();case"SymbolicLink":return this[Pn]();default:return this.end()}}[Jr](e){return Od(e,this.type==="Directory",this.portable)}[Mi](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new Nt({path:this.path,linkpath:this.linkpath,mode:this[Jr](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&this.write(new Ui({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this.path,linkpath:this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),this.write(this.header.block)}[Ic](){this.path.substr(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[Mi](),this.end()}[Pn](){m.default.readlink(this.absolute,(e,t)=>{if(e)return this.emit("error",e);this[qn](t)})}[qn](e){this.linkpath=e.replace(/\\/g,"/"),this[Mi](),this.end()}[Dc](e){this.type="Link",this.linkpath=b.default.relative(this.cwd,e).replace(/\\/g,"/"),this.stat.size=0,this[Mi](),this.end()}[Tc](){if(this.stat.nlink>1){let e=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(e)){let t=this.linkCache.get(e);if(t.indexOf(this.cwd)===0)return this[Dc](t)}this.linkCache.set(e,this.absolute)}if(this[Mi](),this.stat.size===0)return this.end();this[Bn]()}[Bn](){m.default.open(this.absolute,"r",(e,t)=>{if(e)return this.emit("error",e);this[jn](t)})}[jn](e){let t=512*Math.ceil(this.stat.size/512),r=Math.min(t,this.maxReadSize),s=Buffer.allocUnsafe(r);this[Lr](e,s,0,s.length,0,this.stat.size,t)}[Lr](e,t,r,s,n,o,a){m.default.read(e,t,r,s,n,(l,h)=>{if(l)return this[Tt](e,()=>this.emit("error",l));this[Ln](e,t,r,s,n,o,a,h)})}[Tt](e,t){m.default.close(e,t)}[Ln](e,t,r,s,n,o,a,l){if(l<=0&&o>0){let u=new Error("encountered unexpected EOF");return u.path=this.absolute,u.syscall="read",u.code="EOF",this[Tt](e,()=>this.emit("error",u))}if(l>o){let u=new Error("did not encounter expected EOF");return u.path=this.absolute,u.syscall="read",u.code="EOF",this[Tt](e,()=>this.emit("error",u))}if(l===o)for(let u=l;u<s&&l<a;u++)t[u+r]=0,l++,o++;let h=r===0&&l===t.length?t:t.slice(r,r+l);if(o-=l,a-=l,n+=l,r+=l,this.write(h),!o)return a&&this.write(Buffer.alloc(a)),this[Tt](e,u=>u?this.emit("error",u):this.end());r>=s&&(t=Buffer.allocUnsafe(s),r=0),s=t.length-r,this[Lr](e,t,r,s,n,o,a)}}),Cd=class extends ls{[$n](){this[qr](m.default.lstatSync(this.absolute))}[Pn](){this[qn](m.default.readlinkSync(this.absolute))}[Bn](){this[jn](m.default.openSync(this.absolute,"r"))}[Lr](e,t,r,s,n,o,a){let l=!0;try{let h=m.default.readSync(e,t,r,s,n);this[Ln](e,t,r,s,n,o,a,h),l=!1}finally{if(l)try{this[Tt](e,()=>{})}catch{}}}[Tt](e,t){m.default.closeSync(e),t()}},R0=os(class extends ai{constructor(e,t){t=t||{};super(t);this.preservePaths=!!t.preservePaths,this.portable=!!t.portable,this.strict=!!t.strict,this.noPax=!!t.noPax,this.noMtime=!!t.noMtime,this.readEntry=e,this.type=e.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.path=e.path,this.mode=this[Jr](e.mode),this.uid=this.portable?null:e.uid,this.gid=this.portable?null:e.gid,this.uname=this.portable?null:e.uname,this.gname=this.portable?null:e.gname,this.size=e.size,this.mtime=this.noMtime?null:t.mtime||e.mtime,this.atime=this.portable?null:e.atime,this.ctime=this.portable?null:e.ctime,this.linkpath=e.linkpath,typeof t.onwarn=="function"&&this.on("warn",t.onwarn);let r=!1;if(b.default.isAbsolute(this.path)&&!this.preservePaths){let s=b.default.parse(this.path);r=s.root,this.path=this.path.substr(s.root.length)}this.remain=e.size,this.blockRemain=e.startBlockSize,this.header=new Nt({path:this.path,linkpath:this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),r&&this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:this,path:r+this.path}),this.header.encode()&&!this.noPax&&super.write(new Ui({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this.path,linkpath:this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),e.pipe(this)}[Jr](e){return Od(e,this.type==="Directory",this.portable)}write(e){let t=e.length;if(t>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=t,super.write(e)}end(){return this.blockRemain&&this.write(Buffer.alloc(this.blockRemain)),super.end()}});ls.Sync=Cd;ls.Tar=R0;var A0=i=>i.isFile()?"File":i.isDirectory()?"Directory":i.isSymbolicLink()?"SymbolicLink":"Unsupported",hs=ls,Hn=class{constructor(e,t){this.path=e||"./",this.absolute=t,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},T0=hs.Sync,I0=hs.Tar,Mc=Buffer.alloc(1024),Br=Symbol("onStat"),Er=Symbol("ended"),Me=Symbol("queue"),Ut=Symbol("current"),St=Symbol("process"),Or=Symbol("processing"),kc=Symbol("processJob"),ke=Symbol("jobs"),an=Symbol("jobDone"),jr=Symbol("addFSEntry"),Nc=Symbol("addTarEntry"),Un=Symbol("stat"),Vn=Symbol("readdir"),Hr=Symbol("onreaddir"),Ur=Symbol("pipe"),Fc=Symbol("entry"),ln=Symbol("entryOpt"),zn=Symbol("writeEntryClass"),xd=Symbol("write"),hn=Symbol("ondrain"),wo=os(class extends ai{constructor(e){super(e);e=e||Object.create(null),this.opt=e,this.file=e.file||"",this.cwd=e.cwd||process.cwd(),this.maxReadSize=e.maxReadSize,this.preservePaths=!!e.preservePaths,this.strict=!!e.strict,this.noPax=!!e.noPax,this.prefix=(e.prefix||"").replace(/(\\|\/)+$/,""),this.linkCache=e.linkCache||new Map,this.statCache=e.statCache||new Map,this.readdirCache=e.readdirCache||new Map,this[zn]=hs,typeof e.onwarn=="function"&&this.on("warn",e.onwarn),this.portable=!!e.portable,this.zip=null,e.gzip?(typeof e.gzip!="object"&&(e.gzip={}),this.portable&&(e.gzip.portable=!0),this.zip=new bd.Gzip(e.gzip),this.zip.on("data",t=>super.write(t)),this.zip.on("end",t=>super.end()),this.zip.on("drain",t=>this[hn]()),this.on("resume",t=>this.zip.resume())):this.on("drain",this[hn]),this.noDirRecurse=!!e.noDirRecurse,this.follow=!!e.follow,this.noMtime=!!e.noMtime,this.mtime=e.mtime||null,this.filter=typeof e.filter=="function"?e.filter:t=>!0,this[Me]=new At,this[ke]=0,this.jobs=+e.jobs||4,this[Or]=!1,this[Er]=!1}[xd](e){return super.write(e)}add(e){return this.write(e),this}end(e){return e&&this.write(e),this[Er]=!0,this[St](),this}write(e){if(this[Er])throw new Error("write after end");return e instanceof vo?this[Nc](e):this[jr](e),this.flowing}[Nc](e){let t=b.default.resolve(this.cwd,e.path);if(this.prefix&&(e.path=this.prefix+"/"+e.path.replace(/^\.(\/+|$)/,"")),!this.filter(e.path,e))e.resume();else{let r=new Hn(e.path,t,!1);r.entry=new I0(e,this[ln](r)),r.entry.on("end",s=>this[an](r)),this[ke]+=1,this[Me].push(r)}this[St]()}[jr](e){let t=b.default.resolve(this.cwd,e);this.prefix&&(e=this.prefix+"/"+e.replace(/^\.(\/+|$)/,"")),this[Me].push(new Hn(e,t)),this[St]()}[Un](e){e.pending=!0,this[ke]+=1;let t=this.follow?"stat":"lstat";m.default[t](e.absolute,(r,s)=>{e.pending=!1,this[ke]-=1,r?this.emit("error",r):this[Br](e,s)})}[Br](e,t){this.statCache.set(e.absolute,t),e.stat=t,this.filter(e.path,t)||(e.ignore=!0),this[St]()}[Vn](e){e.pending=!0,this[ke]+=1,m.default.readdir(e.absolute,(t,r)=>{if(e.pending=!1,this[ke]-=1,t)return this.emit("error",t);this[Hr](e,r)})}[Hr](e,t){this.readdirCache.set(e.absolute,t),e.readdir=t,this[St]()}[St](){if(!this[Or]){this[Or]=!0;for(let e=this[Me].head;e!==null&&this[ke]<this.jobs;e=e.next)if(this[kc](e.value),e.value.ignore){let t=e.next;this[Me].removeNode(e),e.next=t}this[Or]=!1,this[Er]&&!this[Me].length&&this[ke]===0&&(this.zip?this.zip.end(Mc):(super.write(Mc),super.end()))}}get[Ut](){return this[Me]&&this[Me].head&&this[Me].head.value}[an](e){this[Me].shift(),this[ke]-=1,this[St]()}[kc](e){if(!e.pending){if(e.entry){e===this[Ut]&&!e.piped&&this[Ur](e);return}if(e.stat||(this.statCache.has(e.absolute)?this[Br](e,this.statCache.get(e.absolute)):this[Un](e)),!!e.stat&&!e.ignore&&!(!this.noDirRecurse&&e.stat.isDirectory()&&!e.readdir&&(this.readdirCache.has(e.absolute)?this[Hr](e,this.readdirCache.get(e.absolute)):this[Vn](e),!e.readdir))){if(e.entry=this[Fc](e),!e.entry){e.ignore=!0;return}e===this[Ut]&&!e.piped&&this[Ur](e)}}}[ln](e){return{onwarn:(t,r,s)=>this.warn(t,r,s),noPax:this.noPax,cwd:this.cwd,absolute:e.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime}}[Fc](e){this[ke]+=1;try{return new this[zn](e.path,this[ln](e)).on("end",()=>this[an](e)).on("error",t=>this.emit("error",t))}catch(t){this.emit("error",t)}}[hn](){this[Ut]&&this[Ut].entry&&this[Ut].entry.resume()}[Ur](e){e.piped=!0,e.readdir&&e.readdir.forEach(s=>{let n=this.prefix?e.path.slice(this.prefix.length+1)||"./":e.path,o=n==="./"?"":n.replace(/\/*$/,"/");this[jr](o+s)});let t=e.entry,r=this.zip;r?t.on("data",s=>{r.write(s)||t.pause()}):t.on("data",s=>{super.write(s)||t.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),Rd=class extends wo{constructor(e){super(e);this[zn]=T0}pause(){}resume(){}[Un](e){let t=this.follow?"statSync":"lstatSync";this[Br](e,m.default[t](e.absolute))}[Vn](e,t){this[Hr](e,m.default.readdirSync(e.absolute))}[Ur](e){let t=e.entry,r=this.zip;e.readdir&&e.readdir.forEach(s=>{let n=this.prefix?e.path.slice(this.prefix.length+1)||"./":e.path,o=n==="./"?"":n.replace(/\/*$/,"/");this[jr](o+s)}),r?t.on("data",s=>{r.write(s)}):t.on("data",s=>{super[xd](s)})}};wo.Sync=Rd;var Ft=wo,D0=oi.default.EventEmitter,Gn=m.default.writev;if(!Gn){let i=process.binding("fs"),e=i.FSReqWrap||i.FSReqCallback;Gn=(t,r,s,n)=>{let o=(l,h)=>n(l,h,r),a=new e;a.oncomplete=o,i.writeBuffers(t,r,s,a)}}var ei=Symbol("_autoClose"),Se=Symbol("_close"),ki=Symbol("_ended"),F=Symbol("_fd"),Pc=Symbol("_finished"),ct=Symbol("_flags"),un=Symbol("_flush"),Wn=Symbol("_handleChunk"),Yn=Symbol("_makeBuf"),Qr=Symbol("_mode"),Cr=Symbol("_needDrain"),Kt=Symbol("_onerror"),ti=Symbol("_onopen"),cn=Symbol("_onread"),Gt=Symbol("_onwrite"),dt=Symbol("_open"),Xe=Symbol("_path"),Rt=Symbol("_pos"),Ne=Symbol("_queue"),Wt=Symbol("_read"),$c=Symbol("_readSize"),ht=Symbol("_reading"),xr=Symbol("_remain"),Lc=Symbol("_size"),Vr=Symbol("_write"),Vt=Symbol("_writing"),zr=Symbol("_defaultFlag"),Xt=Symbol("_errored"),_o=class extends ai{constructor(e,t){t=t||{};super(t);if(this.readable=!0,this.writable=!1,typeof e!="string")throw new TypeError("path must be a string");this[Xt]=!1,this[F]=typeof t.fd=="number"?t.fd:null,this[Xe]=e,this[$c]=t.readSize||16*1024*1024,this[ht]=!1,this[Lc]=typeof t.size=="number"?t.size:1/0,this[xr]=this[Lc],this[ei]=typeof t.autoClose=="boolean"?t.autoClose:!0,typeof this[F]=="number"?this[Wt]():this[dt]()}get fd(){return this[F]}get path(){return this[Xe]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[dt](){m.default.open(this[Xe],"r",(e,t)=>this[ti](e,t))}[ti](e,t){e?this[Kt](e):(this[F]=t,this.emit("open",t),this[Wt]())}[Yn](){return Buffer.allocUnsafe(Math.min(this[$c],this[xr]))}[Wt](){if(!this[ht]){this[ht]=!0;let e=this[Yn]();if(e.length===0)return process.nextTick(()=>this[cn](null,0,e));m.default.read(this[F],e,0,e.length,null,(t,r,s)=>this[cn](t,r,s))}}[cn](e,t,r){this[ht]=!1,e?this[Kt](e):this[Wn](t,r)&&this[Wt]()}[Se](){if(this[ei]&&typeof this[F]=="number"){let e=this[F];this[F]=null,m.default.close(e,t=>t?this.emit("error",t):this.emit("close"))}}[Kt](e){this[ht]=!0,this[Se](),this.emit("error",e)}[Wn](e,t){let r=!1;return this[xr]-=e,e>0&&(r=super.write(e<t.length?t.slice(0,e):t)),(e===0||this[xr]<=0)&&(r=!1,this[Se](),super.end()),r}emit(e,t){switch(e){case"prefinish":case"finish":break;case"drain":typeof this[F]=="number"&&this[Wt]();break;case"error":return this[Xt]?void 0:(this[Xt]=!0,super.emit(e,t));default:return super.emit(e,t)}}},Ad=class extends _o{[dt](){let e=!0;try{this[ti](null,m.default.openSync(this[Xe],"r")),e=!1}finally{e&&this[Se]()}}[Wt](){let e=!0;try{if(!this[ht]){this[ht]=!0;do{let t=this[Yn](),r=t.length===0?0:m.default.readSync(this[F],t,0,t.length,null);if(!this[Wn](r,t))break}while(!0);this[ht]=!1}e=!1}finally{e&&this[Se]()}}[Se](){if(this[ei]&&typeof this[F]=="number"){let e=this[F];this[F]=null,m.default.closeSync(e),this.emit("close")}}},So=class extends D0{constructor(e,t){t=t||{};super(t);this.readable=!1,this.writable=!0,this[Xt]=!1,this[Vt]=!1,this[ki]=!1,this[Cr]=!1,this[Ne]=[],this[Xe]=e,this[F]=typeof t.fd=="number"?t.fd:null,this[Qr]=t.mode===void 0?438:t.mode,this[Rt]=typeof t.start=="number"?t.start:null,this[ei]=typeof t.autoClose=="boolean"?t.autoClose:!0;let r=this[Rt]!==null?"r+":"w";this[zr]=t.flags===void 0,this[ct]=this[zr]?r:t.flags,this[F]===null&&this[dt]()}emit(e,t){if(e==="error"){if(this[Xt])return;this[Xt]=!0}return super.emit(e,t)}get fd(){return this[F]}get path(){return this[Xe]}[Kt](e){this[Se](),this[Vt]=!0,this.emit("error",e)}[dt](){m.default.open(this[Xe],this[ct],this[Qr],(e,t)=>this[ti](e,t))}[ti](e,t){this[zr]&&this[ct]==="r+"&&e&&e.code==="ENOENT"?(this[ct]="w",this[dt]()):e?this[Kt](e):(this[F]=t,this.emit("open",t),this[un]())}end(e,t){return e&&this.write(e,t),this[ki]=!0,!this[Vt]&&!this[Ne].length&&typeof this[F]=="number"&&this[Gt](null,0),this}write(e,t){return typeof e=="string"&&(e=Buffer.from(e,t)),this[ki]?(this.emit("error",new Error("write() after end()")),!1):this[F]===null||this[Vt]||this[Ne].length?(this[Ne].push(e),this[Cr]=!0,!1):(this[Vt]=!0,this[Vr](e),!0)}[Vr](e){m.default.write(this[F],e,0,e.length,this[Rt],(t,r)=>this[Gt](t,r))}[Gt](e,t){e?this[Kt](e):(this[Rt]!==null&&(this[Rt]+=t),this[Ne].length?this[un]():(this[Vt]=!1,this[ki]&&!this[Pc]?(this[Pc]=!0,this[Se](),this.emit("finish")):this[Cr]&&(this[Cr]=!1,this.emit("drain"))))}[un](){if(this[Ne].length===0)this[ki]&&this[Gt](null,0);else if(this[Ne].length===1)this[Vr](this[Ne].pop());else{let e=this[Ne];this[Ne]=[],Gn(this[F],e,this[Rt],(t,r)=>this[Gt](t,r))}}[Se](){if(this[ei]&&typeof this[F]=="number"){let e=this[F];this[F]=null,m.default.close(e,t=>t?this.emit("error",t):this.emit("close"))}}},Td=class extends So{[dt](){let e;if(this[zr]&&this[ct]==="r+")try{e=m.default.openSync(this[Xe],this[ct],this[Qr])}catch(t){if(t.code==="ENOENT")return this[ct]="w",this[dt]();throw t}else e=m.default.openSync(this[Xe],this[ct],this[Qr]);this[ti](null,e)}[Se](){if(this[ei]&&typeof this[F]=="number"){let e=this[F];this[F]=null,m.default.closeSync(e),this.emit("close")}}[Vr](e){let t=!0;try{this[Gt](null,m.default.writeSync(this[F],e,0,e.length,this[Rt])),t=!1}finally{if(t)try{this[Se]()}catch{}}}},M0=_o,k0=Ad,N0=So,F0=Td,yt={ReadStream:M0,ReadStreamSync:k0,WriteStream:N0,WriteStreamSync:F0},P0=1024*1024,dn=Buffer.from([31,139]),ce=Symbol("state"),Et=Symbol("writeEntry"),We=Symbol("readEntry"),fn=Symbol("nextEntry"),qc=Symbol("processEntry"),de=Symbol("extendedHeader"),Ni=Symbol("globalExtendedHeader"),nt=Symbol("meta"),Bc=Symbol("emitMeta"),L=Symbol("buffer"),Ye=Symbol("queue"),Ot=Symbol("ended"),jc=Symbol("emittedEnd"),Ct=Symbol("emit"),ne=Symbol("unzip"),Rr=Symbol("consumeChunk"),Ar=Symbol("consumeChunkSub"),mn=Symbol("consumeBody"),Hc=Symbol("consumeMeta"),Uc=Symbol("consumeHeader"),Tr=Symbol("consuming"),pn=Symbol("bufferConcat"),gn=Symbol("maybeEnd"),Fi=Symbol("writing"),ot=Symbol("aborted"),Ir=Symbol("onDone"),xt=Symbol("sawValidEntry"),Dr=Symbol("sawNullBlock"),Mr=Symbol("sawEOF"),$0=i=>!0,us=os(class extends oi.default{constructor(e){e=e||{};super(e);this.file=e.file||"",this[xt]=null,this.on(Ir,t=>{(this[ce]==="begin"||this[xt]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),e.ondone?this.on(Ir,e.ondone):this.on(Ir,t=>{this.emit("prefinish"),this.emit("finish"),this.emit("end"),this.emit("close")}),this.strict=!!e.strict,this.maxMetaEntrySize=e.maxMetaEntrySize||P0,this.filter=typeof e.filter=="function"?e.filter:$0,this.writable=!0,this.readable=!1,this[Ye]=new At,this[L]=null,this[We]=null,this[Et]=null,this[ce]="begin",this[nt]="",this[de]=null,this[Ni]=null,this[Ot]=!1,this[ne]=null,this[ot]=!1,this[Dr]=!1,this[Mr]=!1,typeof e.onwarn=="function"&&this.on("warn",e.onwarn),typeof e.onentry=="function"&&this.on("entry",e.onentry)}[Uc](e,t){this[xt]===null&&(this[xt]=!1);let r;try{r=new Nt(e,t,this[de],this[Ni])}catch(s){return this.warn("TAR_ENTRY_INVALID",s)}if(r.nullBlock)this[Dr]?(this[Mr]=!0,this[ce]==="begin"&&(this[ce]="header"),this[Ct]("eof")):(this[Dr]=!0,this[Ct]("nullBlock"));else if(this[Dr]=!1,!r.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:r});else if(!r.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:r});else{let s=r.type;if(/^(Symbolic)?Link$/.test(s)&&!r.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:r});else if(!/^(Symbolic)?Link$/.test(s)&&r.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:r});else{let n=this[Et]=new vo(r,this[de],this[Ni]);if(!this[xt])if(n.remain){let o=()=>{n.invalid||(this[xt]=!0)};n.on("end",o)}else this[xt]=!0;n.meta?n.size>this.maxMetaEntrySize?(n.ignore=!0,this[Ct]("ignoredEntry",n),this[ce]="ignore",n.resume()):n.size>0&&(this[nt]="",n.on("data",o=>this[nt]+=o),this[ce]="meta"):(this[de]=null,n.ignore=n.ignore||!this.filter(n.path,n),n.ignore?(this[Ct]("ignoredEntry",n),this[ce]=n.remain?"ignore":"header",n.resume()):(n.remain?this[ce]="body":(this[ce]="header",n.end()),this[We]?this[Ye].push(n):(this[Ye].push(n),this[fn]())))}}}[qc](e){let t=!0;return e?Array.isArray(e)?this.emit.apply(this,e):(this[We]=e,this.emit("entry",e),e.emittedEnd||(e.on("end",r=>this[fn]()),t=!1)):(this[We]=null,t=!1),t}[fn](){do;while(this[qc](this[Ye].shift()));if(!this[Ye].length){let e=this[We];!e||e.flowing||e.size===e.remain?this[Fi]||this.emit("drain"):e.once("drain",r=>this.emit("drain"))}}[mn](e,t){let r=this[Et],s=r.blockRemain,n=s>=e.length&&t===0?e:e.slice(t,t+s);return r.write(n),r.blockRemain||(this[ce]="header",this[Et]=null,r.end()),n.length}[Hc](e,t){let r=this[Et],s=this[mn](e,t);return this[Et]||this[Bc](r),s}[Ct](e,t,r){!this[Ye].length&&!this[We]?this.emit(e,t,r):this[Ye].push([e,t,r])}[Bc](e){switch(this[Ct]("meta",this[nt]),e.type){case"ExtendedHeader":case"OldExtendedHeader":this[de]=Ui.parse(this[nt],this[de],!1);break;case"GlobalExtendedHeader":this[Ni]=Ui.parse(this[nt],this[Ni],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[de]=this[de]||Object.create(null),this[de].path=this[nt].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[de]=this[de]||Object.create(null),this[de].linkpath=this[nt].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+e.type)}}abort(e){this[ot]=!0,this.emit("abort",e),this.warn("TAR_ABORT",e,{recoverable:!1})}write(e){if(this[ot])return;if(this[ne]===null&&e){if(this[L]&&(e=Buffer.concat([this[L],e]),this[L]=null),e.length<dn.length)return this[L]=e,!0;for(let r=0;this[ne]===null&&r<dn.length;r++)e[r]!==dn[r]&&(this[ne]=!1);if(this[ne]===null){let r=this[Ot];this[Ot]=!1,this[ne]=new bd.Unzip,this[ne].on("data",n=>this[Rr](n)),this[ne].on("error",n=>this.abort(n)),this[ne].on("end",n=>{this[Ot]=!0,this[Rr]()}),this[Fi]=!0;let s=this[ne][r?"end":"write"](e);return this[Fi]=!1,s}}this[Fi]=!0,this[ne]?this[ne].write(e):this[Rr](e),this[Fi]=!1;let t=this[Ye].length?!1:this[We]?this[We].flowing:!0;return!t&&!this[Ye].length&&this[We].once("drain",r=>this.emit("drain")),t}[pn](e){e&&!this[ot]&&(this[L]=this[L]?Buffer.concat([this[L],e]):e)}[gn](){if(this[Ot]&&!this[jc]&&!this[ot]&&!this[Tr]){this[jc]=!0;let e=this[Et];if(e&&e.blockRemain){let t=this[L]?this[L].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${e.blockRemain} more bytes, only ${t} available)`,{entry:e}),this[L]&&e.write(this[L]),e.end()}this[Ct](Ir)}}[Rr](e){if(this[Tr])this[pn](e);else if(!e&&!this[L])this[gn]();else{if(this[Tr]=!0,this[L]){this[pn](e);let t=this[L];this[L]=null,this[Ar](t)}else this[Ar](e);for(;this[L]&&this[L].length>=512&&!this[ot]&&!this[Mr];){let t=this[L];this[L]=null,this[Ar](t)}this[Tr]=!1}(!this[L]||this[Ot])&&this[gn]()}[Ar](e){let t=0,r=e.length;for(;t+512<=r&&!this[ot]&&!this[Mr];)switch(this[ce]){case"begin":case"header":this[Uc](e,t),t+=512;break;case"ignore":case"body":t+=this[mn](e,t);break;case"meta":t+=this[Hc](e,t);break;default:throw new Error("invalid state: "+this[ce])}t<r&&(this[L]?this[L]=Buffer.concat([e.slice(t),this[L]]):this[L]=e.slice(t))}end(e){this[ot]||(this[ne]?this[ne].end(e):(this[Ot]=!0,this.write(e)))}}),Ji=(i,e,t)=>{typeof i=="function"?(t=i,e=null,i={}):Array.isArray(i)&&(e=i,i={}),typeof e=="function"&&(t=e,e=null),e?e=Array.from(e):e=[];let r=Xi(i);if(r.sync&&typeof t=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof t=="function")throw new TypeError("callback only supported with file option");return e.length&&q0(r,e),r.noResume||L0(r),r.file&&r.sync?B0(r):r.file?j0(r,t):Id(r)},L0=i=>{let e=i.onentry;i.onentry=e?t=>{e(t),t.resume()}:t=>t.resume()},q0=(i,e)=>{let t=new Map(e.map(n=>[n.replace(/\/+$/,""),!0])),r=i.filter,s=(n,o)=>{let a=o||b.default.parse(n).root||".",l=n===a?!1:t.has(n)?t.get(n):s(b.default.dirname(n),a);return t.set(n,l),l};i.filter=r?(n,o)=>r(n,o)&&s(n.replace(/\/+$/,"")):n=>s(n.replace(/\/+$/,""))},B0=i=>{let e=Id(i),t=i.file,r=!0,s;try{let n=m.default.statSync(t),o=i.maxReadSize||16*1024*1024;if(n.size<o)e.end(m.default.readFileSync(t));else{let a=0,l=Buffer.allocUnsafe(o);for(s=m.default.openSync(t,"r");a<n.size;){let h=m.default.readSync(s,l,0,o,a);a+=h,e.write(l.slice(0,h))}e.end()}r=!1}finally{if(r&&s)try{m.default.closeSync(s)}catch{}}},j0=(i,e)=>{let t=new us(i),r=i.maxReadSize||16*1024*1024,s=i.file,n=new Promise((o,a)=>{t.on("error",a),t.on("end",o),m.default.stat(s,(l,h)=>{if(l)a(l);else{let u=new yt.ReadStream(s,{readSize:r,size:h.size});u.on("error",a),u.pipe(t)}})});return e?n.then(e,e):n},Id=i=>new us(i),H0=(i,e,t)=>{if(typeof e=="function"&&(t=e),Array.isArray(i)&&(e=i,i={}),!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");e=Array.from(e);let r=Xi(i);if(r.sync&&typeof t=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof t=="function")throw new TypeError("callback only supported with file option");return r.file&&r.sync?U0(r,e):r.file?V0(r,e,t):r.sync?z0(r,e):G0(r,e)},U0=(i,e)=>{let t=new Ft.Sync(i),r=new yt.WriteStreamSync(i.file,{mode:i.mode||438});t.pipe(r),Dd(t,e)},V0=(i,e,t)=>{let r=new Ft(i),s=new yt.WriteStream(i.file,{mode:i.mode||438});r.pipe(s);let n=new Promise((o,a)=>{s.on("error",a),s.on("close",o),r.on("error",a)});return Eo(r,e),t?n.then(t,t):n},Dd=(i,e)=>{e.forEach(t=>{t.charAt(0)==="@"?Ji({file:b.default.resolve(i.cwd,t.substr(1)),sync:!0,noResume:!0,onentry:r=>i.add(r)}):i.add(t)}),i.end()},Eo=(i,e)=>{for(;e.length;){let t=e.shift();if(t.charAt(0)==="@")return Ji({file:b.default.resolve(i.cwd,t.substr(1)),noResume:!0,onentry:r=>i.add(r)}).then(r=>Eo(i,e));i.add(t)}i.end()},z0=(i,e)=>{let t=new Ft.Sync(i);return Dd(t,e),t},G0=(i,e)=>{let t=new Ft(i);return Eo(t,e),t},Md=(i,e,t)=>{let r=Xi(i);if(!r.file)throw new TypeError("file is required");if(r.gzip)throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),r.sync?W0(r,e):Z0(r,e,t)},W0=(i,e)=>{let t=new Ft.Sync(i),r=!0,s,n;try{try{s=m.default.openSync(i.file,"r+")}catch(l){if(l.code==="ENOENT")s=m.default.openSync(i.file,"w+");else throw l}let o=m.default.fstatSync(s),a=Buffer.alloc(512);e:for(n=0;n<o.size;n+=512){for(let u=0,c=0;u<512;u+=c){if(c=m.default.readSync(s,a,u,a.length-u,n+u),n===0&&a[0]===31&&a[1]===139)throw new Error("cannot append to compressed archives");if(!c)break e}let l=new Nt(a);if(!l.cksumValid)break;let h=512*Math.ceil(l.size/512);if(n+h+512>o.size)break;n+=h,i.mtimeCache&&i.mtimeCache.set(l.path,l.mtime)}r=!1,Y0(i,t,n,s,e)}finally{if(r)try{m.default.closeSync(s)}catch{}}},Y0=(i,e,t,r,s)=>{let n=new yt.WriteStreamSync(i.file,{fd:r,start:t});e.pipe(n),K0(e,s)},Z0=(i,e,t)=>{e=Array.from(e);let r=new Ft(i),s=(o,a,l)=>{let h=(p,g)=>{p?m.default.close(o,y=>l(p)):l(null,g)},u=0;if(a===0)return h(null,0);let c=0,d=Buffer.alloc(512),f=(p,g)=>{if(p)return h(p);if(c+=g,c<512&&g)return m.default.read(o,d,c,d.length-c,u+c,f);if(u===0&&d[0]===31&&d[1]===139)return h(new Error("cannot append to compressed archives"));if(c<512)return h(null,u);let y=new Nt(d);if(!y.cksumValid)return h(null,u);let _=512*Math.ceil(y.size/512);if(u+_+512>a||(u+=_+512,u>=a))return h(null,u);i.mtimeCache&&i.mtimeCache.set(y.path,y.mtime),c=0,m.default.read(o,d,0,512,u,f)};m.default.read(o,d,0,512,u,f)},n=new Promise((o,a)=>{r.on("error",a);let l="r+",h=(u,c)=>{if(u&&u.code==="ENOENT"&&l==="r+")return l="w+",m.default.open(i.file,l,h);if(u)return a(u);m.default.fstat(c,(d,f)=>{if(d)return a(d);s(c,f.size,(p,g)=>{if(p)return a(p);let y=new yt.WriteStream(i.file,{fd:c,start:g});r.pipe(y),y.on("error",a),y.on("close",o),kd(r,e)})})};m.default.open(i.file,l,h)});return t?n.then(t,t):n},K0=(i,e)=>{e.forEach(t=>{t.charAt(0)==="@"?Ji({file:b.default.resolve(i.cwd,t.substr(1)),sync:!0,noResume:!0,onentry:r=>i.add(r)}):i.add(t)}),i.end()},kd=(i,e)=>{for(;e.length;){let t=e.shift();if(t.charAt(0)==="@")return Ji({file:b.default.resolve(i.cwd,t.substr(1)),noResume:!0,onentry:r=>i.add(r)}).then(r=>kd(i,e));i.add(t)}i.end()},X0=(i,e,t)=>{let r=Xi(i);if(!r.file)throw new TypeError("file is required");if(r.gzip)throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),J0(r),Md(r,e,t)},J0=i=>{let e=i.filter;i.mtimeCache||(i.mtimeCache=new Map),i.filter=e?(t,r)=>e(t,r)&&!(i.mtimeCache.get(t)>r.mtime):(t,r)=>!(i.mtimeCache.get(t)>r.mtime)},{promisify:Vc}=Fe.default,Q0=i=>{if(!i)i={mode:511,fs:m.default};else if(typeof i=="object")i=$t({mode:511,fs:m.default},i);else if(typeof i=="number")i={mode:i,fs:m.default};else if(typeof i=="string")i={mode:parseInt(i,8),fs:m.default};else throw new TypeError("invalid options argument");return i.mkdir=i.mkdir||i.fs.mkdir||m.default.mkdir,i.mkdirAsync=Vc(i.mkdir),i.stat=i.stat||i.fs.stat||m.default.stat,i.statAsync=Vc(i.stat),i.statSync=i.statSync||i.fs.statSync||m.default.statSync,i.mkdirSync=i.mkdirSync||i.fs.mkdirSync||m.default.mkdirSync,i},li=Q0,ev=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:tv,parse:iv}=b.default,rv=i=>{if(/\0/.test(i))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:i,code:"ERR_INVALID_ARG_VALUE"});if(i=tv(i),ev==="win32"){let e=/[*|"<>?:]/,{root:t}=iv(i);if(e.test(i.substr(t.length)))throw Object.assign(new Error("Illegal characters in path."),{path:i,code:"EINVAL"})}return i},hi=rv,{dirname:Nd}=b.default,Fd=(i,e,t=void 0)=>t===e?Promise.resolve():i.statAsync(e).then(r=>r.isDirectory()?t:void 0,r=>r.code==="ENOENT"?Fd(i,Nd(e),e):void 0),Pd=(i,e,t=void 0)=>{if(t!==e)try{return i.statSync(e).isDirectory()?t:void 0}catch(r){return r.code==="ENOENT"?Pd(i,Nd(e),e):void 0}},sv={findMade:Fd,findMadeSync:Pd},{dirname:$d}=b.default,Zn=(i,e,t)=>{e.recursive=!1;let r=$d(i);return r===i?e.mkdirAsync(i,e).catch(s=>{if(s.code!=="EISDIR")throw s}):e.mkdirAsync(i,e).then(()=>t||i,s=>{if(s.code==="ENOENT")return Zn(r,e).then(n=>Zn(i,e,n));if(s.code!=="EEXIST"&&s.code!=="EROFS")throw s;return e.statAsync(i).then(n=>{if(n.isDirectory())return t;throw s},()=>{throw s})})},Kn=(i,e,t)=>{let r=$d(i);if(e.recursive=!1,r===i)try{return e.mkdirSync(i,e)}catch(s){if(s.code!=="EISDIR")throw s;return}try{return e.mkdirSync(i,e),t||i}catch(s){if(s.code==="ENOENT")return Kn(i,e,Kn(r,e,t));if(s.code!=="EEXIST"&&s.code!=="EROFS")throw s;try{if(!e.statSync(i).isDirectory())throw s}catch{throw s}}},Ld={mkdirpManual:Zn,mkdirpManualSync:Kn},{dirname:qd}=b.default,{findMade:nv,findMadeSync:ov}=sv,{mkdirpManual:av,mkdirpManualSync:lv}=Ld,hv=(i,e)=>(e.recursive=!0,qd(i)===i?e.mkdirAsync(i,e):nv(e,i).then(r=>e.mkdirAsync(i,e).then(()=>r).catch(s=>{if(s.code==="ENOENT")return av(i,e);throw s}))),uv=(i,e)=>{if(e.recursive=!0,qd(i)===i)return e.mkdirSync(i,e);let r=ov(e,i);try{return e.mkdirSync(i,e),r}catch(s){if(s.code==="ENOENT")return lv(i,e);throw s}},cv={mkdirpNative:hv,mkdirpNativeSync:uv},dv=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,yn=dv.replace(/^v/,"").split("."),Bd=+yn[0]>10||+yn[0]==10&&+yn[1]>=12,fv=Bd?i=>i.mkdir===m.default.mkdir:()=>!1,mv=Bd?i=>i.mkdirSync===m.default.mkdirSync:()=>!1,pv={useNative:fv,useNativeSync:mv},{mkdirpNative:jd,mkdirpNativeSync:Hd}=cv,{mkdirpManual:Ud,mkdirpManualSync:Vd}=Ld,{useNative:gv,useNativeSync:yv}=pv,ui=(i,e)=>(i=hi(i),e=li(e),gv(e)?jd(i,e):Ud(i,e)),vv=(i,e)=>(i=hi(i),e=li(e),yv(e)?Hd(i,e):Vd(i,e));ui.sync=vv;ui.native=(i,e)=>jd(hi(i),li(e));ui.manual=(i,e)=>Ud(hi(i),li(e));ui.nativeSync=(i,e)=>Hd(hi(i),li(e));ui.manualSync=(i,e)=>Vd(hi(i),li(e));var zd=ui,bv=m.default.lchown?"lchown":"chown",wv=m.default.lchownSync?"lchownSync":"chownSync",Gd=m.default.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),zc=(i,e,t)=>{try{return m.default[wv](i,e,t)}catch(r){if(r.code!=="ENOENT")throw r}},_v=(i,e,t)=>{try{return m.default.chownSync(i,e,t)}catch(r){if(r.code!=="ENOENT")throw r}},Sv=Gd?(i,e,t,r)=>s=>{!s||s.code!=="EISDIR"?r(s):m.default.chown(i,e,t,r)}:(i,e,t,r)=>r,Xn=Gd?(i,e,t)=>{try{return zc(i,e,t)}catch(r){if(r.code!=="EISDIR")throw r;_v(i,e,t)}}:(i,e,t)=>zc(i,e,t),Ev=process.version,Wd=(i,e,t)=>m.default.readdir(i,e,t),Ov=(i,e)=>m.default.readdirSync(i,e);/^v4\./.test(Ev)&&(Wd=(i,e,t)=>m.default.readdir(i,t));var es=(i,e,t,r)=>{m.default[bv](i,e,t,Sv(i,e,t,s=>{r(s&&s.code!=="ENOENT"?s:null)}))},Yd=(i,e,t,r,s)=>{if(typeof e=="string")return m.default.lstat(b.default.resolve(i,e),(n,o)=>{if(n)return s(n.code!=="ENOENT"?n:null);o.name=e,Yd(i,o,t,r,s)});if(e.isDirectory())Oo(b.default.resolve(i,e.name),t,r,n=>{if(n)return s(n);let o=b.default.resolve(i,e.name);es(o,t,r,s)});else{let n=b.default.resolve(i,e.name);es(n,t,r,s)}},Oo=(i,e,t,r)=>{Wd(i,{withFileTypes:!0},(s,n)=>{if(s){if(s.code==="ENOENT")return r();if(s.code!=="ENOTDIR"&&s.code!=="ENOTSUP")return r(s)}if(s||!n.length)return es(i,e,t,r);let o=n.length,a=null,l=h=>{if(!a){if(h)return r(a=h);if(--o===0)return es(i,e,t,r)}};n.forEach(h=>Yd(i,h,e,t,l))})},Cv=(i,e,t,r)=>{if(typeof e=="string")try{let s=m.default.lstatSync(b.default.resolve(i,e));s.name=e,e=s}catch(s){if(s.code==="ENOENT")return;throw s}e.isDirectory()&&Zd(b.default.resolve(i,e.name),t,r),Xn(b.default.resolve(i,e.name),t,r)},Zd=(i,e,t)=>{let r;try{r=Ov(i,{withFileTypes:!0})}catch(s){if(s.code==="ENOENT")return;if(s.code==="ENOTDIR"||s.code==="ENOTSUP")return Xn(i,e,t);throw s}return r&&r.length&&r.forEach(s=>Cv(i,s,e,t)),Xn(i,e,t)},Kd=Oo;Oo.sync=Zd;var Co=class extends Error{constructor(e,t){super("Cannot extract through symbolic link");this.path=t,this.symlink=e}get name(){return"SylinkError"}},Vi=class extends Error{constructor(e,t){super(t+": Cannot cd into '"+e+"'");this.path=e,this.code=t}get name(){return"CwdError"}},xo=(i,e,t)=>{let r=e.umask,s=e.mode|448,n=(s&r)!==0,o=e.uid,a=e.gid,l=typeof o=="number"&&typeof a=="number"&&(o!==e.processUid||a!==e.processGid),h=e.preserve,u=e.unlink,c=e.cache,d=e.cwd,f=(y,_)=>{y?t(y):(c.set(i,!0),_&&l?Kd(_,o,a,E=>f(E)):n?m.default.chmod(i,s,t):t())};if(c&&c.get(i)===!0)return f();if(i===d)return m.default.stat(i,(y,_)=>{(y||!_.isDirectory())&&(y=new Vi(i,y&&y.code||"ENOTDIR")),f(y)});if(h)return zd(i,{mode:s}).then(y=>f(null,y),f);let g=b.default.relative(d,i).split(/\/|\\/);ts(d,g,s,c,u,d,null,f)},ts=(i,e,t,r,s,n,o,a)=>{if(!e.length)return a(null,o);let l=e.shift(),h=i+"/"+l;if(r.get(h))return ts(h,e,t,r,s,n,o,a);m.default.mkdir(h,t,Xd(h,e,t,r,s,n,o,a))},Xd=(i,e,t,r,s,n,o,a)=>l=>{if(l){if(l.path&&b.default.dirname(l.path)===n&&(l.code==="ENOTDIR"||l.code==="ENOENT"))return a(new Vi(n,l.code));m.default.lstat(i,(h,u)=>{if(h)a(h);else if(u.isDirectory())ts(i,e,t,r,s,n,o,a);else if(s)m.default.unlink(i,c=>{if(c)return a(c);m.default.mkdir(i,t,Xd(i,e,t,r,s,n,o,a))});else{if(u.isSymbolicLink())return a(new Co(i,i+"/"+e.join("/")));a(l)}})}else o=o||i,ts(i,e,t,r,s,n,o,a)},xv=(i,e)=>{let t=e.umask,r=e.mode|448,s=(r&t)!==0,n=e.uid,o=e.gid,a=typeof n=="number"&&typeof o=="number"&&(n!==e.processUid||o!==e.processGid),l=e.preserve,h=e.unlink,u=e.cache,c=e.cwd,d=y=>{u.set(i,!0),y&&a&&Kd.sync(y,n,o),s&&m.default.chmodSync(i,r)};if(u&&u.get(i)===!0)return d();if(i===c){let y=!1,_="ENOTDIR";try{y=m.default.statSync(i).isDirectory()}catch(E){_=E.code}finally{if(!y)throw new Vi(i,_)}d();return}if(l)return d(zd.sync(i,r));let p=b.default.relative(c,i).split(/\/|\\/),g=null;for(let y=p.shift(),_=c;y&&(_+="/"+y);y=p.shift())if(!u.get(_))try{m.default.mkdirSync(_,r),g=g||_,u.set(_,!0)}catch(E){if(E.path&&b.default.dirname(E.path)===c&&(E.code==="ENOTDIR"||E.code==="ENOENT"))return new Vi(c,E.code);let N=m.default.lstatSync(_);if(N.isDirectory()){u.set(_,!0);continue}else if(h){m.default.unlinkSync(_),m.default.mkdirSync(_,r),g=g||_,u.set(_,!0);continue}else if(N.isSymbolicLink())return new Co(_,_+"/"+p.join("/"))}return d(g)};xo.sync=xv;var Rv=()=>{let i=new Map,e=new Map,{join:t}=b.default,r=u=>t(u).split(/[\\/]/).slice(0,-1).reduce((c,d)=>c.length?c.concat(t(c[c.length-1],d)):[d],[]),s=new Set,n=u=>{let c=e.get(u);if(!c)throw new Error("function does not have any path reservations");return{paths:c.paths.map(d=>i.get(d)),dirs:[...c.dirs].map(d=>i.get(d))}},o=u=>{let{paths:c,dirs:d}=n(u);return c.every(f=>f[0]===u)&&d.every(f=>f[0]instanceof Set&&f[0].has(u))},a=u=>s.has(u)||!o(u)?!1:(s.add(u),u(()=>l(u)),!0),l=u=>{if(!s.has(u))return!1;let{paths:c,dirs:d}=e.get(u),f=new Set;return c.forEach(p=>{let g=i.get(p);O.default.equal(g[0],u),g.length===1?i.delete(p):(g.shift(),typeof g[0]=="function"?f.add(g[0]):g[0].forEach(y=>f.add(y)))}),d.forEach(p=>{let g=i.get(p);O.default(g[0]instanceof Set),g[0].size===1&&g.length===1?i.delete(p):g[0].size===1?(g.shift(),f.add(g[0])):g[0].delete(u)}),s.delete(u),f.forEach(p=>a(p)),!0};return{check:o,reserve:(u,c)=>{let d=new Set(u.map(f=>r(f)).reduce((f,p)=>f.concat(p)));return e.set(c,{dirs:d,paths:u}),u.forEach(f=>{let p=i.get(f);p?p.push(c):i.set(f,[c])}),d.forEach(f=>{let p=i.get(f);p?p[p.length-1]instanceof Set?p[p.length-1].add(c):p.push(new Set([c])):i.set(f,[new Set([c])])}),a(c)}}},Av=process.env.__FAKE_PLATFORM__||process.platform,Tv=Av==="win32",Iv=ge.__FAKE_TESTING_FS__||m.default,{O_CREAT:Dv,O_TRUNC:Mv,O_WRONLY:kv,UV_FS_O_FILEMAP:Jd=0}=Iv.constants,Nv=Tv&&!!Jd,Fv=512*1024,Pv=Jd|Mv|Dv|kv,Qd=Nv?i=>i<Fv?Pv:"w":()=>"w",Gc=Symbol("onEntry"),Jn=Symbol("checkFs"),Wc=Symbol("checkFs2"),Qn=Symbol("isReusable"),Ke=Symbol("makeFs"),eo=Symbol("file"),to=Symbol("directory"),Gr=Symbol("link"),Yc=Symbol("symlink"),Zc=Symbol("hardlink"),Kc=Symbol("unsupported"),Xc=Symbol("checkPath"),Jt=Symbol("mkdir"),te=Symbol("onError"),kr=Symbol("pending"),Jc=Symbol("pend"),zt=Symbol("unpend"),vn=Symbol("ended"),bn=Symbol("maybeClose"),io=Symbol("skip"),qi=Symbol("doChown"),Bi=Symbol("uid"),ji=Symbol("gid"),Nr=()=>{throw new Error("sync function called cb somehow?!?")},$v=(i,e)=>{if(process.platform!=="win32")return m.default.unlink(i,e);let t=i+".DELETE."+pd.default.randomBytes(16).toString("hex");m.default.rename(i,t,r=>{if(r)return e(r);m.default.unlink(t,e)})},Lv=i=>{if(process.platform!=="win32")return m.default.unlinkSync(i);let e=i+".DELETE."+pd.default.randomBytes(16).toString("hex");m.default.renameSync(i,e),m.default.unlinkSync(e)},Qc=(i,e,t)=>i===i>>>0?i:e===e>>>0?e:t,cs=class extends us{constructor(e){e||(e={}),e.ondone=t=>{this[vn]=!0,this[bn]()};super(e);if(this.reservations=Rv(),this.transform=typeof e.transform=="function"?e.transform:null,this.writable=!0,this.readable=!1,this[kr]=0,this[vn]=!1,this.dirCache=e.dirCache||new Map,typeof e.uid=="number"||typeof e.gid=="number"){if(typeof e.uid!="number"||typeof e.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(e.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=e.uid,this.gid=e.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;e.preserveOwner===void 0&&typeof e.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!e.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.forceChown=e.forceChown===!0,this.win32=!!e.win32||process.platform==="win32",this.newer=!!e.newer,this.keep=!!e.keep,this.noMtime=!!e.noMtime,this.preservePaths=!!e.preservePaths,this.unlink=!!e.unlink,this.cwd=b.default.resolve(e.cwd||process.cwd()),this.strip=+e.strip||0,this.processUmask=e.noChmod?0:process.umask(),this.umask=typeof e.umask=="number"?e.umask:this.processUmask,this.dmode=e.dmode||511&~this.umask,this.fmode=e.fmode||438&~this.umask,this.on("entry",t=>this[Gc](t))}warn(e,t,r={}){return(e==="TAR_BAD_ARCHIVE"||e==="TAR_ABORT")&&(r.recoverable=!1),super.warn(e,t,r)}[bn](){this[vn]&&this[kr]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"),this.emit("close"))}[Xc](e){if(this.strip){let t=e.path.split(/\/|\\/);if(t.length<this.strip)return!1;if(e.path=t.slice(this.strip).join("/"),e.type==="Link"){let r=e.linkpath.split(/\/|\\/);r.length>=this.strip&&(e.linkpath=r.slice(this.strip).join("/"))}}if(!this.preservePaths){let t=e.path;if(t.match(/(^|\/|\\)\.\.(\\|\/|$)/))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:e,path:t}),!1;if(b.default.win32.isAbsolute(t)){let r=b.default.win32.parse(t);e.path=t.substr(r.root.length);let s=r.root;this.warn("TAR_ENTRY_INFO",`stripping ${s} from absolute path`,{entry:e,path:t})}}if(this.win32){let t=b.default.win32.parse(e.path);e.path=t.root===""?Fn.encode(e.path):t.root+Fn.encode(e.path.substr(t.root.length))}return b.default.isAbsolute(e.path)?e.absolute=e.path:e.absolute=b.default.resolve(this.cwd,e.path),!0}[Gc](e){if(!this[Xc](e))return e.resume();switch(O.default.equal(typeof e.absolute,"string"),e.type){case"Directory":case"GNUDumpDir":e.mode&&(e.mode=e.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[Jn](e);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[Kc](e)}}[te](e,t){e.name==="CwdError"?this.emit("error",e):(this.warn("TAR_ENTRY_ERROR",e,{entry:t}),this[zt](),t.resume())}[Jt](e,t,r){xo(e,{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:t,noChmod:this.noChmod},r)}[qi](e){return this.forceChown||this.preserveOwner&&(typeof e.uid=="number"&&e.uid!==this.processUid||typeof e.gid=="number"&&e.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[Bi](e){return Qc(this.uid,e.uid,this.processUid)}[ji](e){return Qc(this.gid,e.gid,this.processGid)}[eo](e,t){let r=e.mode&4095||this.fmode,s=new yt.WriteStream(e.absolute,{flags:Qd(e.size),mode:r,autoClose:!1});s.on("error",l=>this[te](l,e));let n=1,o=l=>{if(l)return this[te](l,e);--n===0&&m.default.close(s.fd,h=>{t(),h?this[te](h,e):this[zt]()})};s.on("finish",l=>{let h=e.absolute,u=s.fd;if(e.mtime&&!this.noMtime){n++;let c=e.atime||new Date,d=e.mtime;m.default.futimes(u,c,d,f=>f?m.default.utimes(h,c,d,p=>o(p&&f)):o())}if(this[qi](e)){n++;let c=this[Bi](e),d=this[ji](e);m.default.fchown(u,c,d,f=>f?m.default.chown(h,c,d,p=>o(p&&f)):o())}o()});let a=this.transform&&this.transform(e)||e;a!==e&&(a.on("error",l=>this[te](l,e)),e.pipe(a)),a.pipe(s)}[to](e,t){let r=e.mode&4095||this.dmode;this[Jt](e.absolute,r,s=>{if(s)return t(),this[te](s,e);let n=1,o=a=>{--n===0&&(t(),this[zt](),e.resume())};e.mtime&&!this.noMtime&&(n++,m.default.utimes(e.absolute,e.atime||new Date,e.mtime,o)),this[qi](e)&&(n++,m.default.chown(e.absolute,this[Bi](e),this[ji](e),o)),o()})}[Kc](e){e.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${e.type}`,{entry:e}),e.resume()}[Yc](e,t){this[Gr](e,e.linkpath,"symlink",t)}[Zc](e,t){this[Gr](e,b.default.resolve(this.cwd,e.linkpath),"link",t)}[Jc](){this[kr]++}[zt](){this[kr]--,this[bn]()}[io](e){this[zt](),e.resume()}[Qn](e,t){return e.type==="File"&&!this.unlink&&t.isFile()&&t.nlink<=1&&process.platform!=="win32"}[Jn](e){this[Jc]();let t=[e.path];e.linkpath&&t.push(e.linkpath),this.reservations.reserve(t,r=>this[Wc](e,r))}[Wc](e,t){this[Jt](b.default.dirname(e.absolute),this.dmode,r=>{if(r)return t(),this[te](r,e);m.default.lstat(e.absolute,(s,n)=>{n&&(this.keep||this.newer&&n.mtime>e.mtime)?(this[io](e),t()):s||this[Qn](e,n)?this[Ke](null,e,t):n.isDirectory()?e.type==="Directory"?!this.noChmod&&(!e.mode||(n.mode&4095)===e.mode)?this[Ke](null,e,t):m.default.chmod(e.absolute,e.mode,o=>this[Ke](o,e,t)):m.default.rmdir(e.absolute,o=>this[Ke](o,e,t)):$v(e.absolute,o=>this[Ke](o,e,t))})})}[Ke](e,t,r){if(e)return this[te](e,t);switch(t.type){case"File":case"OldFile":case"ContiguousFile":return this[eo](t,r);case"Link":return this[Zc](t,r);case"SymbolicLink":return this[Yc](t,r);case"Directory":case"GNUDumpDir":return this[to](t,r)}}[Gr](e,t,r,s){m.default[r](t,e.absolute,n=>{if(n)return this[te](n,e);s(),this[zt](),e.resume()})}},ef=class extends cs{[Jn](e){let t=this[Jt](b.default.dirname(e.absolute),this.dmode,Nr);if(t)return this[te](t,e);try{let r=m.default.lstatSync(e.absolute);if(this.keep||this.newer&&r.mtime>e.mtime)return this[io](e);if(this[Qn](e,r))return this[Ke](null,e,Nr);try{return r.isDirectory()?e.type==="Directory"?!this.noChmod&&e.mode&&(r.mode&4095)!==e.mode&&m.default.chmodSync(e.absolute,e.mode):m.default.rmdirSync(e.absolute):Lv(e.absolute),this[Ke](null,e,Nr)}catch(s){return this[te](s,e)}}catch{return this[Ke](null,e,Nr)}}[eo](e,t){let r=e.mode&4095||this.fmode,s=a=>{let l;try{m.default.closeSync(n)}catch(h){l=h}(a||l)&&this[te](a||l,e)},n;try{n=m.default.openSync(e.absolute,Qd(e.size),r)}catch(a){return s(a)}let o=this.transform&&this.transform(e)||e;o!==e&&(o.on("error",a=>this[te](a,e)),e.pipe(o)),o.on("data",a=>{try{m.default.writeSync(n,a,0,a.length)}catch(l){s(l)}}),o.on("end",a=>{let l=null;if(e.mtime&&!this.noMtime){let h=e.atime||new Date,u=e.mtime;try{m.default.futimesSync(n,h,u)}catch(c){try{m.default.utimesSync(e.absolute,h,u)}catch{l=c}}}if(this[qi](e)){let h=this[Bi](e),u=this[ji](e);try{m.default.fchownSync(n,h,u)}catch(c){try{m.default.chownSync(e.absolute,h,u)}catch{l=l||c}}}s(l)})}[to](e,t){let r=e.mode&4095||this.dmode,s=this[Jt](e.absolute,r);if(s)return this[te](s,e);if(e.mtime&&!this.noMtime)try{m.default.utimesSync(e.absolute,e.atime||new Date,e.mtime)}catch{}if(this[qi](e))try{m.default.chownSync(e.absolute,this[Bi](e),this[ji](e))}catch{}e.resume()}[Jt](e,t){try{return xo.sync(e,{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:t})}catch(r){return r}}[Gr](e,t,r,s){try{m.default[r+"Sync"](t,e.absolute),e.resume()}catch(n){return this[te](n,e)}}};cs.Sync=ef;var Qi=cs,qv=(i,e,t)=>{typeof i=="function"?(t=i,e=null,i={}):Array.isArray(i)&&(e=i,i={}),typeof e=="function"&&(t=e,e=null),e?e=Array.from(e):e=[];let r=Xi(i);if(r.sync&&typeof t=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof t=="function")throw new TypeError("callback only supported with file option");return e.length&&Bv(r,e),r.file&&r.sync?jv(r):r.file?Hv(r,t):r.sync?Uv(r):Vv(r)},Bv=(i,e)=>{let t=new Map(e.map(n=>[n.replace(/\/+$/,""),!0])),r=i.filter,s=(n,o)=>{let a=o||b.default.parse(n).root||".",l=n===a?!1:t.has(n)?t.get(n):s(b.default.dirname(n),a);return t.set(n,l),l};i.filter=r?(n,o)=>r(n,o)&&s(n.replace(/\/+$/,"")):n=>s(n.replace(/\/+$/,""))},jv=i=>{let e=new Qi.Sync(i),t=i.file,r=m.default.statSync(t),s=i.maxReadSize||16*1024*1024;new yt.ReadStreamSync(t,{readSize:s,size:r.size}).pipe(e)},Hv=(i,e)=>{let t=new Qi(i),r=i.maxReadSize||16*1024*1024,s=i.file,n=new Promise((o,a)=>{t.on("error",a),t.on("close",o),m.default.stat(s,(l,h)=>{if(l)a(l);else{let u=new yt.ReadStream(s,{readSize:r,size:h.size});u.on("error",a),u.pipe(t)}})});return e?n.then(e,e):n},Uv=i=>new Qi.Sync(i),Vv=i=>new Qi(i),zv=Ee(function(i,e){e.c=e.create=H0,e.r=e.replace=Md,e.t=e.list=Ji,e.u=e.update=X0,e.x=e.extract=qv,e.Pack=Ft,e.Unpack=Qi,e.Parse=us,e.ReadEntry=vo,e.WriteEntry=hs,e.Header=Nt,e.Pax=Ui,e.types=$r}),zi={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},tf={};for(let i of Object.keys(zi))tf[zi[i]]=i;var S={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},Dt=S;for(let i of Object.keys(S)){if(!("channels"in S[i]))throw new Error("missing channels property: "+i);if(!("labels"in S[i]))throw new Error("missing channel labels property: "+i);if(S[i].labels.length!==S[i].channels)throw new Error("channel and label counts mismatch: "+i);let{channels:e,labels:t}=S[i];delete S[i].channels,delete S[i].labels,Object.defineProperty(S[i],"channels",{value:e}),Object.defineProperty(S[i],"labels",{value:t})}S.rgb.hsl=function(i){let e=i[0]/255,t=i[1]/255,r=i[2]/255,s=Math.min(e,t,r),n=Math.max(e,t,r),o=n-s,a,l;n===s?a=0:e===n?a=(t-r)/o:t===n?a=2+(r-e)/o:r===n&&(a=4+(e-t)/o),a=Math.min(a*60,360),a<0&&(a+=360);let h=(s+n)/2;return n===s?l=0:h<=.5?l=o/(n+s):l=o/(2-n-s),[a,l*100,h*100]};S.rgb.hsv=function(i){let e,t,r,s,n,o=i[0]/255,a=i[1]/255,l=i[2]/255,h=Math.max(o,a,l),u=h-Math.min(o,a,l),c=function(d){return(h-d)/6/u+1/2};return u===0?(s=0,n=0):(n=u/h,e=c(o),t=c(a),r=c(l),o===h?s=r-t:a===h?s=1/3+e-r:l===h&&(s=2/3+t-e),s<0?s+=1:s>1&&(s-=1)),[s*360,n*100,h*100]};S.rgb.hwb=function(i){let e=i[0],t=i[1],r=i[2],s=S.rgb.hsl(i)[0],n=1/255*Math.min(e,Math.min(t,r));return r=1-1/255*Math.max(e,Math.max(t,r)),[s,n*100,r*100]};S.rgb.cmyk=function(i){let e=i[0]/255,t=i[1]/255,r=i[2]/255,s=Math.min(1-e,1-t,1-r),n=(1-e-s)/(1-s)||0,o=(1-t-s)/(1-s)||0,a=(1-r-s)/(1-s)||0;return[n*100,o*100,a*100,s*100]};function Gv(i,e){return(i[0]-e[0])**2+(i[1]-e[1])**2+(i[2]-e[2])**2}S.rgb.keyword=function(i){let e=tf[i];if(e)return e;let t=1/0,r;for(let s of Object.keys(zi)){let n=zi[s],o=Gv(i,n);o<t&&(t=o,r=s)}return r};S.keyword.rgb=function(i){return zi[i]};S.rgb.xyz=function(i){let e=i[0]/255,t=i[1]/255,r=i[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;let s=e*.4124+t*.3576+r*.1805,n=e*.2126+t*.7152+r*.0722,o=e*.0193+t*.1192+r*.9505;return[s*100,n*100,o*100]};S.rgb.lab=function(i){let e=S.rgb.xyz(i),t=e[0],r=e[1],s=e[2];t/=95.047,r/=100,s/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,s=s>.008856?s**(1/3):7.787*s+16/116;let n=116*r-16,o=500*(t-r),a=200*(r-s);return[n,o,a]};S.hsl.rgb=function(i){let e=i[0]/360,t=i[1]/100,r=i[2]/100,s,n,o;if(t===0)return o=r*255,[o,o,o];r<.5?s=r*(1+t):s=r+t-r*t;let a=2*r-s,l=[0,0,0];for(let h=0;h<3;h++)n=e+1/3*-(h-1),n<0&&n++,n>1&&n--,6*n<1?o=a+(s-a)*6*n:2*n<1?o=s:3*n<2?o=a+(s-a)*(2/3-n)*6:o=a,l[h]=o*255;return l};S.hsl.hsv=function(i){let e=i[0],t=i[1]/100,r=i[2]/100,s=t,n=Math.max(r,.01);r*=2,t*=r<=1?r:2-r,s*=n<=1?n:2-n;let o=(r+t)/2,a=r===0?2*s/(n+s):2*t/(r+t);return[e,a*100,o*100]};S.hsv.rgb=function(i){let e=i[0]/60,t=i[1]/100,r=i[2]/100,s=Math.floor(e)%6,n=e-Math.floor(e),o=255*r*(1-t),a=255*r*(1-t*n),l=255*r*(1-t*(1-n));switch(r*=255,s){case 0:return[r,l,o];case 1:return[a,r,o];case 2:return[o,r,l];case 3:return[o,a,r];case 4:return[l,o,r];case 5:return[r,o,a]}};S.hsv.hsl=function(i){let e=i[0],t=i[1]/100,r=i[2]/100,s=Math.max(r,.01),n,o;o=(2-t)*r;let a=(2-t)*s;return n=t*s,n/=a<=1?a:2-a,n=n||0,o/=2,[e,n*100,o*100]};S.hwb.rgb=function(i){let e=i[0]/360,t=i[1]/100,r=i[2]/100,s=t+r,n;s>1&&(t/=s,r/=s);let o=Math.floor(6*e),a=1-r;n=6*e-o,(o&1)!==0&&(n=1-n);let l=t+n*(a-t),h,u,c;switch(o){default:case 6:case 0:h=a,u=l,c=t;break;case 1:h=l,u=a,c=t;break;case 2:h=t,u=a,c=l;break;case 3:h=t,u=l,c=a;break;case 4:h=l,u=t,c=a;break;case 5:h=a,u=t,c=l;break}return[h*255,u*255,c*255]};S.cmyk.rgb=function(i){let e=i[0]/100,t=i[1]/100,r=i[2]/100,s=i[3]/100,n=1-Math.min(1,e*(1-s)+s),o=1-Math.min(1,t*(1-s)+s),a=1-Math.min(1,r*(1-s)+s);return[n*255,o*255,a*255]};S.xyz.rgb=function(i){let e=i[0]/100,t=i[1]/100,r=i[2]/100,s,n,o;return s=e*3.2406+t*-1.5372+r*-.4986,n=e*-.9689+t*1.8758+r*.0415,o=e*.0557+t*-.204+r*1.057,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,n=n>.0031308?1.055*n**(1/2.4)-.055:n*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,s=Math.min(Math.max(0,s),1),n=Math.min(Math.max(0,n),1),o=Math.min(Math.max(0,o),1),[s*255,n*255,o*255]};S.xyz.lab=function(i){let e=i[0],t=i[1],r=i[2];e/=95.047,t/=100,r/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;let s=116*t-16,n=500*(e-t),o=200*(t-r);return[s,n,o]};S.lab.xyz=function(i){let e=i[0],t=i[1],r=i[2],s,n,o;n=(e+16)/116,s=t/500+n,o=n-r/200;let a=n**3,l=s**3,h=o**3;return n=a>.008856?a:(n-16/116)/7.787,s=l>.008856?l:(s-16/116)/7.787,o=h>.008856?h:(o-16/116)/7.787,s*=95.047,n*=100,o*=108.883,[s,n,o]};S.lab.lch=function(i){let e=i[0],t=i[1],r=i[2],s;s=Math.atan2(r,t)*360/2/Math.PI,s<0&&(s+=360);let o=Math.sqrt(t*t+r*r);return[e,o,s]};S.lch.lab=function(i){let e=i[0],t=i[1],s=i[2]/360*2*Math.PI,n=t*Math.cos(s),o=t*Math.sin(s);return[e,n,o]};S.rgb.ansi16=function(i,e=null){let[t,r,s]=i,n=e===null?S.rgb.hsv(i)[2]:e;if(n=Math.round(n/50),n===0)return 30;let o=30+(Math.round(s/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return n===2&&(o+=60),o};S.hsv.ansi16=function(i){return S.rgb.ansi16(S.hsv.rgb(i),i[2])};S.rgb.ansi256=function(i){let e=i[0],t=i[1],r=i[2];return e===t&&t===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5)};S.ansi16.rgb=function(i){let e=i%10;if(e===0||e===7)return i>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let t=(~~(i>50)+1)*.5,r=(e&1)*t*255,s=(e>>1&1)*t*255,n=(e>>2&1)*t*255;return[r,s,n]};S.ansi256.rgb=function(i){if(i>=232){let n=(i-232)*10+8;return[n,n,n]}i-=16;let e,t=Math.floor(i/36)/5*255,r=Math.floor((e=i%36)/6)/5*255,s=e%6/5*255;return[t,r,s]};S.rgb.hex=function(i){let t=(((Math.round(i[0])&255)<<16)+((Math.round(i[1])&255)<<8)+(Math.round(i[2])&255)).toString(16).toUpperCase();return"000000".substring(t.length)+t};S.hex.rgb=function(i){let e=i.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let t=e[0];e[0].length===3&&(t=t.split("").map(a=>a+a).join(""));let r=parseInt(t,16),s=r>>16&255,n=r>>8&255,o=r&255;return[s,n,o]};S.rgb.hcg=function(i){let e=i[0]/255,t=i[1]/255,r=i[2]/255,s=Math.max(Math.max(e,t),r),n=Math.min(Math.min(e,t),r),o=s-n,a,l;return o<1?a=n/(1-o):a=0,o<=0?l=0:s===e?l=(t-r)/o%6:s===t?l=2+(r-e)/o:l=4+(e-t)/o,l/=6,l%=1,[l*360,o*100,a*100]};S.hsl.hcg=function(i){let e=i[1]/100,t=i[2]/100,r=t<.5?2*e*t:2*e*(1-t),s=0;return r<1&&(s=(t-.5*r)/(1-r)),[i[0],r*100,s*100]};S.hsv.hcg=function(i){let e=i[1]/100,t=i[2]/100,r=e*t,s=0;return r<1&&(s=(t-r)/(1-r)),[i[0],r*100,s*100]};S.hcg.rgb=function(i){let e=i[0]/360,t=i[1]/100,r=i[2]/100;if(t===0)return[r*255,r*255,r*255];let s=[0,0,0],n=e%1*6,o=n%1,a=1-o,l=0;switch(Math.floor(n)){case 0:s[0]=1,s[1]=o,s[2]=0;break;case 1:s[0]=a,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=o;break;case 3:s[0]=0,s[1]=a,s[2]=1;break;case 4:s[0]=o,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=a}return l=(1-t)*r,[(t*s[0]+l)*255,(t*s[1]+l)*255,(t*s[2]+l)*255]};S.hcg.hsv=function(i){let e=i[1]/100,t=i[2]/100,r=e+t*(1-e),s=0;return r>0&&(s=e/r),[i[0],s*100,r*100]};S.hcg.hsl=function(i){let e=i[1]/100,r=i[2]/100*(1-e)+.5*e,s=0;return r>0&&r<.5?s=e/(2*r):r>=.5&&r<1&&(s=e/(2*(1-r))),[i[0],s*100,r*100]};S.hcg.hwb=function(i){let e=i[1]/100,t=i[2]/100,r=e+t*(1-e);return[i[0],(r-e)*100,(1-r)*100]};S.hwb.hcg=function(i){let e=i[1]/100,t=i[2]/100,r=1-t,s=r-e,n=0;return s<1&&(n=(r-s)/(1-s)),[i[0],s*100,n*100]};S.apple.rgb=function(i){return[i[0]/65535*255,i[1]/65535*255,i[2]/65535*255]};S.rgb.apple=function(i){return[i[0]/255*65535,i[1]/255*65535,i[2]/255*65535]};S.gray.rgb=function(i){return[i[0]/100*255,i[0]/100*255,i[0]/100*255]};S.gray.hsl=function(i){return[0,0,i[0]]};S.gray.hsv=S.gray.hsl;S.gray.hwb=function(i){return[0,100,i[0]]};S.gray.cmyk=function(i){return[0,0,0,i[0]]};S.gray.lab=function(i){return[i[0],0,0]};S.gray.hex=function(i){let e=Math.round(i[0]/100*255)&255,r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r};S.rgb.gray=function(i){return[(i[0]+i[1]+i[2])/3/255*100]};function Wv(){let i={},e=Object.keys(Dt);for(let t=e.length,r=0;r<t;r++)i[e[r]]={distance:-1,parent:null};return i}function Yv(i){let e=Wv(),t=[i];for(e[i].distance=0;t.length;){let r=t.pop(),s=Object.keys(Dt[r]);for(let n=s.length,o=0;o<n;o++){let a=s[o],l=e[a];l.distance===-1&&(l.distance=e[r].distance+1,l.parent=r,t.unshift(a))}}return e}function Zv(i,e){return function(t){return e(i(t))}}function Kv(i,e){let t=[e[i].parent,i],r=Dt[e[i].parent][i],s=e[i].parent;for(;e[s].parent;)t.unshift(e[s].parent),r=Zv(Dt[e[s].parent][s],r),s=e[s].parent;return r.conversion=t,r}var Xv=function(i){let e=Yv(i),t={},r=Object.keys(e);for(let s=r.length,n=0;n<s;n++){let o=r[n];e[o].parent!==null&&(t[o]=Kv(o,e))}return t},Yt={},Jv=Object.keys(Dt);function Qv(i){let e=function(...t){let r=t[0];return r==null?r:(r.length>1&&(t=r),i(t))};return"conversion"in i&&(e.conversion=i.conversion),e}function eb(i){let e=function(...t){let r=t[0];if(r==null)return r;r.length>1&&(t=r);let s=i(t);if(typeof s=="object")for(let n=s.length,o=0;o<n;o++)s[o]=Math.round(s[o]);return s};return"conversion"in i&&(e.conversion=i.conversion),e}Jv.forEach(i=>{Yt[i]={},Object.defineProperty(Yt[i],"channels",{value:Dt[i].channels}),Object.defineProperty(Yt[i],"labels",{value:Dt[i].labels});let e=Xv(i);Object.keys(e).forEach(r=>{let s=e[r];Yt[i][r]=eb(s),Yt[i][r].raw=Qv(s)})});var tb=Yt,Gi=Ee(function(i){let e=(u,c)=>(...d)=>`\x1B[${u(...d)+c}m`,t=(u,c)=>(...d)=>{let f=u(...d);return`\x1B[${38+c};5;${f}m`},r=(u,c)=>(...d)=>{let f=u(...d);return`\x1B[${38+c};2;${f[0]};${f[1]};${f[2]}m`},s=u=>u,n=(u,c,d)=>[u,c,d],o=(u,c,d)=>{Object.defineProperty(u,c,{get:()=>{let f=d();return Object.defineProperty(u,c,{value:f,enumerable:!0,configurable:!0}),f},enumerable:!0,configurable:!0})},a,l=(u,c,d,f)=>{a===void 0&&(a=tb);let p=f?10:0,g={};for(let[y,_]of Object.entries(a)){let E=y==="ansi16"?"ansi":y;y===c?g[E]=u(d,p):typeof _=="object"&&(g[E]=u(_[c],p))}return g};function h(){let u=new Map,c={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};c.color.gray=c.color.blackBright,c.bgColor.bgGray=c.bgColor.bgBlackBright,c.color.grey=c.color.blackBright,c.bgColor.bgGrey=c.bgColor.bgBlackBright;for(let[d,f]of Object.entries(c)){for(let[p,g]of Object.entries(f))c[p]={open:`\x1B[${g[0]}m`,close:`\x1B[${g[1]}m`},f[p]=c[p],u.set(g[0],g[1]);Object.defineProperty(c,d,{value:f,enumerable:!1})}return Object.defineProperty(c,"codes",{value:u,enumerable:!1}),c.color.close="\x1B[39m",c.bgColor.close="\x1B[49m",o(c.color,"ansi",()=>l(e,"ansi16",s,!1)),o(c.color,"ansi256",()=>l(t,"ansi256",s,!1)),o(c.color,"ansi16m",()=>l(r,"rgb",n,!1)),o(c.bgColor,"ansi",()=>l(e,"ansi16",s,!0)),o(c.bgColor,"ansi256",()=>l(t,"ansi256",s,!0)),o(c.bgColor,"ansi16m",()=>l(r,"rgb",n,!0)),c}Object.defineProperty(i,"exports",{enumerable:!0,get:h})}),fe=(i,e=process.argv)=>{let t=i.startsWith("-")?"":i.length===1?"-":"--",r=e.indexOf(t+i),s=e.indexOf("--");return r!==-1&&(s===-1||r<s)},{env:Y}=process,ft;fe("no-color")||fe("no-colors")||fe("color=false")||fe("color=never")?ft=0:(fe("color")||fe("colors")||fe("color=true")||fe("color=always"))&&(ft=1);"FORCE_COLOR"in Y&&(Y.FORCE_COLOR==="true"?ft=1:Y.FORCE_COLOR==="false"?ft=0:ft=Y.FORCE_COLOR.length===0?1:Math.min(parseInt(Y.FORCE_COLOR,10),3));function ro(i){return i===0?!1:{level:i,hasBasic:!0,has256:i>=2,has16m:i>=3}}function so(i,e){if(ft===0)return 0;if(fe("color=16m")||fe("color=full")||fe("color=truecolor"))return 3;if(fe("color=256"))return 2;if(i&&!e&&ft===void 0)return 0;let t=ft||0;if(Y.TERM==="dumb")return t;if(process.platform==="win32"){let r=kn.default.release().split(".");return Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in Y)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(r=>r in Y)||Y.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in Y)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Y.TEAMCITY_VERSION)?1:0;if(Y.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Y){let r=parseInt((Y.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Y.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Y.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Y.TERM)||"COLORTERM"in Y?1:t}function ib(i){let e=so(i,i&&i.isTTY);return ro(e)}var rf={supportsColor:ib,stdout:ro(so(!0,Nn.default.isatty(1))),stderr:ro(so(!0,Nn.default.isatty(2)))},rb=(i,e,t)=>{let r=i.indexOf(e);if(r===-1)return i;let s=e.length,n=0,o="";do o+=i.substr(n,r-n)+e+t,n=r+s,r=i.indexOf(e,n);while(r!==-1);return o+=i.substr(n),o},sb=(i,e,t,r)=>{let s=0,n="";do{let o=i[r-1]==="\r";n+=i.substr(s,(o?r-1:r)-s)+e+(o?`\r
`:`
`)+t,s=r+1,r=i.indexOf(`
`,s)}while(r!==-1);return n+=i.substr(s),n},nb={stringReplaceAll:rb,stringEncaseCRLFWithFirstIndex:sb},ob=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,ed=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,ab=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,lb=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,hb=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function sf(i){let e=i[0]==="u",t=i[1]==="{";return e&&!t&&i.length===5||i[0]==="x"&&i.length===3?String.fromCharCode(parseInt(i.slice(1),16)):e&&t?String.fromCodePoint(parseInt(i.slice(2,-1),16)):hb.get(i)||i}function ub(i,e){let t=[],r=e.trim().split(/\s*,\s*/g),s;for(let n of r){let o=Number(n);if(!Number.isNaN(o))t.push(o);else if(s=n.match(ab))t.push(s[2].replace(lb,(a,l,h)=>l?sf(l):h));else throw new Error(`Invalid Chalk template style argument: ${n} (in style '${i}')`)}return t}function cb(i){ed.lastIndex=0;let e=[],t;for(;(t=ed.exec(i))!==null;){let r=t[1];if(t[2]){let s=ub(r,t[2]);e.push([r].concat(s))}else e.push([r])}return e}function td(i,e){let t={};for(let s of e)for(let n of s.styles)t[n[0]]=s.inverse?null:n.slice(1);let r=i;for(let[s,n]of Object.entries(t))if(!!Array.isArray(n)){if(!(s in r))throw new Error(`Unknown Chalk style: ${s}`);r=n.length>0?r[s](...n):r[s]}return r}var db=(i,e)=>{let t=[],r=[],s=[];if(e.replace(ob,(n,o,a,l,h,u)=>{if(o)s.push(sf(o));else if(l){let c=s.join("");s=[],r.push(t.length===0?c:td(i,t)(c)),t.push({inverse:a,styles:cb(l)})}else if(h){if(t.length===0)throw new Error("Found extraneous } in Chalk template literal");r.push(td(i,t)(s.join(""))),s=[],t.pop()}else s.push(u)}),r.push(s.join("")),t.length>0){let n=`Chalk template literal is missing ${t.length} closing bracket${t.length===1?"":"s"} (\`}\`)`;throw new Error(n)}return r.join("")},{stdout:no,stderr:oo}=rf,{stringReplaceAll:fb,stringEncaseCRLFWithFirstIndex:mb}=nb,{isArray:is}=Array,nf=["ansi","ansi","ansi256","ansi16m"],ci=Object.create(null),pb=(i,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let t=no?no.level:0;i.level=e.level===void 0?t:e.level},of=class{constructor(e){return af(e)}},af=i=>{let e={};return pb(e,i),e.template=(...t)=>hf(e.template,...t),Object.setPrototypeOf(e,ds.prototype),Object.setPrototypeOf(e.template,e),e.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},e.template.Instance=of,e.template};function ds(i){return af(i)}for(let[i,e]of Object.entries(Gi))ci[i]={get(){let t=fs(this,Ro(e.open,e.close,this._styler),this._isEmpty);return Object.defineProperty(this,i,{value:t}),t}};ci.visible={get(){let i=fs(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:i}),i}};var lf=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(let i of lf)ci[i]={get(){let{level:e}=this;return function(...t){let r=Ro(Gi.color[nf[e]][i](...t),Gi.color.close,this._styler);return fs(this,r,this._isEmpty)}}};for(let i of lf){let e="bg"+i[0].toUpperCase()+i.slice(1);ci[e]={get(){let{level:t}=this;return function(...r){let s=Ro(Gi.bgColor[nf[t]][i](...r),Gi.bgColor.close,this._styler);return fs(this,s,this._isEmpty)}}}}var gb=Object.defineProperties(()=>{},Uo($t({},ci),{level:{enumerable:!0,get(){return this._generator.level},set(i){this._generator.level=i}}})),Ro=(i,e,t)=>{let r,s;return t===void 0?(r=i,s=e):(r=t.openAll+i,s=e+t.closeAll),{open:i,close:e,openAll:r,closeAll:s,parent:t}},fs=(i,e,t)=>{let r=(...s)=>is(s[0])&&is(s[0].raw)?id(r,hf(r,...s)):id(r,s.length===1?""+s[0]:s.join(" "));return Object.setPrototypeOf(r,gb),r._generator=i,r._styler=e,r._isEmpty=t,r},id=(i,e)=>{if(i.level<=0||!e)return i._isEmpty?"":e;let t=i._styler;if(t===void 0)return e;let{openAll:r,closeAll:s}=t;if(e.indexOf("\x1B")!==-1)for(;t!==void 0;)e=fb(e,t.close,t.open),t=t.parent;let n=e.indexOf(`
`);return n!==-1&&(e=mb(e,s,r,n)),r+e+s},wn,hf=(i,...e)=>{let[t]=e;if(!is(t)||!is(t.raw))return e.join(" ");let r=e.slice(1),s=[t.raw[0]];for(let n=1;n<t.length;n++)s.push(String(r[n-1]).replace(/[{}\\]/g,"\\$&"),String(t.raw[n]));return wn===void 0&&(wn=db),wn(i,s.join(""))};Object.defineProperties(ds.prototype,ci);var ms=ds();ms.supportsColor=no;ms.stderr=ds({level:oo?oo.level:0});ms.stderr.supportsColor=oo;var Ze=ms,Pt=yb(m.default);function yb(i){if(i===null||typeof i!="object")return i;if(i instanceof Object)var e={__proto__:i.__proto__};else var e=Object.create(null);return Object.getOwnPropertyNames(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}),e}var vb=process.cwd,Wr=null,bb=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Wr||(Wr=vb.call(process)),Wr};try{process.cwd()}catch{}var wb=process.chdir;process.chdir=function(i){Wr=null,wb.call(process,i)};var _b=Sb;function Sb(i){ut.default.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&Eb(i),i.lutimes||Ob(i),i.chown=En(i.chown),i.fchown=En(i.fchown),i.lchown=En(i.lchown),i.chmod=_n(i.chmod),i.fchmod=_n(i.fchmod),i.lchmod=_n(i.lchmod),i.chownSync=On(i.chownSync),i.fchownSync=On(i.fchownSync),i.lchownSync=On(i.lchownSync),i.chmodSync=Sn(i.chmodSync),i.fchmodSync=Sn(i.fchmodSync),i.lchmodSync=Sn(i.lchmodSync),i.stat=Cn(i.stat),i.fstat=Cn(i.fstat),i.lstat=Cn(i.lstat),i.statSync=xn(i.statSync),i.fstatSync=xn(i.fstatSync),i.lstatSync=xn(i.lstatSync),i.lchmod||(i.lchmod=function(e,t,r){r&&process.nextTick(r)},i.lchmodSync=function(){}),i.lchown||(i.lchown=function(e,t,r,s){s&&process.nextTick(s)},i.lchownSync=function(){}),bb==="win32"&&(i.rename=function(e){return function(t,r,s){var n=Date.now(),o=0;e(t,r,function a(l){if(l&&(l.code==="EACCES"||l.code==="EPERM")&&Date.now()-n<6e4){setTimeout(function(){i.stat(r,function(h,u){h&&h.code==="ENOENT"?e(t,r,a):s(l)})},o),o<100&&(o+=10);return}s&&s(l)})}}(i.rename)),i.read=function(e){return function(t,r,s,n,o,a){var l;if(a&&typeof a=="function"){var h=0;l=function(u,c,d){if(u&&u.code==="EAGAIN"&&h<10)return h++,e.call(i,t,r,s,n,o,l);a.apply(this,arguments)}}return e.call(i,t,r,s,n,o,l)}}(i.read),i.readSync=function(e){return function(t,r,s,n,o){for(var a=0;;)try{return e.call(i,t,r,s,n,o)}catch(l){if(l.code==="EAGAIN"&&a<10){a++;continue}throw l}}}(i.readSync)}function Eb(i){i.lchmod=function(e,t,r){i.open(e,ut.default.O_WRONLY|ut.default.O_SYMLINK,t,function(s,n){if(s){r&&r(s);return}i.fchmod(n,t,function(o){i.close(n,function(a){r&&r(o||a)})})})},i.lchmodSync=function(e,t){var r=i.openSync(e,ut.default.O_WRONLY|ut.default.O_SYMLINK,t),s=!0,n;try{n=i.fchmodSync(r,t),s=!1}finally{if(s)try{i.closeSync(r)}catch{}else i.closeSync(r)}return n}}function Ob(i){ut.default.hasOwnProperty("O_SYMLINK")?(i.lutimes=function(e,t,r,s){i.open(e,ut.default.O_SYMLINK,function(n,o){if(n){s&&s(n);return}i.futimes(o,t,r,function(a){i.close(o,function(l){s&&s(a||l)})})})},i.lutimesSync=function(e,t,r){var s=i.openSync(e,ut.default.O_SYMLINK),n,o=!0;try{n=i.futimesSync(s,t,r),o=!1}finally{if(o)try{i.closeSync(s)}catch{}else i.closeSync(s)}return n}):(i.lutimes=function(e,t,r,s){s&&process.nextTick(s)},i.lutimesSync=function(){})}function _n(i){return i&&function(e,t,r){return i.call(Pt,e,t,function(s){ps(s)&&(s=null),r&&r.apply(this,arguments)})}}function Sn(i){return i&&function(e,t){try{return i.call(Pt,e,t)}catch(r){if(!ps(r))throw r}}}function En(i){return i&&function(e,t,r,s){return i.call(Pt,e,t,r,function(n){ps(n)&&(n=null),s&&s.apply(this,arguments)})}}function On(i){return i&&function(e,t,r){try{return i.call(Pt,e,t,r)}catch(s){if(!ps(s))throw s}}}function Cn(i){return i&&function(e,t){return i.call(Pt,e,function(r,s){if(!s)return t.apply(this,arguments);s.uid<0&&(s.uid+=4294967296),s.gid<0&&(s.gid+=4294967296),t&&t.apply(this,arguments)})}}function xn(i){return i&&function(e){var t=i.call(Pt,e);return t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296),t}}function ps(i){if(!i||i.code==="ENOSYS")return!0;var e=!process.getuid||process.getuid()!==0;return!!(e&&(i.code==="EINVAL"||i.code==="EPERM"))}var rd=Dn.default.Stream,Cb=xb;function xb(i){return{ReadStream:e,WriteStream:t};function e(r,s){if(!(this instanceof e))return new e(r,s);rd.call(this);var n=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,s=s||{};for(var o=Object.keys(s),a=0,l=o.length;a<l;a++){var h=o[a];this[h]=s[h]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){n._read()});return}i.open(this.path,this.flags,this.mode,function(u,c){if(u){n.emit("error",u),n.readable=!1;return}n.fd=c,n.emit("open",c),n._read()})}function t(r,s){if(!(this instanceof t))return new t(r,s);rd.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,s=s||{};for(var n=Object.keys(s),o=0,a=n.length;o<a;o++){var l=n[o];this[l]=s[l]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=i.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}var me=Ee(function(i){var e=[];function t(){}var r=t;Fe.default.debuglog?r=Fe.default.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(r=function(){var a=Fe.default.format.apply(Fe.default,arguments);a="GFS4: "+a.split(/\n/).join(`
GFS4: `),console.error(a)}),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){r(e),O.default.equal(e.length,0)}),i.exports=s(Pt),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&(i.exports=s(m.default)),i.exports.close=m.default.close=function(a){return function(l,h){return a.call(m.default,l,function(u){u||o(),typeof h=="function"&&h.apply(this,arguments)})}}(m.default.close),i.exports.closeSync=m.default.closeSync=function(a){return function(l){var h=a.apply(m.default,arguments);return o(),h}}(m.default.closeSync);function s(a){_b(a),a.gracefulify=s,a.FileReadStream=R,a.FileWriteStream=G,a.createReadStream=ye,a.createWriteStream=ae;var l=a.readFile;a.readFile=h;function h(x,A,C){return typeof A=="function"&&(C=A,A=null),v(x,A,C);function v(T,D,$){return l(T,D,function(V){V&&(V.code==="EMFILE"||V.code==="ENFILE")?n([v,[T,D,$]]):(typeof $=="function"&&$.apply(this,arguments),o())})}}var u=a.writeFile;a.writeFile=c;function c(x,A,C,v){return typeof C=="function"&&(v=C,C=null),T(x,A,C,v);function T(D,$,V,X){return u(D,$,V,function(B){B&&(B.code==="EMFILE"||B.code==="ENFILE")?n([T,[D,$,V,X]]):(typeof X=="function"&&X.apply(this,arguments),o())})}}var d=a.appendFile;d&&(a.appendFile=f);function f(x,A,C,v){return typeof C=="function"&&(v=C,C=null),T(x,A,C,v);function T(D,$,V,X){return d(D,$,V,function(B){B&&(B.code==="EMFILE"||B.code==="ENFILE")?n([T,[D,$,V,X]]):(typeof X=="function"&&X.apply(this,arguments),o())})}}var p=a.readdir;a.readdir=g;function g(x,A,C){var v=[x];return typeof A!="function"?v.push(A):C=A,v.push(T),y(v);function T(D,$){$&&$.sort&&$.sort(),D&&(D.code==="EMFILE"||D.code==="ENFILE")?n([y,[v]]):(typeof C=="function"&&C.apply(this,arguments),o())}}function y(x){return p.apply(a,x)}if(process.version.substr(0,4)==="v0.8"){var _=Cb(a);R=_.ReadStream,G=_.WriteStream}var E=a.ReadStream;R.prototype=Object.create(E.prototype),R.prototype.open=z;var N=a.WriteStream;G.prototype=Object.create(N.prototype),G.prototype.open=ue,a.ReadStream=R,a.WriteStream=G;function R(x,A){return this instanceof R?(E.apply(this,arguments),this):R.apply(Object.create(R.prototype),arguments)}function z(){var x=this;Ce(x.path,x.flags,x.mode,function(A,C){A?(x.autoClose&&x.destroy(),x.emit("error",A)):(x.fd=C,x.emit("open",C),x.read())})}function G(x,A){return this instanceof G?(N.apply(this,arguments),this):G.apply(Object.create(G.prototype),arguments)}function ue(){var x=this;Ce(x.path,x.flags,x.mode,function(A,C){A?(x.destroy(),x.emit("error",A)):(x.fd=C,x.emit("open",C))})}function ye(x,A){return new R(x,A)}function ae(x,A){return new G(x,A)}var Qe=a.open;a.open=Ce;function Ce(x,A,C,v){return typeof C=="function"&&(v=C,C=null),T(x,A,C,v);function T(D,$,V,X){return Qe(D,$,V,function(B,Pe){B&&(B.code==="EMFILE"||B.code==="ENFILE")?n([T,[D,$,V,X]]):(typeof X=="function"&&X.apply(this,arguments),o())})}}return a}function n(a){r("ENQUEUE",a[0].name,a[1]),e.push(a)}function o(){var a=e.shift();a&&(r("RETRY",a[0].name,a[1]),a[0].apply(null,a[1]))}}),uf=parseInt("0777",8),Rb=Qt.mkdirp=Qt.mkdirP=Qt;function Qt(i,e,t,r){typeof e=="function"?(t=e,e={}):(!e||typeof e!="object")&&(e={mode:e});var s=e.mode,n=e.fs||m.default;s===void 0&&(s=uf&~process.umask()),r||(r=null);var o=t||function(){};i=b.default.resolve(i),n.mkdir(i,s,function(a){if(!a)return r=r||i,o(null,r);switch(a.code){case"ENOENT":Qt(b.default.dirname(i),e,function(l,h){l?o(l,h):Qt(i,e,o,h)});break;default:n.stat(i,function(l,h){l||!h.isDirectory()?o(a,r):o(null,r)});break}})}Qt.sync=function i(e,t,r){(!t||typeof t!="object")&&(t={mode:t});var s=t.mode,n=t.fs||m.default;s===void 0&&(s=uf&~process.umask()),r||(r=null),e=b.default.resolve(e);try{n.mkdirSync(e,s),r=r||e}catch(a){switch(a.code){case"ENOENT":r=i(b.default.dirname(e),t,r),i(e,t,r);break;default:var o;try{o=n.statSync(e)}catch{throw a}if(!o.isDirectory())throw a;break}}return r};var mt=process.platform==="win32",Ab=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function Tb(){var i;if(Ab){var e=new Error;i=t}else i=r;return i;function t(s){s&&(e.message=s.message,s=e,r(s))}function r(s){if(s){if(process.throwDeprecation)throw s;if(!process.noDeprecation){var n="fs: missing callback "+(s.stack||s.message);process.traceDeprecation?console.trace(n):console.error(n)}}}}function Ib(i){return typeof i=="function"?i:Tb()}b.default.normalize;mt?Je=/(.*?)(?:[\/\\]+|$)/g:Je=/(.*?)(?:[\/]+|$)/g;var Je;mt?er=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:er=/^[\/]*/;var er,Db=function(e,t){if(e=b.default.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var r=e,s={},n={},o,a,l,h;u();function u(){var y=er.exec(e);o=y[0].length,a=y[0],l=y[0],h="",mt&&!n[l]&&(m.default.lstatSync(l),n[l]=!0)}for(;o<e.length;){Je.lastIndex=o;var c=Je.exec(e);if(h=a,a+=c[0],l=h+c[1],o=Je.lastIndex,!(n[l]||t&&t[l]===l)){var d;if(t&&Object.prototype.hasOwnProperty.call(t,l))d=t[l];else{var f=m.default.lstatSync(l);if(!f.isSymbolicLink()){n[l]=!0,t&&(t[l]=l);continue}var p=null;if(!mt){var g=f.dev.toString(32)+":"+f.ino.toString(32);s.hasOwnProperty(g)&&(p=s[g])}p===null&&(m.default.statSync(l),p=m.default.readlinkSync(l)),d=b.default.resolve(h,p),t&&(t[l]=d),mt||(s[g]=p)}e=b.default.resolve(d,e.slice(o)),u()}}return t&&(t[r]=e),e},Mb=function(e,t,r){if(typeof r!="function"&&(r=Ib(t),t=null),e=b.default.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(r.bind(null,null,t[e]));var s=e,n={},o={},a,l,h,u;c();function c(){var y=er.exec(e);a=y[0].length,l=y[0],h=y[0],u="",mt&&!o[h]?m.default.lstat(h,function(_){if(_)return r(_);o[h]=!0,d()}):process.nextTick(d)}function d(){if(a>=e.length)return t&&(t[s]=e),r(null,e);Je.lastIndex=a;var y=Je.exec(e);return u=l,l+=y[0],h=u+y[1],a=Je.lastIndex,o[h]||t&&t[h]===h?process.nextTick(d):t&&Object.prototype.hasOwnProperty.call(t,h)?g(t[h]):m.default.lstat(h,f)}function f(y,_){if(y)return r(y);if(!_.isSymbolicLink())return o[h]=!0,t&&(t[h]=h),process.nextTick(d);if(!mt){var E=_.dev.toString(32)+":"+_.ino.toString(32);if(n.hasOwnProperty(E))return p(null,n[E],h)}m.default.stat(h,function(N){if(N)return r(N);m.default.readlink(h,function(R,z){mt||(n[E]=z),p(R,z)})})}function p(y,_,E){if(y)return r(y);var N=b.default.resolve(u,_);t&&(t[E]=N),g(N)}function g(y){e=b.default.resolve(y,e.slice(a)),c()}},cf={realpathSync:Db,realpath:Mb},df=gt;gt.realpath=gt;gt.sync=Ao;gt.realpathSync=Ao;gt.monkeypatch=Nb;gt.unmonkeypatch=Fb;var ao=m.default.realpath,lo=m.default.realpathSync,kb=process.version,ff=/^v[0-5]\./.test(kb);function mf(i){return i&&i.syscall==="realpath"&&(i.code==="ELOOP"||i.code==="ENOMEM"||i.code==="ENAMETOOLONG")}function gt(i,e,t){if(ff)return ao(i,e,t);typeof e=="function"&&(t=e,e=null),ao(i,e,function(r,s){mf(r)?cf.realpath(i,e,t):t(r,s)})}function Ao(i,e){if(ff)return lo(i,e);try{return lo(i,e)}catch(t){if(mf(t))return cf.realpathSync(i,e);throw t}}function Nb(){m.default.realpath=gt,m.default.realpathSync=Ao}function Fb(){m.default.realpath=ao,m.default.realpathSync=lo}var Pb=function(i,e){for(var t=[],r=0;r<i.length;r++){var s=e(i[r],r);$b(s)?t.push.apply(t,s):t.push(s)}return t},$b=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"},pf=gf;function gf(i,e,t){i instanceof RegExp&&(i=sd(i,t)),e instanceof RegExp&&(e=sd(e,t));var r=yf(i,e,t);return r&&{start:r[0],end:r[1],pre:t.slice(0,r[0]),body:t.slice(r[0]+i.length,r[1]),post:t.slice(r[1]+e.length)}}function sd(i,e){var t=e.match(i);return t?t[0]:null}gf.range=yf;function yf(i,e,t){var r,s,n,o,a,l=t.indexOf(i),h=t.indexOf(e,l+1),u=l;if(l>=0&&h>0){for(r=[],n=t.length;u>=0&&!a;)u==l?(r.push(u),l=t.indexOf(i,u+1)):r.length==1?a=[r.pop(),h]:(s=r.pop(),s<n&&(n=s,o=h),h=t.indexOf(e,u+1)),u=l<h&&l>=0?l:h;r.length&&(a=[n,o])}return a}var Lb=jb,vf="\0SLASH"+Math.random()+"\0",bf="\0OPEN"+Math.random()+"\0",To="\0CLOSE"+Math.random()+"\0",wf="\0COMMA"+Math.random()+"\0",_f="\0PERIOD"+Math.random()+"\0";function Rn(i){return parseInt(i,10)==i?parseInt(i,10):i.charCodeAt(0)}function qb(i){return i.split("\\\\").join(vf).split("\\{").join(bf).split("\\}").join(To).split("\\,").join(wf).split("\\.").join(_f)}function Bb(i){return i.split(vf).join("\\").split(bf).join("{").split(To).join("}").split(wf).join(",").split(_f).join(".")}function Sf(i){if(!i)return[""];var e=[],t=pf("{","}",i);if(!t)return i.split(",");var r=t.pre,s=t.body,n=t.post,o=r.split(",");o[o.length-1]+="{"+s+"}";var a=Sf(n);return n.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function jb(i){return i?(i.substr(0,2)==="{}"&&(i="\\{\\}"+i.substr(2)),Zt(qb(i),!0).map(Bb)):[]}function Hb(i){return"{"+i+"}"}function Ub(i){return/^-?0\d/.test(i)}function Vb(i,e){return i<=e}function zb(i,e){return i>=e}function Zt(i,e){var t=[],r=pf("{","}",i);if(!r||/\$$/.test(r.pre))return[i];var s=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),n=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),o=s||n,a=r.body.indexOf(",")>=0;if(!o&&!a)return r.post.match(/,.*\}/)?(i=r.pre+"{"+r.body+To+r.post,Zt(i)):[i];var l;if(o)l=r.body.split(/\.\./);else if(l=Sf(r.body),l.length===1&&(l=Zt(l[0],!1).map(Hb),l.length===1)){var u=r.post.length?Zt(r.post,!1):[""];return u.map(function(Ce){return r.pre+l[0]+Ce})}var h=r.pre,u=r.post.length?Zt(r.post,!1):[""],c;if(o){var d=Rn(l[0]),f=Rn(l[1]),p=Math.max(l[0].length,l[1].length),g=l.length==3?Math.abs(Rn(l[2])):1,y=Vb,_=f<d;_&&(g*=-1,y=zb);var E=l.some(Ub);c=[];for(var N=d;y(N,f);N+=g){var R;if(n)R=String.fromCharCode(N),R==="\\"&&(R="");else if(R=String(N),E){var z=p-R.length;if(z>0){var G=new Array(z+1).join("0");N<0?R="-"+G+R.slice(1):R=G+R}}c.push(R)}}else c=Pb(l,function(Qe){return Zt(Qe,!1)});for(var ue=0;ue<c.length;ue++)for(var ye=0;ye<u.length;ye++){var ae=h+c[ue]+u[ye];(!e||o||ae)&&t.push(ae)}return t}var Io=pe;pe.Minimatch=Z;var Wi={sep:"/"};try{Wi=b.default}catch{}var Do=pe.GLOBSTAR=Z.GLOBSTAR={},nd={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},ho="[^/]",uo=ho+"*?",Gb="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Wb="(?:(?!(?:\\/|^)\\.).)*?",od=Yb("().*{}+?[]^$\\!");function Yb(i){return i.split("").reduce(function(e,t){return e[t]=!0,e},{})}var Ef=/\/+/;pe.filter=Zb;function Zb(i,e){return e=e||{},function(t,r,s){return pe(t,i,e)}}function ad(i,e){i=i||{},e=e||{};var t={};return Object.keys(e).forEach(function(r){t[r]=e[r]}),Object.keys(i).forEach(function(r){t[r]=i[r]}),t}pe.defaults=function(i){if(!i||!Object.keys(i).length)return pe;var e=pe,t=function(s,n,o){return e.minimatch(s,n,ad(i,o))};return t.Minimatch=function(s,n){return new e.Minimatch(s,ad(i,n))},t};Z.defaults=function(i){return!i||!Object.keys(i).length?Z:pe.defaults(i).Minimatch};function pe(i,e,t){if(typeof e!="string")throw new TypeError("glob pattern string required");return t||(t={}),!t.nocomment&&e.charAt(0)==="#"?!1:e.trim()===""?i==="":new Z(e,t).match(i)}function Z(i,e){if(!(this instanceof Z))return new Z(i,e);if(typeof i!="string")throw new TypeError("glob pattern string required");e||(e={}),i=i.trim(),Wi.sep!=="/"&&(i=i.split(Wi.sep).join("/")),this.options=e,this.set=[],this.pattern=i,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}Z.prototype.debug=function(){};Z.prototype.make=Kb;function Kb(){if(!this._made){var i=this.pattern,e=this.options;if(!e.nocomment&&i.charAt(0)==="#"){this.comment=!0;return}if(!i){this.empty=!0;return}this.parseNegate();var t=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error),this.debug(this.pattern,t),t=this.globParts=t.map(function(r){return r.split(Ef)}),this.debug(this.pattern,t),t=t.map(function(r,s,n){return r.map(this.parse,this)},this),this.debug(this.pattern,t),t=t.filter(function(r){return r.indexOf(!1)===-1}),this.debug(this.pattern,t),this.set=t}}Z.prototype.parseNegate=Xb;function Xb(){var i=this.pattern,e=!1,t=this.options,r=0;if(!t.nonegate){for(var s=0,n=i.length;s<n&&i.charAt(s)==="!";s++)e=!e,r++;r&&(this.pattern=i.substr(r)),this.negate=e}}pe.braceExpand=function(i,e){return Of(i,e)};Z.prototype.braceExpand=Of;function Of(i,e){if(e||(this instanceof Z?e=this.options:e={}),i=typeof i>"u"?this.pattern:i,typeof i>"u")throw new TypeError("undefined pattern");return e.nobrace||!i.match(/\{.*\}/)?[i]:Lb(i)}Z.prototype.parse=Jb;var Fr={};function Jb(i,e){if(i.length>1024*64)throw new TypeError("pattern is too long");var t=this.options;if(!t.noglobstar&&i==="**")return Do;if(i==="")return"";var r="",s=!!t.nocase,n=!1,o=[],a=[],l,h=!1,u=-1,c=-1,d=i.charAt(0)==="."?"":t.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",f=this;function p(){if(l){switch(l){case"*":r+=uo,s=!0;break;case"?":r+=ho,s=!0;break;default:r+="\\"+l;break}f.debug("clearStateChar %j %j",l,r),l=!1}}for(var g=0,y=i.length,_;g<y&&(_=i.charAt(g));g++){if(this.debug("%s	%s %s %j",i,g,r,_),n&&od[_]){r+="\\"+_,n=!1;continue}switch(_){case"/":return!1;case"\\":p(),n=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",i,g,r,_),h){this.debug("  in class"),_==="!"&&g===c+1&&(_="^"),r+=_;continue}f.debug("call clearStateChar %j",l),p(),l=_,t.noext&&p();continue;case"(":if(h){r+="(";continue}if(!l){r+="\\(";continue}o.push({type:l,start:g-1,reStart:r.length,open:nd[l].open,close:nd[l].close}),r+=l==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",l,r),l=!1;continue;case")":if(h||!o.length){r+="\\)";continue}p(),s=!0;var E=o.pop();r+=E.close,E.type==="!"&&a.push(E),E.reEnd=r.length;continue;case"|":if(h||!o.length||n){r+="\\|",n=!1;continue}p(),r+="|";continue;case"[":if(p(),h){r+="\\"+_;continue}h=!0,c=g,u=r.length,r+=_;continue;case"]":if(g===c+1||!h){r+="\\"+_,n=!1;continue}if(h){var N=i.substring(c+1,g);try{RegExp("["+N+"]")}catch{var R=this.parse(N,Fr);r=r.substr(0,u)+"\\["+R[0]+"\\]",s=s||R[1],h=!1;continue}}s=!0,h=!1,r+=_;continue;default:p(),n?n=!1:od[_]&&!(_==="^"&&h)&&(r+="\\"),r+=_}}for(h&&(N=i.substr(c+1),R=this.parse(N,Fr),r=r.substr(0,u)+"\\["+R[0],s=s||R[1]),E=o.pop();E;E=o.pop()){var z=r.slice(E.reStart+E.open.length);this.debug("setting tail",r,E),z=z.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(X,B,Pe){return Pe||(Pe="\\"),B+B+Pe+"|"}),this.debug(`tail=%j
   %s`,z,z,E,r);var G=E.type==="*"?uo:E.type==="?"?ho:"\\"+E.type;s=!0,r=r.slice(0,E.reStart)+G+"\\("+z}p(),n&&(r+="\\\\");var ue=!1;switch(r.charAt(0)){case".":case"[":case"(":ue=!0}for(var ye=a.length-1;ye>-1;ye--){var ae=a[ye],Qe=r.slice(0,ae.reStart),Ce=r.slice(ae.reStart,ae.reEnd-8),x=r.slice(ae.reEnd-8,ae.reEnd),A=r.slice(ae.reEnd);x+=A;var C=Qe.split("(").length-1,v=A;for(g=0;g<C;g++)v=v.replace(/\)[+*?]?/,"");A=v;var T="";A===""&&e!==Fr&&(T="$");var D=Qe+Ce+A+T+x;r=D}if(r!==""&&s&&(r="(?=.)"+r),ue&&(r=d+r),e===Fr)return[r,s];if(!s)return tw(i);var $=t.nocase?"i":"";try{var V=new RegExp("^"+r+"$",$)}catch{return new RegExp("$.")}return V._glob=i,V._src=r,V}pe.makeRe=function(i,e){return new Z(i,e||{}).makeRe()};Z.prototype.makeRe=Qb;function Qb(){if(this.regexp||this.regexp===!1)return this.regexp;var i=this.set;if(!i.length)return this.regexp=!1,this.regexp;var e=this.options,t=e.noglobstar?uo:e.dot?Gb:Wb,r=e.nocase?"i":"",s=i.map(function(n){return n.map(function(o){return o===Do?t:typeof o=="string"?iw(o):o._src}).join("\\/")}).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,r)}catch{this.regexp=!1}return this.regexp}pe.match=function(i,e,t){t=t||{};var r=new Z(e,t);return i=i.filter(function(s){return r.match(s)}),r.options.nonull&&!i.length&&i.push(e),i};Z.prototype.match=ew;function ew(i,e){if(this.debug("match",i,this.pattern),this.comment)return!1;if(this.empty)return i==="";if(i==="/"&&e)return!0;var t=this.options;Wi.sep!=="/"&&(i=i.split(Wi.sep).join("/")),i=i.split(Ef),this.debug(this.pattern,"split",i);var r=this.set;this.debug(this.pattern,"set",r);var s,n;for(n=i.length-1;n>=0&&(s=i[n],!s);n--);for(n=0;n<r.length;n++){var o=r[n],a=i;t.matchBase&&o.length===1&&(a=[s]);var l=this.matchOne(a,o,e);if(l)return t.flipNegate?!0:!this.negate}return t.flipNegate?!1:this.negate}Z.prototype.matchOne=function(i,e,t){var r=this.options;this.debug("matchOne",{this:this,file:i,pattern:e}),this.debug("matchOne",i.length,e.length);for(var s=0,n=0,o=i.length,a=e.length;s<o&&n<a;s++,n++){this.debug("matchOne loop");var l=e[n],h=i[s];if(this.debug(e,l,h),l===!1)return!1;if(l===Do){this.debug("GLOBSTAR",[e,l,h]);var u=s,c=n+1;if(c===a){for(this.debug("** at the end");s<o;s++)if(i[s]==="."||i[s]===".."||!r.dot&&i[s].charAt(0)===".")return!1;return!0}for(;u<o;){var d=i[u];if(this.debug(`
globstar while`,i,u,e,c,d),this.matchOne(i.slice(u),e.slice(c),t))return this.debug("globstar found match!",u,o,d),!0;if(d==="."||d===".."||!r.dot&&d.charAt(0)==="."){this.debug("dot detected!",i,u,e,c);break}this.debug("globstar swallow a segment, and continue"),u++}return!!(t&&(this.debug(`
>>> no match, partial?`,i,u,e,c),u===o))}var f;if(typeof l=="string"?(r.nocase?f=h.toLowerCase()===l.toLowerCase():f=h===l,this.debug("string match",l,h,f)):(f=h.match(l),this.debug("pattern match",l,h,f)),!f)return!1}if(s===o&&n===a)return!0;if(s===o)return t;if(n===a){var p=s===o-1&&i[s]==="";return p}throw new Error("wtf?")};function tw(i){return i.replace(/\\(.)/g,"$1")}function iw(i){return i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}var rw=Ee(function(i){typeof Object.create=="function"?i.exports=function(t,r){t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:i.exports=function(t,r){t.super_=r;var s=function(){};s.prototype=r.prototype,t.prototype=new s,t.prototype.constructor=t}}),sw=Ee(function(i){try{var e=Fe.default;if(typeof e.inherits!="function")throw"";i.exports=e.inherits}catch{i.exports=rw}});function Cf(i){return i.charAt(0)==="/"}function xf(i){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,t=e.exec(i),r=t[1]||"",s=Boolean(r&&r.charAt(1)!==":");return Boolean(t[2]||s)}var he=process.platform==="win32"?xf:Cf,nw=Cf,ow=xf;he.posix=nw;he.win32=ow;var aw=Tf,lw=Af,hw=vw,uw=Rf,cw=Yi,dw=bw,fw=ww,mw=If,pw=_w;function Rf(i,e){return Object.prototype.hasOwnProperty.call(i,e)}var co=Io.Minimatch;function Af(i,e){return i.toLowerCase().localeCompare(e.toLowerCase())}function Tf(i,e){return i.localeCompare(e)}function gw(i,e){i.ignore=e.ignore||[],Array.isArray(i.ignore)||(i.ignore=[i.ignore]),i.ignore.length&&(i.ignore=i.ignore.map(yw))}function yw(i){var e=null;if(i.slice(-3)==="/**"){var t=i.replace(/(\/\*\*)+$/,"");e=new co(t,{dot:!0})}return{matcher:new co(i,{dot:!0}),gmatcher:e}}function vw(i,e,t){if(t||(t={}),t.matchBase&&e.indexOf("/")===-1){if(t.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}i.silent=!!t.silent,i.pattern=e,i.strict=t.strict!==!1,i.realpath=!!t.realpath,i.realpathCache=t.realpathCache||Object.create(null),i.follow=!!t.follow,i.dot=!!t.dot,i.mark=!!t.mark,i.nodir=!!t.nodir,i.nodir&&(i.mark=!0),i.sync=!!t.sync,i.nounique=!!t.nounique,i.nonull=!!t.nonull,i.nosort=!!t.nosort,i.nocase=!!t.nocase,i.stat=!!t.stat,i.noprocess=!!t.noprocess,i.absolute=!!t.absolute,i.maxLength=t.maxLength||1/0,i.cache=t.cache||Object.create(null),i.statCache=t.statCache||Object.create(null),i.symlinks=t.symlinks||Object.create(null),gw(i,t),i.changedCwd=!1;var r=process.cwd();Rf(t,"cwd")?(i.cwd=b.default.resolve(t.cwd),i.changedCwd=i.cwd!==r):i.cwd=r,i.root=t.root||b.default.resolve(i.cwd,"/"),i.root=b.default.resolve(i.root),process.platform==="win32"&&(i.root=i.root.replace(/\\/g,"/")),i.cwdAbs=he(i.cwd)?i.cwd:Yi(i,i.cwd),process.platform==="win32"&&(i.cwdAbs=i.cwdAbs.replace(/\\/g,"/")),i.nomount=!!t.nomount,t.nonegate=!0,t.nocomment=!0,i.minimatch=new co(e,t),i.options=i.minimatch.options}function bw(i){for(var e=i.nounique,t=e?[]:Object.create(null),r=0,s=i.matches.length;r<s;r++){var n=i.matches[r];if(!n||Object.keys(n).length===0){if(i.nonull){var o=i.minimatch.globSet[r];e?t.push(o):t[o]=!0}}else{var a=Object.keys(n);e?t.push.apply(t,a):a.forEach(function(l){t[l]=!0})}}if(e||(t=Object.keys(t)),i.nosort||(t=t.sort(i.nocase?Af:Tf)),i.mark){for(var r=0;r<t.length;r++)t[r]=i._mark(t[r]);i.nodir&&(t=t.filter(function(l){var h=!/\/$/.test(l),u=i.cache[l]||i.cache[Yi(i,l)];return h&&u&&(h=u!=="DIR"&&!Array.isArray(u)),h}))}i.ignore.length&&(t=t.filter(function(l){return!If(i,l)})),i.found=t}function ww(i,e){var t=Yi(i,e),r=i.cache[t],s=e;if(r){var n=r==="DIR"||Array.isArray(r),o=e.slice(-1)==="/";if(n&&!o?s+="/":!n&&o&&(s=s.slice(0,-1)),s!==e){var a=Yi(i,s);i.statCache[a]=i.statCache[t],i.cache[a]=i.cache[t]}}return s}function Yi(i,e){var t=e;return e.charAt(0)==="/"?t=b.default.join(i.root,e):he(e)||e===""?t=e:i.changedCwd?t=b.default.resolve(i.cwd,e):t=b.default.resolve(e),process.platform==="win32"&&(t=t.replace(/\\/g,"/")),t}function If(i,e){return i.ignore.length?i.ignore.some(function(t){return t.matcher.match(e)||!!(t.gmatcher&&t.gmatcher.match(e))}):!1}function _w(i,e){return i.ignore.length?i.ignore.some(function(t){return!!(t.gmatcher&&t.gmatcher.match(e))}):!1}var oe={alphasort:aw,alphasorti:lw,setopts:hw,ownProp:uw,makeAbs:cw,finish:dw,mark:fw,isIgnored:mw,childrenIgnored:pw},Mo=Df;Df.GlobSync=W;var Sw=oe.setopts,fo=oe.ownProp,Ew=oe.childrenIgnored,Ow=oe.isIgnored;function Df(i,e){if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new W(i,e).found}function W(i,e){if(!i)throw new Error("must provide pattern");if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof W))return new W(i,e);if(Sw(this,i,e),this.noprocess)return this;var t=this.minimatch.set.length;this.matches=new Array(t);for(var r=0;r<t;r++)this._process(this.minimatch.set[r],r,!1);this._finish()}W.prototype._finish=function(){if(O.default(this instanceof W),this.realpath){var i=this;this.matches.forEach(function(e,t){var r=i.matches[t]=Object.create(null);for(var s in e)try{s=i._makeAbs(s);var n=df.realpathSync(s,i.realpathCache);r[n]=!0}catch(o){if(o.syscall==="stat")r[i._makeAbs(s)]=!0;else throw o}})}oe.finish(this)};W.prototype._process=function(i,e,t){O.default(this instanceof W);for(var r=0;typeof i[r]=="string";)r++;var s;switch(r){case i.length:this._processSimple(i.join("/"),e);return;case 0:s=null;break;default:s=i.slice(0,r).join("/");break}var n=i.slice(r),o;s===null?o=".":((he(s)||he(i.join("/")))&&(!s||!he(s))&&(s="/"+s),o=s);var a=this._makeAbs(o);if(!Ew(this,o)){var l=n[0]===Io.GLOBSTAR;l?this._processGlobStar(s,o,a,n,e,t):this._processReaddir(s,o,a,n,e,t)}};W.prototype._processReaddir=function(i,e,t,r,s,n){var o=this._readdir(t,n);if(!!o){for(var a=r[0],l=!!this.minimatch.negate,h=a._glob,u=this.dot||h.charAt(0)===".",c=[],d=0;d<o.length;d++){var f=o[d];if(f.charAt(0)!=="."||u){var p;l&&!i?p=!f.match(a):p=f.match(a),p&&c.push(f)}}var g=c.length;if(g!==0){if(r.length===1&&!this.mark&&!this.stat){this.matches[s]||(this.matches[s]=Object.create(null));for(var d=0;d<g;d++){var f=c[d];i&&(i.slice(-1)!=="/"?f=i+"/"+f:f=i+f),f.charAt(0)==="/"&&!this.nomount&&(f=b.default.join(this.root,f)),this._emitMatch(s,f)}return}r.shift();for(var d=0;d<g;d++){var f=c[d],y;i?y=[i,f]:y=[f],this._process(y.concat(r),s,n)}}}};W.prototype._emitMatch=function(i,e){if(!Ow(this,e)){var t=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=t),!this.matches[i][e]){if(this.nodir){var r=this.cache[t];if(r==="DIR"||Array.isArray(r))return}this.matches[i][e]=!0,this.stat&&this._stat(e)}}};W.prototype._readdirInGlobStar=function(i){if(this.follow)return this._readdir(i,!1);var e,t;try{t=m.default.lstatSync(i)}catch(s){if(s.code==="ENOENT")return null}var r=t&&t.isSymbolicLink();return this.symlinks[i]=r,!r&&t&&!t.isDirectory()?this.cache[i]="FILE":e=this._readdir(i,!1),e};W.prototype._readdir=function(i,e){if(e&&!fo(this.symlinks,i))return this._readdirInGlobStar(i);if(fo(this.cache,i)){var t=this.cache[i];if(!t||t==="FILE")return null;if(Array.isArray(t))return t}try{return this._readdirEntries(i,m.default.readdirSync(i))}catch(r){return this._readdirError(i,r),null}};W.prototype._readdirEntries=function(i,e){if(!this.mark&&!this.stat)for(var t=0;t<e.length;t++){var r=e[t];i==="/"?r=i+r:r=i+"/"+r,this.cache[r]=!0}return this.cache[i]=e,e};W.prototype._readdirError=function(i,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var t=this._makeAbs(i);if(this.cache[t]="FILE",t===this.cwdAbs){var r=new Error(e.code+" invalid cwd "+this.cwd);throw r.path=this.cwd,r.code=e.code,r}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(i)]=!1;break;default:if(this.cache[this._makeAbs(i)]=!1,this.strict)throw e;this.silent||console.error("glob error",e);break}};W.prototype._processGlobStar=function(i,e,t,r,s,n){var o=this._readdir(t,n);if(!!o){var a=r.slice(1),l=i?[i]:[],h=l.concat(a);this._process(h,s,!1);var u=o.length,c=this.symlinks[t];if(!(c&&n))for(var d=0;d<u;d++){var f=o[d];if(!(f.charAt(0)==="."&&!this.dot)){var p=l.concat(o[d],a);this._process(p,s,!0);var g=l.concat(o[d],r);this._process(g,s,!0)}}}};W.prototype._processSimple=function(i,e){var t=this._stat(i);if(this.matches[e]||(this.matches[e]=Object.create(null)),!!t){if(i&&he(i)&&!this.nomount){var r=/[\/\\]$/.test(i);i.charAt(0)==="/"?i=b.default.join(this.root,i):(i=b.default.resolve(this.root,i),r&&(i+="/"))}process.platform==="win32"&&(i=i.replace(/\\/g,"/")),this._emitMatch(e,i)}};W.prototype._stat=function(i){var e=this._makeAbs(i),t=i.slice(-1)==="/";if(i.length>this.maxLength)return!1;if(!this.stat&&fo(this.cache,e)){var n=this.cache[e];if(Array.isArray(n)&&(n="DIR"),!t||n==="DIR")return n;if(t&&n==="FILE")return!1}var r=this.statCache[e];if(!r){var s;try{s=m.default.lstatSync(e)}catch(o){if(o&&(o.code==="ENOENT"||o.code==="ENOTDIR"))return this.statCache[e]=!1,!1}if(s&&s.isSymbolicLink())try{r=m.default.statSync(e)}catch{r=s}else r=s}this.statCache[e]=r;var n=!0;return r&&(n=r.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||n,t&&n==="FILE"?!1:n};W.prototype._mark=function(i){return oe.mark(this,i)};W.prototype._makeAbs=function(i){return oe.makeAbs(this,i)};var ko=Mf;function Mf(i,e){if(i&&e)return Mf(i)(e);if(typeof i!="function")throw new TypeError("need wrapper function");return Object.keys(i).forEach(function(r){t[r]=i[r]}),t;function t(){for(var r=new Array(arguments.length),s=0;s<r.length;s++)r[s]=arguments[s];var n=i.apply(this,r),o=r[r.length-1];return typeof n=="function"&&n!==o&&Object.keys(o).forEach(function(a){n[a]=o[a]}),n}}var No=ko(Yr),Cw=ko(kf);Yr.proto=Yr(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Yr(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return kf(this)},configurable:!0})});function Yr(i){var e=function(){return e.called?e.value:(e.called=!0,e.value=i.apply(this,arguments))};return e.called=!1,e}function kf(i){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=i.apply(this,arguments)},t=i.name||"Function wrapped with `once`";return e.onceError=t+" shouldn't be called more than once",e.called=!1,e}No.strict=Cw;var Hi=Object.create(null),Fo=ko(xw);function xw(i,e){return Hi[i]?(Hi[i].push(e),null):(Hi[i]=[e],Rw(i))}function Rw(i){return No(function e(){var t=Hi[i],r=t.length,s=Aw(arguments);try{for(var n=0;n<r;n++)t[n].apply(null,s)}finally{t.length>r?(t.splice(0,r),process.nextTick(function(){e.apply(null,s)})):delete Hi[i]}})}function Aw(i){for(var e=i.length,t=[],r=0;r<e;r++)t[r]=i[r];return t}var Tw=Mt,Iw=oi.default.EventEmitter,Dw=oe.setopts,mo=oe.ownProp,Mw=oe.childrenIgnored,kw=oe.isIgnored;function Mt(i,e,t){if(typeof e=="function"&&(t=e,e={}),e||(e={}),e.sync){if(t)throw new TypeError("callback provided to sync glob");return Mo(i,e)}return new M(i,e,t)}Mt.sync=Mo;var Nw=Mt.GlobSync=Mo.GlobSync;Mt.glob=Mt;function Fw(i,e){if(e===null||typeof e!="object")return i;for(var t=Object.keys(e),r=t.length;r--;)i[t[r]]=e[t[r]];return i}Mt.hasMagic=function(i,e){var t=Fw({},e);t.noprocess=!0;var r=new M(i,t),s=r.minimatch.set;if(!i)return!1;if(s.length>1)return!0;for(var n=0;n<s[0].length;n++)if(typeof s[0][n]!="string")return!0;return!1};Mt.Glob=M;sw(M,Iw);function M(i,e,t){if(typeof e=="function"&&(t=e,e=null),e&&e.sync){if(t)throw new TypeError("callback provided to sync glob");return new Nw(i,e)}if(!(this instanceof M))return new M(i,e,t);Dw(this,i,e),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),typeof t=="function"&&(t=No(t),this.on("error",t),this.on("end",function(l){t(null,l)}));var s=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(r===0)return a();for(var n=!0,o=0;o<r;o++)this._process(this.minimatch.set[o],o,!1,a);n=!1;function a(){--s._processing,s._processing<=0&&(n?process.nextTick(function(){s._finish()}):s._finish())}}M.prototype._finish=function(){if(O.default(this instanceof M),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();oe.finish(this),this.emit("end",this.found)}};M.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var i=this.matches.length;if(i===0)return this._finish();for(var e=this,t=0;t<this.matches.length;t++)this._realpathSet(t,r);function r(){--i===0&&e._finish()}};M.prototype._realpathSet=function(i,e){var t=this.matches[i];if(!t)return e();var r=Object.keys(t),s=this,n=r.length;if(n===0)return e();var o=this.matches[i]=Object.create(null);r.forEach(function(a,l){a=s._makeAbs(a),df.realpath(a,s.realpathCache,function(h,u){h?h.syscall==="stat"?o[a]=!0:s.emit("error",h):o[u]=!0,--n===0&&(s.matches[i]=o,e())})})};M.prototype._mark=function(i){return oe.mark(this,i)};M.prototype._makeAbs=function(i){return oe.makeAbs(this,i)};M.prototype.abort=function(){this.aborted=!0,this.emit("abort")};M.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};M.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var i=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<i.length;e++){var t=i[e];this._emitMatch(t[0],t[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<r.length;e++){var s=r[e];this._processing--,this._process(s[0],s[1],s[2],s[3])}}}};M.prototype._process=function(i,e,t,r){if(O.default(this instanceof M),O.default(typeof r=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([i,e,t,r]);return}for(var s=0;typeof i[s]=="string";)s++;var n;switch(s){case i.length:this._processSimple(i.join("/"),e,r);return;case 0:n=null;break;default:n=i.slice(0,s).join("/");break}var o=i.slice(s),a;n===null?a=".":((he(n)||he(i.join("/")))&&(!n||!he(n))&&(n="/"+n),a=n);var l=this._makeAbs(a);if(Mw(this,a))return r();var h=o[0]===Io.GLOBSTAR;h?this._processGlobStar(n,a,l,o,e,t,r):this._processReaddir(n,a,l,o,e,t,r)}};M.prototype._processReaddir=function(i,e,t,r,s,n,o){var a=this;this._readdir(t,n,function(l,h){return a._processReaddir2(i,e,t,r,s,n,h,o)})};M.prototype._processReaddir2=function(i,e,t,r,s,n,o,a){if(!o)return a();for(var l=r[0],h=!!this.minimatch.negate,u=l._glob,c=this.dot||u.charAt(0)===".",d=[],f=0;f<o.length;f++){var p=o[f];if(p.charAt(0)!=="."||c){var g;h&&!i?g=!p.match(l):g=p.match(l),g&&d.push(p)}}var y=d.length;if(y===0)return a();if(r.length===1&&!this.mark&&!this.stat){this.matches[s]||(this.matches[s]=Object.create(null));for(var f=0;f<y;f++){var p=d[f];i&&(i!=="/"?p=i+"/"+p:p=i+p),p.charAt(0)==="/"&&!this.nomount&&(p=b.default.join(this.root,p)),this._emitMatch(s,p)}return a()}r.shift();for(var f=0;f<y;f++){var p=d[f];i&&(i!=="/"?p=i+"/"+p:p=i+p),this._process([p].concat(r),s,n,a)}a()};M.prototype._emitMatch=function(i,e){if(!this.aborted&&!kw(this,e)){if(this.paused){this._emitQueue.push([i,e]);return}var t=he(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=t),!this.matches[i][e]){if(this.nodir){var r=this.cache[t];if(r==="DIR"||Array.isArray(r))return}this.matches[i][e]=!0;var s=this.statCache[t];s&&this.emit("stat",e,s),this.emit("match",e)}}};M.prototype._readdirInGlobStar=function(i,e){if(this.aborted)return;if(this.follow)return this._readdir(i,!1,e);var t="lstat\0"+i,r=this,s=Fo(t,n);s&&m.default.lstat(i,s);function n(o,a){if(o&&o.code==="ENOENT")return e();var l=a&&a.isSymbolicLink();r.symlinks[i]=l,!l&&a&&!a.isDirectory()?(r.cache[i]="FILE",e()):r._readdir(i,!1,e)}};M.prototype._readdir=function(i,e,t){if(!this.aborted&&(t=Fo("readdir\0"+i+"\0"+e,t),!!t)){if(e&&!mo(this.symlinks,i))return this._readdirInGlobStar(i,t);if(mo(this.cache,i)){var r=this.cache[i];if(!r||r==="FILE")return t();if(Array.isArray(r))return t(null,r)}m.default.readdir(i,Pw(this,i,t))}};function Pw(i,e,t){return function(r,s){r?i._readdirError(e,r,t):i._readdirEntries(e,s,t)}}M.prototype._readdirEntries=function(i,e,t){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var s=e[r];i==="/"?s=i+s:s=i+"/"+s,this.cache[s]=!0}return this.cache[i]=e,t(null,e)}};M.prototype._readdirError=function(i,e,t){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(i);if(this.cache[r]="FILE",r===this.cwdAbs){var s=new Error(e.code+" invalid cwd "+this.cwd);s.path=this.cwd,s.code=e.code,this.emit("error",s),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(i)]=!1;break;default:this.cache[this._makeAbs(i)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e);break}return t()}};M.prototype._processGlobStar=function(i,e,t,r,s,n,o){var a=this;this._readdir(t,n,function(l,h){a._processGlobStar2(i,e,t,r,s,n,h,o)})};M.prototype._processGlobStar2=function(i,e,t,r,s,n,o,a){if(!o)return a();var l=r.slice(1),h=i?[i]:[],u=h.concat(l);this._process(u,s,!1,a);var c=this.symlinks[t],d=o.length;if(c&&n)return a();for(var f=0;f<d;f++){var p=o[f];if(!(p.charAt(0)==="."&&!this.dot)){var g=h.concat(o[f],l);this._process(g,s,!0,a);var y=h.concat(o[f],r);this._process(y,s,!0,a)}}a()};M.prototype._processSimple=function(i,e,t){var r=this;this._stat(i,function(s,n){r._processSimple2(i,e,s,n,t)})};M.prototype._processSimple2=function(i,e,t,r,s){if(this.matches[e]||(this.matches[e]=Object.create(null)),!r)return s();if(i&&he(i)&&!this.nomount){var n=/[\/\\]$/.test(i);i.charAt(0)==="/"?i=b.default.join(this.root,i):(i=b.default.resolve(this.root,i),n&&(i+="/"))}process.platform==="win32"&&(i=i.replace(/\\/g,"/")),this._emitMatch(e,i),s()};M.prototype._stat=function(i,e){var t=this._makeAbs(i),r=i.slice(-1)==="/";if(i.length>this.maxLength)return e();if(!this.stat&&mo(this.cache,t)){var s=this.cache[t];if(Array.isArray(s)&&(s="DIR"),!r||s==="DIR")return e(null,s);if(r&&s==="FILE")return e()}var n=this.statCache[t];if(n!==void 0){if(n===!1)return e(null,n);var o=n.isDirectory()?"DIR":"FILE";return r&&o==="FILE"?e():e(null,o,n)}var a=this,l=Fo("stat\0"+t,h);l&&m.default.lstat(t,l);function h(u,c){if(c&&c.isSymbolicLink())return m.default.stat(t,function(d,f){d?a._stat2(i,t,null,c,e):a._stat2(i,t,d,f,e)});a._stat2(i,t,u,c,e)}};M.prototype._stat2=function(i,e,t,r,s){if(t&&(t.code==="ENOENT"||t.code==="ENOTDIR"))return this.statCache[e]=!1,s();var n=i.slice(-1)==="/";if(this.statCache[e]=r,e.slice(-1)==="/"&&r&&!r.isDirectory())return s(null,!1,r);var o=!0;return r&&(o=r.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,n&&o==="FILE"?s():s(null,o,r)};var $w=Po;Po.sync=Pf;var ii=void 0;try{ii=Tw}catch{}var Nf=parseInt("666",8),Lw={nosort:!0,silent:!0},An=0,Zi=process.platform==="win32";function Ff(i){var e=["unlink","chmod","stat","lstat","rmdir","readdir"];if(e.forEach(function(t){i[t]=i[t]||m.default[t],t=t+"Sync",i[t]=i[t]||m.default[t]}),i.maxBusyTries=i.maxBusyTries||3,i.emfileWait=i.emfileWait||1e3,i.glob===!1&&(i.disableGlob=!0),i.disableGlob!==!0&&ii===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");i.disableGlob=i.disableGlob||!1,i.glob=i.glob||Lw}function Po(i,e,t){typeof e=="function"&&(t=e,e={}),O.default(i,"rimraf: missing path"),O.default.equal(typeof i,"string","rimraf: path should be a string"),O.default.equal(typeof t,"function","rimraf: callback function required"),O.default(e,"rimraf: invalid options argument provided"),O.default.equal(typeof e,"object","rimraf: options should be object"),Ff(e);var r=0,s=null,n=0;if(e.disableGlob||!ii.hasMagic(i))return a(null,[i]);e.lstat(i,function(l,h){if(!l)return a(null,[i]);ii(i,e.glob,a)});function o(l){s=s||l,--n===0&&t(s)}function a(l,h){if(l)return t(l);if(n=h.length,n===0)return t();h.forEach(function(u){Tn(u,e,function c(d){if(d){if((d.code==="EBUSY"||d.code==="ENOTEMPTY"||d.code==="EPERM")&&r<e.maxBusyTries){r++;var f=r*100;return setTimeout(function(){Tn(u,e,c)},f)}if(d.code==="EMFILE"&&An<e.emfileWait)return setTimeout(function(){Tn(u,e,c)},An++);d.code==="ENOENT"&&(d=null)}An=0,o(d)})})}}function Tn(i,e,t){O.default(i),O.default(e),O.default(typeof t=="function"),e.lstat(i,function(r,s){if(r&&r.code==="ENOENT")return t(null);if(r&&r.code==="EPERM"&&Zi&&ld(i,e,r,t),s&&s.isDirectory())return Zr(i,e,r,t);e.unlink(i,function(n){if(n){if(n.code==="ENOENT")return t(null);if(n.code==="EPERM")return Zi?ld(i,e,n,t):Zr(i,e,n,t);if(n.code==="EISDIR")return Zr(i,e,n,t)}return t(n)})})}function ld(i,e,t,r){O.default(i),O.default(e),O.default(typeof r=="function"),t&&O.default(t instanceof Error),e.chmod(i,Nf,function(s){s?r(s.code==="ENOENT"?null:t):e.stat(i,function(n,o){n?r(n.code==="ENOENT"?null:t):o.isDirectory()?Zr(i,e,t,r):e.unlink(i,r)})})}function hd(i,e,t){O.default(i),O.default(e),t&&O.default(t instanceof Error);try{e.chmodSync(i,Nf)}catch(s){if(s.code==="ENOENT")return;throw t}try{var r=e.statSync(i)}catch(s){if(s.code==="ENOENT")return;throw t}r.isDirectory()?Kr(i,e,t):e.unlinkSync(i)}function Zr(i,e,t,r){O.default(i),O.default(e),t&&O.default(t instanceof Error),O.default(typeof r=="function"),e.rmdir(i,function(s){s&&(s.code==="ENOTEMPTY"||s.code==="EEXIST"||s.code==="EPERM")?qw(i,e,r):s&&s.code==="ENOTDIR"?r(t):r(s)})}function qw(i,e,t){O.default(i),O.default(e),O.default(typeof t=="function"),e.readdir(i,function(r,s){if(r)return t(r);var n=s.length;if(n===0)return e.rmdir(i,t);var o;s.forEach(function(a){Po(b.default.join(i,a),e,function(l){if(!o){if(l)return t(o=l);--n===0&&e.rmdir(i,t)}})})})}function Pf(i,e){e=e||{},Ff(e),O.default(i,"rimraf: missing path"),O.default.equal(typeof i,"string","rimraf: path should be a string"),O.default(e,"rimraf: missing options"),O.default.equal(typeof e,"object","rimraf: options should be object");var t;if(e.disableGlob||!ii.hasMagic(i))t=[i];else try{e.lstatSync(i),t=[i]}catch{t=ii.sync(i,e.glob)}if(!!t.length)for(var r=0;r<t.length;r++){var i=t[r];try{var s=e.lstatSync(i)}catch(o){if(o.code==="ENOENT")return;o.code==="EPERM"&&Zi&&hd(i,e,o)}try{s&&s.isDirectory()?Kr(i,e,null):e.unlinkSync(i)}catch(o){if(o.code==="ENOENT")return;if(o.code==="EPERM")return Zi?hd(i,e,o):Kr(i,e,o);if(o.code!=="EISDIR")throw o;Kr(i,e,o)}}}function Kr(i,e,t){O.default(i),O.default(e),t&&O.default(t instanceof Error);try{e.rmdirSync(i)}catch(r){if(r.code==="ENOENT")return;if(r.code==="ENOTDIR")throw t;(r.code==="ENOTEMPTY"||r.code==="EEXIST"||r.code==="EPERM")&&Bw(i,e)}}function Bw(i,e){O.default(i),O.default(e),e.readdirSync(i).forEach(function(o){Pf(b.default.join(i,o),e)});var t=Zi?100:1,r=0;do{var s=!0;try{var n=e.rmdirSync(i,e);return s=!1,n}finally{if(++r<t&&s)continue}}while(!0)}function $f(i){return i&&typeof i=="object"&&"default"in i?i.default:i}var jw=$f(Rb),Hw=$f($w);function Uw(i){return b.default.resolve.apply(null,i)}function ud(i){var e,t;if(typeof i[i.length-1]=="object"){e=i[i.length-1];var r=i.length-1;for(t=new Array(r);r--;)t[r]=i[r]}else e={},t=i;var s=b.default.resolve.apply(null,t);return{options:e,resolvedPath:s}}function Vw(){var i=ud(arguments),e=i.resolvedPath,t=i.options;return{to:function(){var s=ud(arguments),n=s.resolvedPath,o=s.options;function a(l,h){jw.sync(h),me.readdirSync(l).forEach(function(u){var c=l+b.default.sep+u,d=h+b.default.sep+u;if(me.statSync(c).isDirectory())return a(c,d);var f=me.readFileSync(c,t);me.writeFileSync(d,f,o)})}a(e,n)}}}function zw(){Hw.sync(Uw(arguments))}process.platform;me.closeSync;me.fchmodSync;me.fchownSync;me.fstatSync;me.fsyncSync;me.ftruncateSync;me.futimesSync;me.readSync;var Lf=Vw,Ki=zw,Gw=kn.default.homedir()||kn.default.tmpdir(),ri=1e3,si=ri*60,ni=si*60,kt=ni*24,Ww=kt*7,Yw=kt*365.25,Zw=function(i,e){e=e||{};var t=typeof i;if(t==="string"&&i.length>0)return Kw(i);if(t==="number"&&isFinite(i))return e.long?Jw(i):Xw(i);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(i))};function Kw(i){if(i=String(i),!(i.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(i);if(!!e){var t=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return t*Yw;case"weeks":case"week":case"w":return t*Ww;case"days":case"day":case"d":return t*kt;case"hours":case"hour":case"hrs":case"hr":case"h":return t*ni;case"minutes":case"minute":case"mins":case"min":case"m":return t*si;case"seconds":case"second":case"secs":case"sec":case"s":return t*ri;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function Xw(i){var e=Math.abs(i);return e>=kt?Math.round(i/kt)+"d":e>=ni?Math.round(i/ni)+"h":e>=si?Math.round(i/si)+"m":e>=ri?Math.round(i/ri)+"s":i+"ms"}function Jw(i){var e=Math.abs(i);return e>=kt?Pr(i,e,kt,"day"):e>=ni?Pr(i,e,ni,"hour"):e>=si?Pr(i,e,si,"minute"):e>=ri?Pr(i,e,ri,"second"):i+" ms"}function Pr(i,e,t,r){var s=e>=t*1.5;return Math.round(i/t)+" "+r+(s?"s":"")}function Qw(i){t.debug=t,t.default=t,t.coerce=l,t.disable=n,t.enable=s,t.enabled=o,t.humanize=Zw,t.destroy=h,Object.keys(i).forEach(u=>{t[u]=i[u]}),t.names=[],t.skips=[],t.formatters={};function e(u){let c=0;for(let d=0;d<u.length;d++)c=(c<<5)-c+u.charCodeAt(d),c|=0;return t.colors[Math.abs(c)%t.colors.length]}t.selectColor=e;function t(u){let c,d=null;function f(...p){if(!f.enabled)return;let g=f,y=Number(new Date),_=y-(c||y);g.diff=_,g.prev=c,g.curr=y,c=y,p[0]=t.coerce(p[0]),typeof p[0]!="string"&&p.unshift("%O");let E=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,(R,z)=>{if(R==="%%")return"%";E++;let G=t.formatters[z];if(typeof G=="function"){let ue=p[E];R=G.call(g,ue),p.splice(E,1),E--}return R}),t.formatArgs.call(g,p),(g.log||t.log).apply(g,p)}return f.namespace=u,f.useColors=t.useColors(),f.color=t.selectColor(u),f.extend=r,f.destroy=t.destroy,Object.defineProperty(f,"enabled",{enumerable:!0,configurable:!1,get:()=>d===null?t.enabled(u):d,set:p=>{d=p}}),typeof t.init=="function"&&t.init(f),f}function r(u,c){let d=t(this.namespace+(typeof c>"u"?":":c)+u);return d.log=this.log,d}function s(u){t.save(u),t.names=[],t.skips=[];let c,d=(typeof u=="string"?u:"").split(/[\s,]+/),f=d.length;for(c=0;c<f;c++)!d[c]||(u=d[c].replace(/\*/g,".*?"),u[0]==="-"?t.skips.push(new RegExp("^"+u.substr(1)+"$")):t.names.push(new RegExp("^"+u+"$")))}function n(){let u=[...t.names.map(a),...t.skips.map(a).map(c=>"-"+c)].join(",");return t.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let c,d;for(c=0,d=t.skips.length;c<d;c++)if(t.skips[c].test(u))return!1;for(c=0,d=t.names.length;c<d;c++)if(t.names[c].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function l(u){return u instanceof Error?u.stack||u.message:u}function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}var qf=Qw,e1=Ee(function(i,e){e.formatArgs=r,e.save=s,e.load=n,e.useColors=t,e.storage=o(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+i.exports.humanize(this.diff),!this.useColors)return;let h="color: "+this.color;l.splice(1,0,h,"color: inherit");let u=0,c=0;l[0].replace(/%[a-zA-Z%]/g,d=>{d!=="%%"&&(u++,d==="%c"&&(c=u))}),l.splice(c,0,h)}e.log=console.debug||console.log||(()=>{});function s(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function n(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=process.env.DEBUG),l}function o(){try{return localStorage}catch{}}i.exports=qf(e);let{formatters:a}=i.exports;a.j=function(l){try{return JSON.stringify(l)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}}),t1=Ee(function(i,e){e.init=l,e.log=n,e.formatArgs=r,e.save=o,e.load=a,e.useColors=t,e.destroy=Fe.default.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),e.colors=[6,2,3,4,5,1];try{let u=rf;u&&(u.stderr||u).level>=2&&(e.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}e.inspectOpts=Object.keys(process.env).filter(u=>/^debug_/i.test(u)).reduce((u,c)=>{let d=c.substring(6).toLowerCase().replace(/_([a-z])/g,(p,g)=>g.toUpperCase()),f=process.env[c];return/^(yes|on|true|enabled)$/i.test(f)?f=!0:/^(no|off|false|disabled)$/i.test(f)?f=!1:f==="null"?f=null:f=Number(f),u[d]=f,u},{});function t(){return"colors"in e.inspectOpts?Boolean(e.inspectOpts.colors):Nn.default.isatty(process.stderr.fd)}function r(u){let{namespace:c,useColors:d}=this;if(d){let f=this.color,p="\x1B[3"+(f<8?f:"8;5;"+f),g=`  ${p};1m${c} \x1B[0m`;u[0]=g+u[0].split(`
`).join(`
`+g),u.push(p+"m+"+i.exports.humanize(this.diff)+"\x1B[0m")}else u[0]=s()+c+" "+u[0]}function s(){return e.inspectOpts.hideDate?"":new Date().toISOString()+" "}function n(...u){return process.stderr.write(Fe.default.format(...u)+`
`)}function o(u){u?process.env.DEBUG=u:delete process.env.DEBUG}function a(){return process.env.DEBUG}function l(u){u.inspectOpts={};let c=Object.keys(e.inspectOpts);for(let d=0;d<c.length;d++)u.inspectOpts[c[d]]=e.inspectOpts[c[d]]}i.exports=qf(e);let{formatters:h}=i.exports;h.o=function(u){return this.inspectOpts.colors=this.useColors,Fe.default.inspect(u,this.inspectOpts).split(`
`).map(c=>c.trim()).join(" ")},h.O=function(u){return this.inspectOpts.colors=this.useColors,Fe.default.inspect(u,this.inspectOpts)}}),$o=Ee(function(i){typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?i.exports=e1:i.exports=t1});function i1(i){return function(e,t){return new Promise((r,s)=>{i.call(this,e,t,(n,o)=>{n?s(n):r(o)})})}}var r1=i1,s1=Object.defineProperty({default:r1},"__esModule",{value:!0}),Bf=ge&&ge.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},n1=Bf($o),o1=Bf(s1),Pi=n1.default("agent-base");function a1(i){return Boolean(i)&&typeof i.addRequest=="function"}function In(){let{stack:i}=new Error;return typeof i!="string"?!1:i.split(`
`).some(e=>e.indexOf("(https.js:")!==-1||e.indexOf("node:https:")!==-1)}function rs(i,e){return new rs.Agent(i,e)}(function(i){class e extends oi.default.EventEmitter{constructor(r,s){super();let n=s;typeof r=="function"?this.callback=r:r&&(n=r),this.timeout=null,n&&typeof n.timeout=="number"&&(this.timeout=n.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:In()?443:80}set defaultPort(r){this.explicitDefaultPort=r}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:In()?"https:":"http:"}set protocol(r){this.explicitProtocol=r}callback(r,s,n){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(r,s){let n=Object.assign({},s);typeof n.secureEndpoint!="boolean"&&(n.secureEndpoint=In()),n.host==null&&(n.host="localhost"),n.port==null&&(n.port=n.secureEndpoint?443:80),n.protocol==null&&(n.protocol=n.secureEndpoint?"https:":"http:"),n.host&&n.path&&delete n.path,delete n.agent,delete n.hostname,delete n._defaultAgent,delete n.defaultPort,delete n.createConnection,r._last=!0,r.shouldKeepAlive=!1;let o=!1,a=null,l=n.timeout||this.timeout,h=f=>{r._hadError||(r.emit("error",f),r._hadError=!0)},u=()=>{a=null,o=!0;let f=new Error(`A "socket" was not created for HTTP request before ${l}ms`);f.code="ETIMEOUT",h(f)},c=f=>{o||(a!==null&&(clearTimeout(a),a=null),h(f))},d=f=>{if(o)return;if(a!=null&&(clearTimeout(a),a=null),a1(f)){Pi("Callback returned another Agent instance %o",f.constructor.name),f.addRequest(r,n);return}if(f){f.once("free",()=>{this.freeSocket(f,n)}),r.onSocket(f);return}let p=new Error(`no Duplex stream was returned to agent-base for \`${r.method} ${r.path}\``);h(p)};if(typeof this.callback!="function"){h(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(Pi("Converting legacy callback function to promise"),this.promisifiedCallback=o1.default(this.callback)):this.promisifiedCallback=this.callback),typeof l=="number"&&l>0&&(a=setTimeout(u,l)),"port"in n&&typeof n.port!="number"&&(n.port=Number(n.port));try{Pi("Resolving socket for %o request: %o",n.protocol,`${r.method} ${r.path}`),Promise.resolve(this.promisifiedCallback(r,n)).then(d,c)}catch(f){Promise.reject(f).catch(c)}}freeSocket(r,s){Pi("Freeing socket %o %o",r.constructor.name,s),r.destroy()}destroy(){Pi("Destroying agent %o",this.constructor.name)}}i.Agent=e,i.prototype=i.Agent.prototype})(rs||(rs={}));var l1=rs,h1=ge&&ge.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},u1=h1($o),$i=u1.default("https-proxy-agent:parse-proxy-response");function c1(i){return new Promise((e,t)=>{let r=0,s=[];function n(){let c=i.read();c?u(c):i.once("readable",n)}function o(){i.removeListener("end",l),i.removeListener("error",h),i.removeListener("close",a),i.removeListener("readable",n)}function a(c){$i("onclose had error %o",c)}function l(){$i("onend")}function h(c){o(),$i("onerror %o",c),t(c)}function u(c){s.push(c),r+=c.length;let d=Buffer.concat(s,r);if(d.indexOf(`\r
\r
`)===-1){$i("have not received end of HTTP headers yet..."),n();return}let p=d.toString("ascii",0,d.indexOf(`\r
`)),g=+p.split(" ")[1];$i("got proxy server response: %o",p),e({statusCode:g,buffered:d})}i.on("error",h),i.on("close",a),i.on("end",l),n()})}var d1=c1,f1=Object.defineProperty({default:d1},"__esModule",{value:!0}),m1=ge&&ge.__awaiter||function(i,e,t,r){function s(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{h(r.next(u))}catch(c){o(c)}}function l(u){try{h(r.throw(u))}catch(c){o(c)}}function h(u){u.done?n(u.value):s(u.value).then(a,l)}h((r=r.apply(i,e||[])).next())})},di=ge&&ge.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},cd=di(Yy.default),dd=di(Zy.default),p1=di(gd.default),g1=di(O.default),y1=di($o),v1=di(f1),Li=y1.default("https-proxy-agent:agent"),jf=class extends l1.Agent{constructor(e){let t;if(typeof e=="string"?t=p1.default.parse(e):t=e,!t)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");Li("creating new HttpsProxyAgent instance: %o",t);super(t);let r=Object.assign({},t);this.secureProxy=t.secureProxy||S1(r.protocol),r.host=r.hostname||r.host,typeof r.port=="string"&&(r.port=parseInt(r.port,10)),!r.port&&r.host&&(r.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in r)&&(r.ALPNProtocols=["http 1.1"]),r.host&&r.path&&(delete r.path,delete r.pathname),this.proxy=r}callback(e,t){return m1(this,void 0,void 0,function*(){let{proxy:r,secureProxy:s}=this,n;s?(Li("Creating `tls.Socket`: %o",r),n=dd.default.connect(r)):(Li("Creating `net.Socket`: %o",r),n=cd.default.connect(r));let o=Object.assign({},r.headers),l=`CONNECT ${`${t.host}:${t.port}`} HTTP/1.1\r
`;r.auth&&(o["Proxy-Authorization"]=`Basic ${Buffer.from(r.auth).toString("base64")}`);let{host:h,port:u,secureEndpoint:c}=t;_1(u,c)||(h+=`:${u}`),o.Host=h,o.Connection="close";for(let y of Object.keys(o))l+=`${y}: ${o[y]}\r
`;let d=v1.default(n);n.write(`${l}\r
`);let{statusCode:f,buffered:p}=yield d;if(f===200){if(e.once("socket",w1),t.secureEndpoint){let y=t.servername||t.host;if(!y)throw new Error('Could not determine "servername"');return Li("Upgrading socket connection to TLS"),dd.default.connect(Object.assign(Object.assign({},E1(t,"host","hostname","path","port")),{socket:n,servername:y}))}return n}n.destroy();let g=new cd.default.Socket;return g.readable=!0,e.once("socket",y=>{Li("replaying proxy buffer for failed request"),g1.default(y.listenerCount("data")>0),y.push(p),y.push(null)}),g})}},b1=jf;function w1(i){i.resume()}function _1(i,e){return Boolean(!e&&i===80||e&&i===443)}function S1(i){return typeof i=="string"?/^https:?$/i.test(i):!1}function E1(i,...e){let t={},r;for(r in i)e.includes(r)||(t[r]=i[r]);return t}var O1=Object.defineProperty({default:b1},"__esModule",{value:!0}),C1=ge&&ge.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},po=C1(O1);function go(i){return new po.default(i)}(function(i){i.HttpsProxyAgent=po.default,i.prototype=po.default.prototype})(go||(go={}));var x1=go,Hf="tmp",R1="degit.json",pt=class extends Error{constructor(e,t){super(e);Object.assign(this,t)}};function ss(i,e){try{return e&&e.clearCache===!0&&delete require.cache[require.resolve(i)],require(i)}catch{return null}}function yo(i){return new Promise((e,t)=>{Wy.default.exec(i,(r,s,n)=>{if(r){t(r);return}e({stdout:s,stderr:n})})})}function ns(i){let e=b.default.dirname(i);if(e!==i){ns(e);try{m.default.mkdirSync(i)}catch(t){if(t.code!=="EEXIST")throw t}}}function Uf(i,e,t){return new Promise((r,s)=>{let n=i;if(t){let o=gd.default.parse(i);n={hostname:o.host,path:o.path,agent:new x1(t)}}Gy.default.get(n,o=>{let a=o.statusCode;a>=400?s({code:a,message:o.statusMessage}):a>=300?Uf(o.headers.location,e,t).then(r,s):o.pipe(m.default.createWriteStream(e)).on("finish",()=>r()).on("error",s)}).on("error",s)})}function A1(i,e){let t=b.default.join(i,Hf);Ki(t),ns(t),m.default.readdirSync(e).forEach(r=>{let s=b.default.join(e,r),n=b.default.join(t,r);m.default.lstatSync(s).isDirectory()?(Lf(s).to(n),Ki(s)):(m.default.copyFileSync(s,n),m.default.unlinkSync(s))})}function T1(i,e){let t=b.default.join(i,Hf);m.default.readdirSync(t).forEach(r=>{let s=b.default.join(t,r),n=b.default.join(e,r);m.default.lstatSync(s).isDirectory()?(Lf(s).to(n),Ki(s)):(r!=="degit.json"&&m.default.copyFileSync(s,n),m.default.unlinkSync(s))}),Ki(t)}var Vf=b.default.join(Gw,".degit"),fd=new Set(["tar","git"]);function zf(i,e){return new Gf(i,e)}var Gf=class extends oi.default{constructor(e,t={}){super();if(this.src=e,this.cache=t.cache,this.force=t.force,this.verbose=t.verbose,this.proxy=process.env.https_proxy,this.repo=I1(e),this.mode=t.mode||this.repo.mode,!fd.has(this.mode))throw new Error(`Valid modes are ${Array.from(fd).join(", ")}`);this._hasStashed=!1,this.directiveActions={clone:async(r,s,n)=>{this._hasStashed===!1&&(A1(r,s),this._hasStashed=!0);let o=Object.assign({force:!0},{cache:n.cache,verbose:n.verbose}),a=zf(n.src,o);a.on("info",l=>{console.error(Ze.cyan(`> ${l.message.replace("options.","--")}`))}),a.on("warn",l=>{console.error(Ze.magenta(`! ${l.message.replace("options.","--")}`))}),await a.clone(s).catch(l=>{console.error(Ze.red(`! ${l.message}`)),process.exit(1)})},remove:this.remove.bind(this)}}_getDirectives(e){let t=b.default.resolve(e,R1),r=ss(t,{clearCache:!0})||!1;return r&&m.default.unlinkSync(t),r}async clone(e){this._checkDirIsEmpty(e);let{repo:t}=this,r=b.default.join(Vf,t.site,t.user,t.name);this.mode==="tar"?await this._cloneWithTar(r,e):await this._cloneWithGit(r,e),this._info({code:"SUCCESS",message:`cloned ${Ze.bold(t.user+"/"+t.name)}#${Ze.bold(t.ref)}${e!=="."?` to ${e}`:""}`,repo:t,dest:e});let s=this._getDirectives(e);if(s){for(let n of s)await this.directiveActions[n.action](r,e,n);this._hasStashed===!0&&T1(r,e)}}remove(e,t,r){let s=r.files;Array.isArray(s)||(s=[s]);let n=s.map(o=>{let a=b.default.resolve(t,o);return m.default.existsSync(a)?m.default.lstatSync(a).isDirectory()?(Ki(a),o+"/"):(m.default.unlinkSync(a),o):(this._warn({code:"FILE_DOES_NOT_EXIST",message:`action wants to remove ${Ze.bold(o)} but it does not exist`}),null)}).filter(o=>o);n.length>0&&this._info({code:"REMOVED",message:`removed: ${Ze.bold(n.map(o=>Ze.bold(o)).join(", "))}`})}_checkDirIsEmpty(e){try{if(m.default.readdirSync(e).length>0)if(this.force)this._info({code:"DEST_NOT_EMPTY",message:"destination directory is not empty. Using options.force, continuing"});else throw new pt("destination directory is not empty, aborting. Use options.force to override",{code:"DEST_NOT_EMPTY"});else this._verbose({code:"DEST_IS_EMPTY",message:"destination directory is empty"})}catch(t){if(t.code!=="ENOENT")throw t}}_info(e){this.emit("info",e)}_warn(e){this.emit("warn",e)}_verbose(e){this.verbose&&this._info(e)}async _getHash(e,t){try{let r=await M1(e);return e.ref==="HEAD"?r.find(s=>s.type==="HEAD").hash:this._selectRef(r,e.ref)}catch(r){return this._warn(r),this._verbose(r.original),this._getHashFromCache(e,t)}}_getHashFromCache(e,t){if(e.ref in t){let r=t[e.ref];return this._info({code:"USING_CACHE",message:`using cached commit hash ${r}`}),r}}_selectRef(e,t){for(let r of e)if(r.name===t)return this._verbose({code:"FOUND_MATCH",message:`found matching commit hash: ${r.hash}`}),r.hash;if(t.length<8)return null;for(let r of e)if(r.hash.startsWith(t))return r.hash}async _cloneWithTar(e,t){let{repo:r}=this,s=ss(b.default.join(e,"map.json"))||{},n=this.cache?this._getHashFromCache(r,s):await this._getHash(r,s),o=r.subdir?`${r.name}-${n}${r.subdir}`:null;if(!n)throw new pt(`could not find commit hash for ${r.ref}`,{code:"MISSING_REF",ref:r.ref});let a=`${e}/${n}.tar.gz`,l=r.site==="gitlab"?`${r.url}/repository/archive.tar.gz?ref=${n}`:r.site==="bitbucket"?`${r.url}/get/${n}.tar.gz`:`${r.url}/archive/${n}.tar.gz`;try{if(!this.cache)try{m.default.statSync(a),this._verbose({code:"FILE_EXISTS",message:`${a} already exists locally`})}catch{ns(b.default.dirname(a)),this.proxy&&this._verbose({code:"PROXY",message:`using proxy ${this.proxy}`}),this._verbose({code:"DOWNLOADING",message:`downloading ${l} to ${a}`}),await Uf(l,a,this.proxy)}}catch(h){throw new pt(`could not download ${l}`,{code:"COULD_NOT_DOWNLOAD",url:l,original:h})}k1(e,r,n,s),this._verbose({code:"EXTRACTING",message:`extracting ${o?r.subdir+" from ":""}${a} to ${t}`}),ns(t),await D1(a,t,o)}async _cloneWithGit(e,t){await yo(`git clone ${this.repo.ssh} ${t}`),await yo(`rm -rf ${b.default.resolve(t,".git")}`)}},md=new Set(["github","gitlab","bitbucket","git.sr.ht"]);function I1(i){let e=/^(?:(?:https:\/\/)?([^:/]+\.[^:/]+)\/|git@([^:/]+)[:/]|([^/]+):)?([^/\s]+)\/([^/\s#]+)(?:((?:\/[^/\s#]+)+))?(?:\/)?(?:#(.+))?/.exec(i);if(!e)throw new pt(`could not parse ${i}`,{code:"BAD_SRC"});let t=(e[1]||e[2]||e[3]||"github").replace(/\.(com|org)$/,"");if(!md.has(t))throw new pt("degit supports GitHub, GitLab, Sourcehut and BitBucket",{code:"UNSUPPORTED_HOST"});let r=e[4],s=e[5].replace(/\.git$/,""),n=e[6],o=e[7]||"HEAD",a=`${t}.${t==="bitbucket"?"org":t==="git.sr.ht"?"":"com"}`,l=`https://${a}/${r}/${s}`,h=`git@${a}:${r}/${s}`,u=md.has(t)?"tar":"git";return{site:t,user:r,name:s,ref:o,url:l,ssh:h,subdir:n,mode:u}}async function D1(i,e,t=null){return zv.extract({file:i,strip:t?t.split("/").length:1,C:e},t?[t]:[])}async function M1(i){try{let{stdout:e}=await yo(`git ls-remote ${i.url}`);return e.split(`
`).filter(Boolean).map(t=>{let[r,s]=t.split("	");if(s==="HEAD")return{type:"HEAD",hash:r};let n=/refs\/(\w+)\/(.+)/.exec(s);if(!n)throw new pt(`could not parse ${s}`,{code:"BAD_REF"});return{type:n[1]==="heads"?"branch":n[1]==="refs"?"ref":n[1],name:n[2],hash:r}})}catch(e){throw new pt(`could not fetch remote ${i.url}`,{code:"COULD_NOT_FETCH",url:i.url,original:e})}}function k1(i,e,t,r){let s=ss(b.default.join(i,"access.json"))||{};if(s[e.ref]=new Date().toISOString(),m.default.writeFileSync(b.default.join(i,"access.json"),JSON.stringify(s,null,"  ")),r[e.ref]===t)return;let n=r[e.ref];if(n){let o=!1;for(let a in r)if(r[a]===t){o=!0;break}if(!o)try{m.default.unlinkSync(b.default.join(i,`${n}.tar.gz`))}catch{}}r[e.ref]=t,m.default.writeFileSync(b.default.join(i,"map.json"),JSON.stringify(r,null,"  "))}fi.base=Vf;fi.createCommonjsModule=Ee;fi.degit=zf;fi.source=Ze;fi.tryRequire=ss});var Zf=w((OS,Yf)=>{"use strict";require("fs");require("path");var N1=Wf();require("events");require("stream");require("string_decoder");require("assert");require("buffer");require("zlib");require("util");require("crypto");require("os");require("tty");require("constants");require("https");require("child_process");require("url");require("net");require("tls");Yf.exports=N1.degit});var qo=mi(require("path"),1),Oe=mi(require("fs"),1),Lo=mi(tc(),1);var wc=mi(bc(),1),{program:oS,createCommand:aS,createArgument:lS,createOption:hS,CommanderError:uS,InvalidArgumentError:cS,Command:_c,Argument:dS,Option:fS,Help:mS}=wc.default;var Kf=mi(Zf(),1),F1="ou-app",gs=[{id:"vue",name:"vue3 template",url:"ouduidui/vue3-template"},{id:"ts",name:"typescript template",url:"ouduidui/typescript-template"},{id:"nuxt",name:"nuxt3 template",url:"ouduidui/nuxt3-template"},{id:"uniapp",name:"uniapp v3 template",url:"ouduidui/uniapp-template"}],P1=i=>!Oe.default.existsSync(i)||Oe.default.readdirSync(i).length===0,$1=()=>new Promise((i,e)=>{try{new _c().argument("[project-name]","project name",F1).option("-t, --template <template>",`choose a template (${gs.map(t=>t.id).join("|")})`).option("-r, --root","create in the current directory",!1).option("-f, --force","for force overwriting",!1).action((t,r)=>{i({name:t,opts:r})}).parse()}catch(t){e(t),console.log(t.message)}}),L1=i=>{!Oe.default.existsSync(i)||Xf(i,e=>Oe.default.rmdirSync(e),e=>Oe.default.unlinkSync(e))};function Xf(i,e,t){for(let r of Oe.default.readdirSync(i)){let s=qo.default.resolve(i,r);if(Oe.default.lstatSync(s).isDirectory()){Xf(s,e,t),e(s);continue}t(s)}}var q1=async()=>{let i=process.cwd(),{name:e,opts:t}=await $1();(!e||!t)&&process.exit(1);let r=t.template&&gs.find(h=>h.id===t.template)?t.template:"",s=t.root,n=t.force;if(r==="")try{r=(await(0,Lo.default)({name:"template",type:"select",choices:gs.map(u=>({title:u.name,value:u.id})),message:"Choose a template:"})).template}catch(h){console.log(h.message),process.exit(1)}finally{r||process.exit(1)}if(!n&&!P1(s?".":e))try{let{shouldOverwrite:h}=await(0,Lo.default)({name:"shouldOverwrite",type:"toggle",initial:!0,active:"Yes",inactive:"No",message:()=>`${s?"Current directory":`Target directory "${e}"`} is not empty. Remove existing files and continue?`});h?n=!0:process.exit(1)}catch(h){console.log(h.message),process.exit(1)}let o=s?i:qo.default.join(i,e);s||(Oe.default.existsSync(o)&&n?L1(o):Oe.default.existsSync(o)&&!n?(console.log(`Directory "${o}" already exists.`),process.exit(1)):Oe.default.mkdirSync(o)),console.log(`
Scaffolding project in ${o}...`);let a=gs.find(h=>h.id===r),l=(0,Kf.default)(a.url,{force:!0});l.on("warn",h=>console.log(h)),l.clone(o).then(()=>console.log("done"))};q1().catch(i=>{console.error(i)});
